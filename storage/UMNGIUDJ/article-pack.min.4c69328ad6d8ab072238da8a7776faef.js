(function(){function b(){var a="";for(var f in this)if(typeof this[f]!="function")a+=f+'="'+this[f]+'" ';return a}function c(){var a="";for(var f in this)if(typeof this[f]!="function")a+=f+"="+encodeURIComponent(this[f])+"&";return a.replace(/&$/,"")}var e;e=jQuery.fn.flash=function(a,f,l,p){var t=l||e.replace;f=e.copy(e.pluginOptions,f);if(!e.hasFlash(f.version))if(f.expressInstall&&e.hasFlash(6,0,65))var u={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:jQuery("title").text()}};
else if(f.update)t=p||e.update;else return this;a=e.copy(e.htmlOptions,u,a);return this.each(function(){t.call(this,e.copy(a))})};e.copy=function(){for(var a={},f={},l=0;l<arguments.length;l++){var p=arguments[l];if(p!=undefined){jQuery.extend(a,p);p.flashvars!=undefined&&jQuery.extend(f,p.flashvars)}}a.flashvars=f;return a};e.hasFlash=function(a,f,l){if(/hasFlash\=true/.test(location))return true;if(/hasFlash\=false/.test(location))return false;var p=e.hasFlash.playerVersion().match(/\d+/g);a=String([a,
f,l]).match(/\d+/g)||String(e.pluginOptions.version).match(/\d+/g);for(f=0;f<3;f++){p[f]=parseInt(p[f]||0);a[f]=parseInt(a[f]||0);if(p[f]<a[f])return false;if(p[f]>a[f])return true}return true};e.hasFlash.playerVersion=function(){try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(f){return"6,0,0"}}catch(l){}return(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(p){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||
navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"};e.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320};e.pluginOptions={expressInstall:false,update:true,version:"6.0.65"};e.replace=function(a){this.innerHTML='<div class="alt">'+this.innerHTML+"</div>";jQuery(this).addClass("flash-replaced").prepend(e.transform(a))};e.update=function(){var a=
String(location).split("?");a.splice(1,0,"?hasFlash=true&");a=a.join("");a='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player</a>. Already have Flash Player? <a href="'+a+'">Click here.</a></p>';this.innerHTML='<span class="alt">'+this.innerHTML+"</span>";jQuery(this).addClass("flash-update").prepend(a)};e.transform=function(a){a.toString=b;if(a.flashvars)a.flashvars.toString=c;return"<embed "+String(a)+"/>"};window.attachEvent&&window.attachEvent("onbeforeunload",
function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})})();
(function(b){b.fn.editable=function(c,e){if("disable"==c)b(this).data("disabled.editable",true);else if("enable"==c)b(this).data("disabled.editable",false);else if("destroy"==c)b(this).unbind(b(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");else{var a=b.extend({},b.fn.editable.defaults,{target:c},e),f=b.editable.types[a.type].plugin||function(){},l=b.editable.types[a.type].submit||function(){},p=b.editable.types[a.type].buttons||b.editable.types.defaults.buttons,
t=b.editable.types[a.type].content||b.editable.types.defaults.content,u=b.editable.types[a.type].element||b.editable.types.defaults.element,v=b.editable.types[a.type].reset||b.editable.types.defaults.reset,w=a.callback||function(){},x=a.onedit||function(){},y=a.onsubmit||function(){},g=a.onreset||function(){},h=a.onerror||v;a.tooltip&&b(this).attr("title",a.tooltip);a.autowidth="auto"==a.width;a.autoheight="auto"==a.height;return this.each(function(){var d=this,k=b(d).width(),s=b(d).height();b(this).data("event.editable",
a.event);b.trim(b(this).html())||b(this).html(a.placeholder);b(this).bind(a.event,function(o){if(true!==b(this).data("disabled.editable"))if(!d.editing)if(false!==x.apply(this,[a,d])){o.preventDefault();o.stopPropagation();a.tooltip&&b(d).removeAttr("title");if(0==b(d).width()){a.width=k;a.height=s}else{if(a.width!="none")a.width=a.autowidth?b(d).width():a.width;if(a.height!="none")a.height=a.autoheight?b(d).height():a.height}b(this).html().toLowerCase().replace(/(;|")/g,"")==a.placeholder.toLowerCase().replace(/(;|")/g,
"")&&b(this).html("");d.editing=true;d.revert=b(d).html();b(d).html("");var j=b("<form />");if(a.cssclass)"inherit"==a.cssclass?j.attr("class",b(d).attr("class")):j.attr("class",a.cssclass);if(a.style)if("inherit"==a.style){j.attr("style",b(d).attr("style"));j.css("display",b(d).css("display"))}else j.attr("style",a.style);var m=u.apply(j,[a,d]),q;if(a.loadurl){var r=setTimeout(function(){m.disabled=true;t.apply(j,[a.loadtext,a,d])},100);o={};o[a.id]=d.id;b.isFunction(a.loaddata)?b.extend(o,a.loaddata.apply(d,
[d.revert,a])):b.extend(o,a.loaddata);b.ajax({type:a.loadtype,url:a.loadurl,data:o,async:false,success:function(n){window.clearTimeout(r);q=n;m.disabled=false}})}else if(a.data){q=a.data;if(b.isFunction(a.data))q=a.data.apply(d,[d.revert,a])}else q=d.revert;t.apply(j,[q,a,d]);m.attr("name",a.name);p.apply(j,[a,d]);b(d).append(j);f.apply(j,[a,d]);b(":input:visible:enabled:first",j).focus();a.select&&m.select();m.keydown(function(n){if(n.keyCode==27){n.preventDefault();v.apply(j,[a,d])}});if("cancel"==
a.onblur)m.blur(function(){r=setTimeout(function(){v.apply(j,[a,d])},500)});else if("submit"==a.onblur)m.blur(function(){r=setTimeout(function(){j.submit()},200)});else b.isFunction(a.onblur)?m.blur(function(){a.onblur.apply(d,[m.val(),a])}):m.blur(function(){});j.submit(function(n){r&&clearTimeout(r);n.preventDefault();if(false!==y.apply(j,[a,d]))if(false!==l.apply(j,[a,d]))if(b.isFunction(a.target)){n=a.target.apply(d,[m.val(),a]);b(d).html(n);d.editing=false;w.apply(d,[d.innerHTML,a]);b.trim(b(d).html())||
b(d).html(a.placeholder)}else{n={};n[a.name]=m.val();n[a.id]=d.id;b.isFunction(a.submitdata)?b.extend(n,a.submitdata.apply(d,[d.revert,a])):b.extend(n,a.submitdata);if("PUT"==a.method)n._method="put";b(d).html(a.indicator);var A={type:"POST",data:n,dataType:"html",url:a.target,success:function(z){A.dataType=="html"&&b(d).html(z);d.editing=false;w.apply(d,[z,a]);b.trim(b(d).html())||b(d).html(a.placeholder)},error:function(z){h.apply(j,[a,d,z])}};b.extend(A,a.ajaxoptions);b.ajax(A)}b(d).attr("title",
a.tooltip);return false})}});this.reset=function(o){if(this.editing)if(false!==g.apply(o,[a,d])){b(d).html(d.revert);d.editing=false;b.trim(b(d).html())||b(d).html(a.placeholder);a.tooltip&&b(d).attr("title",a.tooltip)}}})}};b.editable={types:{defaults:{element:function(){var c=b('<input type="hidden"></input>');b(this).append(c);return c},content:function(c){b(":input:first",this).val(c)},reset:function(c,e){e.reset(this)},buttons:function(c,e){var a=this;if(c.submit){if(c.submit.match(/>$/))var f=
b(c.submit).click(function(){f.attr("type")!="submit"&&a.submit()});else{f=b('<button type="submit" />');f.html(c.submit)}b(this).append(f)}if(c.cancel){if(c.cancel.match(/>$/))var l=b(c.cancel);else{l=b('<button type="cancel" />');l.html(c.cancel)}b(this).append(l);b(l).click(function(){(b.isFunction(b.editable.types[c.type].reset)?b.editable.types[c.type].reset:b.editable.types.defaults.reset).apply(a,[c,e]);return false})}}},text:{element:function(c){var e=b("<input />");c.width!="none"&&e.width(c.width);
c.height!="none"&&e.height(c.height);e.attr("autocomplete","off");b(this).append(e);return e}},textarea:{element:function(c){var e=b("<textarea />");if(c.rows)e.attr("rows",c.rows);else c.height!="none"&&e.height(c.height);if(c.cols)e.attr("cols",c.cols);else c.width!="none"&&e.width(c.width);b(this).append(e);return e}},select:{element:function(){var c=b("<select />");b(this).append(c);return c},content:function(c,e,a){if(String==c.constructor)eval("var json = "+c);else var f=c;for(var l in f)if(f.hasOwnProperty(l))if("selected"!=
l){c=b("<option />").val(l).append(f[l]);b("select",this).append(c)}b("select",this).children().each(function(){if(b(this).val()==f.selected||b(this).text()==b.trim(a.revert))b(this).attr("selected","selected")})}}},addInputType:function(c,e){b.editable.types[c]=e}};b.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);
(function(b){jQuery.fn.tagInput=function(c){if(!c.tags&&!c.jsonUrl)c.tags=[{tag:"tag1",freq:1},{tag:"tag2",freq:2},{tag:"tag3",freq:3},{tag:"tag4",freq:4}];if(typeof c.tagSeparator=="undefined")c.tagSeparator=",";if(typeof c.autoFilter=="undefined")c.autoFilter=true;if(typeof c.autoStart=="undefined")c.autoStart=false;if(typeof c.boldify=="undefined")c.boldify=true;if(typeof c.sortBy=="undefined")c.sortBy="tag";if(typeof c.freqKey=="undefined")c.freqKey="freq";var e,a=function(){b(this);b().stopTime("suggTagRefresh");
b().oneTime(400,"suggTagRefresh",function(){f(e)})},f=function(g){var h=g.val();c.suggestedTagsPlaceHolder.find(".tag").each(function(){var d=b(this),k=d.text();y(h,k)?d.addClass("tagUsed"):d.removeClass("tagUsed")})},l=function(){theDiv=b("#__tagInputDiv");if(theDiv.size()<=0){theDiv=b("<div id='__tagInputDiv' class='tagInputDiv' style='width:"+e.get(0).clientWidth+";display:none; '></div>");e.after(theDiv);theDiv.css({left:e.position().left})}c.autoStart&&w(e,theDiv)},p=function(){theDiv=b("#__tagInputDiv");
e.val(x(e.val()));theDiv.fadeOut(200,function(){theDiv.remove()})},t=function(g){var h=theDiv.find("div.tagInputLine"),d=h.index(theDiv.find("div.tagInputSel")),k=true;switch(g.which){case 38:d=d<1?0:d-1;u(h.eq(d),true);break;case 40:d=d<h.size()-1?d+1:h.size()-1;u(h.eq(d),false);break;case 9:case 13:if(theDiv.is(":visible")){g=h.eq(d);v(g);k=false}break;case 27:theDiv.fadeOut(200);break;default:b(document).stopTime("tagInputRefresh");b(document).oneTime(400,"tagInputRefresh",function(){w()});break}return k},
u=function(g,h){if(g.size()>0){var d=theDiv.get(0),k=g.get(0);if(h)theDiv.scrollTop()>k.offsetTop&&theDiv.scrollTop(k.offsetTop);else if(k.offsetTop+k.offsetHeight>d.scrollTop+d.offsetHeight)d.scrollTop=k.offsetTop+k.offsetHeight-d.offsetHeight;theDiv.find("div.tagInputSel").removeClass("tagInputSel");g.addClass("tagInputSel")}},v=function(g){var h=e.val().lastIndexOf(c.tagSeparator),d=h<=0?"":c.tagSeparator+(c.tagSeparator==" "?"":" ");g=(e.val().substr(0,h)+d+g.find(".tagInputLineTag").text()).trim();
e.val(g+" ");theDiv.hide().remove();b().oneTime(200,function(){e.focus()})},w=function(){var g=e.val().lastIndexOf(c.tagSeparator),h=e.val().substr(g+1).trim();g=function(d){if(c.sortBy=="frequency")d=d.sort(function(r,n){if(r[c.freqKey]<n[c.freqKey])return 1;if(r[c.freqKey]>n[c.freqKey])return-1;return 0});else if(c.sortBy=="tag")d=d.sort(function(r,n){if(r.tag<n.tag)return-1;if(r.tag>n.tag)return 1;return 0});for(var k in d){var s=d[k],o=s.tag.toLocaleLowerCase().indexOf(h.toLocaleLowerCase()),
j=o>=0;if(!c.autoFilter||j){var m=b("<div class='tagInputLine'></div>"),q=s.tag;if(c.boldify&&j)q=q.substring(0,o)+"<b>"+q.substring(o,o+h.length)+"</b>"+q.substring(o+h.length);m.append("<div class='tagInputLineTag'>"+q+"</div>");s[c.freqKey]&&m.append("<div class='tagInputLineFreq'>"+s[c.freqKey]+"</div>");theDiv.append(m)}}theDiv.html()!=""&&theDiv.fadeIn("fast");theDiv.find("div:first").addClass("tagInputSel");theDiv.find("div.tagInputLine").bind("click",function(){v(b(this))})};if(h!=""||c.autoStart){theDiv.html("");
c.tags?g(c.tags):b.getJSON(c.jsonUrl,{search:h},g)}else theDiv.fadeOut(200)},x=function(g){g=g.split(c.tagSeparator);for(var h="",d=true,k=0;k<g.length;k++)if(g[k].trim()!="")if(d){d=false;h+=g[k].trim()}else h=h+c.tagSeparator+(c.tagSeparator==" "?"":" ")+g[k].trim();return h+" "},y=function(g,h){g=g.split(c.tagSeparator);var d=false;h=h.trim();for(i=0;i<g.length;i++)if(g[i].trim()==h){d=true;break}return d};this.each(function(){e=b(this);e.addClass("tagInput");e.tagOptions=c;var g=c.suggestedTagsPlaceHolder;
if(c.suggestedTags){if(!g){var h=b("<div class='tagInputSuggestedTags'><span class='label'>suggested tags: </span><span class='tagInputSuggestedTagList'></span></div>");g=h.find(".tagInputSuggestedTagList");e.after(h)}for(h=0;h<c.suggestedTags.length;h++){var d=c.suggestedTags[h],k=d.tag,s;s=d.tag.charAt(0)=="*"?"ptag tag":"tag";d.suggested?g.append(b("<span class='"+s+"'><span class='suggested'>"+k+"</span></span>")):g.append(b("<span class='"+s+"'>"+k+"</span>"))}g.find(".tag").click(function(){var o=
b(this),j=e.val(),m=o.text(),q;q=m.charAt(0)=="*"?new RegExp("\\"+m+"\\b","g"):new RegExp(m+"\\b","g");if(y(j,m)){j=j.replace(q,"");o.removeClass("tagUsed")}else{j=j+c.tagSeparator+m;o.addClass("tagUsed")}e.focus();e.val(x(j))});f(e)}b(this).bind("focus",l).bind("blur",p).bind("keydown",t);c.suggestedTags&&b(this).bind("keyup",a)});return this}})(jQuery);
