(function(e){Drupal.behaviors.panels_ajax_pane={attach:function(a){e('.panels-ajax-pane',a).once('panels-ajax-pane-once',function(){(function(a){e.ajax({type:'POST',data:Drupal.settings.panels_ajax_pane[a.data('pid')],url:Drupal.settings.basePath+'panels_ajax_pane/render',cache:!0,error:function(e,n,a){if(typeof console=='object'){console.error('Panels Ajax Pane Error: '+a)}}}).done(function(n){$title_span=e('span.panels-ajax-pane-title[data-pid='+a.data('pid')+']');if(n['markup']===!1){a.closest('.pane-panels-ajax-pane-content').remove();a.remove();$title_span.closest('.pane-title').remove();$title_span.parent().remove()}
else{a.append(n['markup']);$title_span.append(n['title']);a.find('style').append('head')};if(n['title']===!1){$title_span.closest('.pane-title').remove();$title_span.parent().remove()};Drupal.attachBehaviors(a)})})(e(this))})}}})(jQuery);(function(a){Drupal.behaviors.highwire_access_indicator={attach:function(i,c){var s=[];$access_icons=a('span.highwire-citation-access-check, span.highwire-citation-pdf-download');$access_icons.each(function(){var i={pisa_id:a(this).closest('[data-pisa-id]').data('pisa-id'),apath:a(this).closest('[data-apath]').data('apath'),view:a(this).data('request-view'),};if(a(this).data('claim-seat-license')=='yes'){i['claim_seat_license']=a(this).data('claim-seat-license')};s.push(i)});if(s.length>0){a.ajax({url:'/highwire/articlecitation/ac',type:'POST',data:{'items':s},success:function(i){$access_icons.each(function(t){var s=a(this),h=a(this).closest('[data-pisa-id]').data('pisa-id'),n=a(this).closest('[data-apath]').data('apath'),c=s.data('request-view');if(h){var e=h+'||'+c}
else if(n){var e=n+'||'+c};if(i[e]['access'][c]!=undefined&&i[e]['access'][c]==!0){if(s.hasClass('highwire-citation-access-check')){s.children('.highwire-access-icon-user-access').show();s.children('.highwire-access-icon-no-access').hide()}
else if(s.hasClass('highwire-citation-pdf-download')){s.show()}}
else{s.children('.highwire-access-icon-no-access').show();s.children('.highwire-access-icon-user-access').hide()}})},})}}}}(jQuery));