var Site={openWin:function(url, width, height) {window.open(url,'_image','width=' + width + ',height=' + height + ',toolbar=0');},textSizes:Array("","large","larger"),textSizeIncreaseClass:"increaseTextSize",textSizeDecreaseClass:"decreaseTextSize",textSizeInactiveClass:"inactive",textSizeCookieName:"siteTextSize",_clickEvents:Array(),_currentTextSize:0,catchClickEvent:function(className,fn){this._clickEvents[className]=fn;},_clickHandler:function(e){var target=YAHOO.util.Event.getTarget(e);for(className in Site._clickEvents){if(YAHOO.util.Dom.hasClass(target,className)){Site._clickEvents[className](target);YAHOO.util.Event.preventDefault(e);return false;}}return true;},setCookie:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else{var expires="";}document.cookie=name+"="+value+expires+"; path=/";},getCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length);}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length);}}return null;},increaseTextSize:function(){Site._updateTextSize(Site.textSizes.length-Site._currentTextSize-1,1);},decreaseTextSize:function(){Site._updateTextSize(Site._currentTextSize,-1);},_updateTextSize:function(limit,step,isInit){if(limit>0){if(this.textSizes[this._currentTextSize].length>0){YAHOO.util.Dom.removeClass(document.body,this.textSizes[this._currentTextSize]);}this._currentTextSize+=step;YAHOO.util.Dom.addClass(document.body,this.textSizes[this._currentTextSize]);if(!isInit){if(this._currentTextSize==0){this.setCookie(this.textSizeCookieName,"",-1);}else{this.setCookie(this.textSizeCookieName,this._currentTextSize,365);}}if(this._currentTextSize==0){YAHOO.util.Dom.addClass(YAHOO.util.Dom.getElementsByClassName(this.textSizeDecreaseClass),this.textSizeInactiveClass);}else{YAHOO.util.Dom.removeClass(YAHOO.util.Dom.getElementsByClassName(this.textSizeDecreaseClass),this.textSizeInactiveClass);if(this._currentTextSize==this.textSizes.length-1){YAHOO.util.Dom.addClass(YAHOO.util.Dom.getElementsByClassName(this.textSizeIncreaseClass),this.textSizeInactiveClass);}else{YAHOO.util.Dom.removeClass(YAHOO.util.Dom.getElementsByClassName(this.textSizeIncreaseClass),this.textSizeInactiveClass);}}}},_initTextSize:function(){var textSize=this.getCookie(this.textSizeCookieName);textSize=textSize&&!isNaN(textSize)?parseInt(textSize):0;this._updateTextSize(Site.textSizes.length-1,textSize,true);this.catchClickEvent(this.textSizeIncreaseClass,this.increaseTextSize);this.catchClickEvent(this.textSizeDecreaseClass,this.decreaseTextSize);},_initTickers:function(){var tickers=YAHOO.util.Dom.getElementsByClassName("ticker");for(var i=0;i<tickers.length;i++){var tickerId=tickers[i].id;if(tickerId!=null){tickerId=tickers[i].id="SE-ticker"+i;var uls=YAHOO.util.Dom.getElementsByClassName("carousel-list",null,tickers[i]);if(uls.length>0){var lis=uls[0].getElementsByTagName("li");for(var j=0;j<lis.length;j++){lis[j].id=tickerId+"-item-"+j;}new YAHOO.extension.Carousel(tickerId,{numVisible:1,animationSpeed:0.7,animationMethod:YAHOO.util.Easing.easeOutStrong,scrollInc:1,wrap:true,size:3,autoPlay:3000});}}}},init:function(){this._initTextSize();this._initTickers();YAHOO.util.Event.addListener(document,"click",this._clickHandler);}};YAHOO.util.Event.onDOMReady(Site.init,null,Site);
