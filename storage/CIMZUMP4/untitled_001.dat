var SMActionItemType='{ "0" : "WidgetPanelExpanded" , "1" : "WidgetPanelCollasped"}';var ActionURL=location.href;var asyncTracking=true;function ActionType(a,b){this.ActionFilterKey=a;this.ActionFilterValue=b}function UserSessionItem(b,a,c){this.SessionID=b;this.ClientID=a;this.SiteID=c}function UserSessionItemDetail(c,a,d,b,e){this.SessionID=c;this.ClientID=a;this.SiteID=d;this.institutionID=b;this.UserID=e}function UserTracking(c,b,a,e,d){this.ActionFilterType=c;this.ActionDescription=b;this.ActionDateTime=a;this.UserSessionItem=e;this.ActionURL=d}UserTracking.prototype.toJson=function(){return JSON.stringify(this)};function dostatstracking(d,c,b,g,f,e){var h=new UserTracking(d,c,b,g,f);var a="ClientTrackingHandler.ashx";$.ajax({type:"POST",url:a,data:h.toJson(),contentType:"application/json; charset=utf-8",dataType:"json",async:asyncTracking,processData:true,success:function(j){var k=j;callbackFn(k)},error:function(j){callbackFn(j.status)}})}function callbackFn(a){}function doTracking(c,b,a,e,d){mydotracking(c,b,a,e,d,callbackFn)}function doTracking(c,b,a,f,e,d){if(d=="sync"){asyncTracking=false}dostatstracking(c,b,a,f,e,callbackFn)}String.prototype.format=function(){var b,a;b=this;a=arguments.length;while(a--){b=b.replace(new RegExp("\\{"+a+"\\}","gm"),arguments[a])}return b};var JumpId="";$(document).ready(function(){if($(".contentSectionTab").find(".PubHistory")){var b=$(".contentSectionTab").find(".PubHistory");$(b).parents(".contentSectionTab").hide()}$(".crsRef").click(function(){var d=$(this).context.innerText;var c="CrossReferenceLink";this.UserSessionItem=new UserSessionItem("<%=Me.Session.SessionID %>",0,0);this.ActionType=new ActionType(1,c);doTracking(this.ActionType,d.toString(),"<%=System.DateTime.Now %>",this.UserSessionItem,(window.location).toString())});$(".pubmedLink").click(function(){var d=$(this).attr("href");var c="CrossReferenceLink";this.UserSessionItem=new UserSessionItem("<%=Me.Session.SessionID %>",0,0);this.ActionType=new ActionType(1,c);doTracking(this.ActionType,d.toString(),"<%=System.DateTime.Now %>",this.UserSessionItem,(window.location).toString())});$("#txtUserAlertEmailAddress").val($("#hfOriginalEmailAddress").val());var a=$.browser;if(a.mozilla&&parseInt(a.version)<2){$(".saveMyStuff").click(function(){var c=this.id;AddItemstoMyStuff(c)})}});function detailsHandler(b){var a=document.getElementById("scm6MainContent_ucGetCitation_articleId").value;b=b+"&articleid="+a;window.location=b}MyResource.prototype.toJson=function(){return JSON.stringify(this)};function MyResource(b,a){this.ResourceType=b;this.ResourceId=a}function ResourceAccess(a,b){this.hasAccess=a;this.resourcePdfUrl=b}function isUserSubscribedToResource(e,d){var b=new MyResource(e,d);var a="CheckAccessToResource.ashx";var c=null;$.ajax({type:"POST",url:a,data:b.toJson(),contentType:"application/json; charset=utf-8",async:false,dataType:"json",processData:false,success:function(f){c=new ResourceAccess(f.hasAccess,f.resourcePdfurl)},error:function(f){alert(f.status+" "+f.statusText)}});return c}$(document).ready(function(){$(".signOn").find(".defaultHeader").text("Sign in to Access Full Content");$(".dataSupplLinkXSLT").click(function(){$(".dataSupplementLink").trigger("click")});$(".disclosureLink").click(function(){$(".disclosureText").toggle();$(this).children("span").toggle();return false});var c=false;$(".article").find(".contentSectionTab").each(function(){var g=$(this).css("display")=="none"?true:false;if(g==true){$(this).remove()}b(this);var h;if($(this).find("a.jumpLinkAnchor").attr("name")=="References"){h=$(this);$(".backExtraSection").each(function(){$(h).before(this)});c=true}});var d="";$(".backExtraSection").each(function(){if(!(c)){d=d+"<div class='para'>"+$(this).html()+"</div>";$(this).remove()}});if(d.length>0){var a=$(".contentSectionTab");var e=a.length-1;a.eq(e).append(d)}function b(j){var h=$(j).find(".jumpLinkAnchor").attr("name")?true:false;if(h==false){$(j).find(".jumpLinkAnchor").remove()}var g=$(j).find(".contentBody").children("span").text()?true:false;if(g==false){$(j).find(".contentBody").remove()}var l=$(j).find(".lblSubTitle").text()?true:false;var k=$(j).find(".sectionHeader").children("span").text()?true:false;if(k==false){$(j).find(".contentJump").remove()}var m=$(j).find(".sectionTop").css("display");if(m=="none"){$(j).find(".sectionTop").remove()}if(h==false&&g==false){if(l==false){if(k==false){$(j).remove()}}}else{if($(j).index()==1){$(this).find(".sectionTop").addClass("first")}}}$(".contentBodyContainer").each(function(){var h=$(this).find(".jumpLinkAnchor").attr("name");if(h==undefined){$(this).parent(".sectionTop").remove()}var g="#"+h});if($(".contentDate .publicationDate").length>0){if($(".contentDate .epub").length==0){$(".publicationDate").show()}}$(".subTitleSection").each(function(){var g=$(this).find(".lblSubTitle").text().length?true:false;if(g==false){$(this).remove()}});$(".sectionTop .contentJump").each(function(){var g=$(this).find("h2 span").text();$(this).find(".jumpLinks a").each(function(){if(g.toUpperCase()==$.trim($(this).text().toUpperCase())){$(this).addClass("active")}})});if($(".contentDate .publicationDate").length>0){if($(".contentDate .epub").length==0){$(".publicationDate").show()}}var f;$(".contentBody").each(function(){var l=$(this).parents(".contentContainer").attr("id");var j=$(this).find("span").attr("class");if(j!=undefined){var k=j.split(" ");if(k[0]=="BlockQuote"){$(this).parents(".contentSectionTab").next().find(".contentBody").addClass("BlockQuote");f=$(this).parents(".contentSectionTab").next().find(".contentBody").children("span").attr("class").split(" ")}if(f!=undefined){if(f[1]==k[1]){$(this).addClass("BlockQuote")}}}if($(this).find(".inlineVideo").length>0&&$(this).find("[class^=Video]").length>0){$(this).addClass("figureSection");$(this).addClass("inlineVideoSection")}if($(this).find(".inlineFigureImage").length>0){var h=$(this).find(".figureLinks a:nth-child(1)").attr("class");var g="";if(h=="popUpFigure"){g="figureSection"}else{if(h=="popUpTable"){g="tableSection"}}$(this).addClass(g).append('<div class="inlineFigure"></div>');$(this).find(".inlineFigure").append($(this).find(".inlineFigureImage"));var n="#tab1 ."+g;$(n).prev(".subTitleSection").prependTo(this);var m=$(this);m.find("a").each(function(){if($(this).attr("name")!=undefined){switch(l){case"tab1":$(this).parents(".contentBody").prepend(this);break;case"tab2":$(this).parents(".contentBody").prepend(this);break;case"tab3":var o="#"+$(this).attr("name");$(this).siblings(".inlineFigure").find(".viewInContext a").attr("href",o);$(this).remove();break}}});m.find(".tableDialog").each(function(){var o=$(this).parents(".tableSection");if($(this).find("h6").length){$(this).find("h6").after(o.find(".inlineFigureImageContainer").find(".contentFigures").clone())}else{$(this).append(o.find(".inlineFigureImageContainer").find(".contentFigures").clone())}if(l=="tab3"){o.find(".figureLegend").empty().append($(this).find(".tableLabel").clone())}$.trim($(this).find(".table-footer .para").html())});m.find(".figureLegend").each(function(){$(this).siblings(".figureLabel").appendTo($(this));$(this).siblings(".figureCaption").appendTo($(this))});m.find(".figureDialog").each(function(){var o=$(this).parents(".figureSection");$(this).prepend(o.find(".figureLegend").clone())})}})});$(document).ready(function(){$(".formContainer input[type=text]").focus(function(){$(this).parent().find(".error").css("display","none");$(this).parent().find(".info").css("display","block");$(this).css("border","1px solid #ccc")}).blur(function(){if($(this).hasClass("required")&&$(this).val()==""){$(this).css("border","1px solid red");$(this).parent().find(".error").text("This field is required!").css("display","block")}$(this).parent().find(".info").css("display","none")});$(".formContainer textarea").focus(function(){$(this).parent().find(".error").css("display","none");$(this).parent().find(".info").css("display","block");$(this).css("border","1px solid #ccc")}).blur(function(){if($(this).hasClass("required")&&$(this).val()==""){$(this).css("border","1px solid red");$(this).parent().find(".error").text("This field is required!").css("display","block")}$(this).parent().find(".info").css("display","none")})});function validateForm(a){$("#"+a+" input[type=text]").each(function(){var d=$(this).parent().find(".error");var h=$(this).attr("value");var k=$(this).attr("class").split(" ");var e=0,f=0;var b;var g;var c;do{c=$(k)[e];switch(c){case"email":case"emailRecipient":if(h!=""){if(c=="email"){b=validateEmail(h)}if(c=="emailRecipient"){b=validateMultipleEmails(h)}if(b==false){g="Enter a valid e-mail address.";$(d).text(g).css("display","block");$(this).css("border","1px solid red")}return false}else{return true}break;case"url":if(h!=""){b=testPattern($.trim(h),"^https?://(.+.)+.{2,4}(/.*)?$");if(b==false){g="Enter a valid URL!";$(d).text(g).css("display","block");$(this).css("border","1px solid red")}return false}else{return true}break;case"required":case"name":case"instName":if(h==""){g="This field is required!";$(d).text(g).css("display","block");$(this).css("border","1px solid red")}else{$(this).css("border","1px solid #ccc");return true}break}e++}while(e<k.length)});$("#"+a+" textarea").each(function(){if($(this).hasClass("required")&&$(this).val()==""){$(this).css("border","1px solid red");$(this).parent().find(".error").text("This field is required!").css("display","block");return false}else{$(this).parent().find(".info").css("display","none");return true}})}var testPattern=function(c,a){var b=new RegExp(a,"");return b.test(c)};function trim(b,a){return ltrim(rtrim(b,a),a)}function ltrim(b,a){a=a||"\\s";return b.replace(new RegExp("^["+a+"]+","g"),"")}function rtrim(b,a){a=a||"\\s";return b.replace(new RegExp("["+a+"]+$","g"),"")}function validateEmail(a){var b=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return(b.test(trim(a)))?true:false}function validateMultipleEmails(c){var b=c.split(";");for(var a=0;a<b.length;a++){if(!validateEmail(b[a])){return false}}return true}function clearForm(){$(".formContainer input[type=text], .formContainer textarea").each(function(){$(this).parent().find(".error").css("display","none");$(this).css("border","1px solid #ccc")})}$(document).ready(function(){if(!isMobile){$(".inlineFigure").figureEnlarger({maxWidth:570,minWidth:180});$(".figureSection").each(function(){var b=$(this).find(".inlineDisplayTable");if($(b).length){$(b).parents(".tableContainer").unwrap();$(this).empty().append(b).removeClass("figureSection")}});$(".tableSection").each(function(){$(this).prepend($(this).find(".tableContainer").children("a"));var b=$(this).find(".inlineDisplayTable");if($(b).length){$(b).parents(".tableContainer").unwrap();$(this).empty().append(b).removeClass("tableSection")}});$("#tab3").find(".inlineDisplayTable").parent(".contentBody").remove();$(".viewInContext").click(function(){$("div.contentContainer").hide();$(".tabNav div a").removeClass("selected");$(".tabNav .atab:nth-child(1) a").addClass("selected").show();$("#tab1").show()});$(".figureTitle").each(function(){var b=$(this).siblings("p");$(this).prependTo(b)});if(isAuthenticated){if($("#tab2").find(".popUpFigure").length){$(".rotatorFigLink").click(function(b){b.preventDefault();var c=$(".rotatorFigLink").index(this);$(".popUpFigure:eq("+c+")").trigger(b)})}}var a=$("#tab2 .inlineFigureImageContainer").length;if(a=="0"){$(".figureRotatorContainer").hide()}else{if($(".figureRotator ul li").size()<=3){$(".figureRotatorContainer .figNext, .figureRotatorContainer .figPrev").addClass("disabled")}else{$(".figureRotator .figPrev").addClass("disabled")}$(".figureRotator").jCarouselLite({btnNext:".figNext",btnPrev:".figPrev",mouseWheel:true,visible:3,circular:false})}}});(function(a){a.fn.figureEnlarger=function(f){var g={maxWidth:540,minWidth:180,button_close:"/Images/buttons/b_imgclose.gif",button_expand:"/Images/buttons/b_imgexpand.gif",mediumImage:"",smallImage:""};var e=a(this);if(f){a.extend(g,f)}a(e).find(".enlargeImage").click(function(h){h.preventDefault();c(this,"button")});a(e).find(".contentFigures").click(function(h){h.preventDefault();if(a(this).parents(".ui-dialog").length<1){c(this,"image")}});function c(j,k){var l;switch(k){case"button":l=a(j).parent().find(".inlineFigureImageContainer .contentFigures")[0].width;g.smallImage=a(j).parent().find(".inlineFigureImageContainer .contentFigures").attr("src");g.mediumImage=g.smallImage.replace("s_","m_");var m=a(j).parent(".inlineFigureImage").find(".inlineFigureImageContainer").find(".contentFigures");if(l==g.minWidth){b(m,j,false,g.maxWidth,g.mediumImage)}else{b(m,j,true,g.minWidth,g.smallImage)}break;case"image":l=a(j).width();g.smallImage=a(j).attr("src");g.mediumImage=g.smallImage.replace("s_","m_");var h=a(j).parents(".inlineFigureImage").find("enlineFigure");if(l==g.minWidth){d(j,h,false,g.maxWidth,g.mediumImage)}else{d(j,h,true,g.minWidth,g.smallImage)}break}}function b(k,h,m,l,j){a(k).attr("src",j).animate({width:l+"px"},{duration:600,complete:function(){equalHeight(a(".eqColumn"))}});if(m){a(h).children(".btnImageEnlarger").removeClass("open")}else{a(h).children(".btnImageEnlarger").addClass("open")}return false}function d(k,h,m,l,j){a(k).attr("src",j).animate({width:l+"px"},{duration:600,complete:function(){equalHeight(a(".eqColumn"))}});if(m){a(h).children(".btnImageEnlarger").removeClass("open")}else{a(h).children(".btnImageEnlarger").addClass("open")}return false}}})(jQuery);
/*
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
var mejs=mejs||{};mejs.version="2.6.5";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}],youtube:[{version:null,types:["video/youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(b){var a=document.createElement("div");a.innerHTML='<a href="'+this.escapeHTML(b)+'">x</a>';return a.firstChild.href},getScriptPath:function(h){var a=0,c,f="",e="",g,k=document.getElementsByTagName("script"),b=k.length,d=h.length;for(;a<b;a++){g=k[a].src;for(c=0;c<d;c++){e=h[c];if(g.indexOf(e)>-1){f=g.substring(0,g.indexOf(e));break}}if(f!==""){break}}return f},secondsToTimeCode:function(j,a,h,b){if(typeof h=="undefined"){h=false}else{if(typeof b=="undefined"){b=25}}var d=Math.floor(j/3600)%24,e=Math.floor(j/60)%60,g=Math.floor(j%60),c=Math.floor(((j%1)*b).toFixed(3)),f=((a||d>0)?(d<10?"0"+d:d)+":":"")+(e<10?"0"+e:e)+":"+(g<10?"0"+g:g)+((h)?":"+(c<10?"0"+c:c):"");return f},timeCodeToSeconds:function(c,a,d,b){if(typeof d=="undefined"){d=false}else{if(typeof b=="undefined"){b=25}}var e=c.split(":"),g=parseInt(e[0],10),j=parseInt(e[1],10),k=parseInt(e[2],10),f=0,h=0;if(d){f=parseInt(e[3])/b}h=(g*3600)+(j*60)+k+f;return h},removeSwf:function(a){var b=document.getElementById(a);if(b&&b.nodeName=="OBJECT"){if(mejs.MediaFeatures.isIE){b.style.display="none";(function(){if(b.readyState==4){mejs.Utility.removeObjectInIE(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}},removeObjectInIE:function(b){var c=document.getElementById(b);if(c){for(var a in c){if(typeof c[a]=="function"){c[a]=null}}c.parentNode.removeChild(c)}}};mejs.PluginDetector={hasPluginVersion:function(a,c){var b=this.plugins[a];c[1]=c[1]||0;c[2]=c[2]||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(d,e,c,a,b){this.plugins[d]=this.detectPlugin(e,c,a,b)},detectPlugin:function(j,h,a,c){var k=[0,0,0],d,g,b;if(typeof(this.nav.plugins)!="undefined"&&typeof this.nav.plugins[j]=="object"){d=this.nav.plugins[j].description;if(d&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[h]&&!this.nav.mimeTypes[h].enabledPlugin)){k=d.replace(j,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(g=0;g<k.length;g++){k[g]=parseInt(k[g].match(/\d+/),10)}}}else{if(typeof(window.ActiveXObject)!="undefined"){try{b=new ActiveXObject(a);if(b){k=c(b)}}catch(f){}}}return k}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var c=[],b=a.GetVariable("$version");if(b){b=b.split(" ")[1].split(",");c=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)]}return c});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var c=[0,0,0,0],b=function(d,g,e,f){while(d.isVersionSupported(g[0]+"."+g[1]+"."+g[2]+"."+g[3])){g[e]+=f}g[e]-=f};b(a,c,0,1);b(a,c,1,1);b(a,c,2,10000);b(a,c,2,1000);b(a,c,2,100);b(a,c,2,10);b(a,c,2,1);b(a,c,3,1);return c});mejs.MediaFeatures={init:function(){var f=this,a=document,e=mejs.PluginDetector.nav,g=mejs.PluginDetector.ua.toLowerCase(),c,h,b=["source","track","audio","video"];f.isiPad=(g.match(/ipad/i)!==null);f.isiPhone=(g.match(/iphone/i)!==null);f.isiOS=f.isiPhone||f.isiPad;f.isAndroid=(g.match(/android/i)!==null);f.isBustedAndroid=(g.match(/android 2\.[12]/)!==null);f.isIE=(e.appName.toLowerCase().indexOf("microsoft")!=-1);f.isChrome=(g.match(/chrome/gi)!==null);f.isFirefox=(g.match(/firefox/gi)!==null);f.isWebkit=(g.match(/webkit/gi)!==null);f.isGecko=(g.match(/gecko/gi)!==null)&&!f.isWebkit;f.isOpera=(g.match(/opera/gi)!==null);f.hasTouch=("ontouchstart" in window);for(c=0;c<b.length;c++){h=document.createElement(b[c])}f.supportsMediaTag=(typeof h.canPlayType!=="undefined"||f.isBustedAndroid);f.hasSemiNativeFullScreen=(typeof h.webkitEnterFullscreen!=="undefined");f.hasWebkitNativeFullScreen=(typeof h.webkitRequestFullScreen!=="undefined");f.hasMozNativeFullScreen=(typeof h.mozRequestFullScreen!=="undefined");f.hasTrueNativeFullScreen=(f.hasWebkitNativeFullScreen||f.hasMozNativeFullScreen);f.nativeFullScreenEnabled=f.hasTrueNativeFullScreen;if(f.hasMozNativeFullScreen){f.nativeFullScreenEnabled=h.mozFullScreenEnabled}if(this.isChrome){f.hasSemiNativeFullScreen=false}if(f.hasTrueNativeFullScreen){f.fullScreenEventName=(f.hasWebkitNativeFullScreen)?"webkitfullscreenchange":"mozfullscreenchange";f.isFullScreen=function(){if(h.mozRequestFullScreen){return a.mozFullScreen}else{if(h.webkitRequestFullScreen){return a.webkitIsFullScreen}}};f.requestFullScreen=function(d){if(f.hasWebkitNativeFullScreen){d.webkitRequestFullScreen()}else{if(f.hasMozNativeFullScreen){d.mozRequestFullScreen()}}};f.cancelFullScreen=function(){if(f.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{if(f.hasMozNativeFullScreen){document.mozCancelFullScreen()}}}}if(f.hasSemiNativeFullScreen&&g.match(/mac os x 10_5/i)){f.hasNativeFullScreen=false;f.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(d){var a=this.getElementsByTagName("source");while(a.length>0){this.removeChild(a[0])}if(typeof d=="string"){this.src=d}else{var b,c;for(b=0;b<d.length;b++){c=d[b];if(this.canPlayType(c.type)){this.src=c.src}}}},setVideoSize:function(b,a){this.width=b;this.height=a}};mejs.PluginMediaElement=function(b,c,a){this.id=b;this.pluginType=c;this.src=a;this.events={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.pauseVideo()}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(e){var a,b,c,d=mejs.plugins[this.pluginType];for(a=0;a<d.length;a++){c=d[a];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,c.version)){for(b=0;b<c.types.length;b++){if(e==c.types[b]){return true}}}}return false},positionFullscreenButton:function(b,c,a){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(b,c,a)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(c){if(typeof c=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c));this.src=mejs.Utility.absolutizeUrl(c)}else{var a,b;for(a=0;a<c.length;a++){b=c[a];if(this.canPlayType(b.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(b.src));this.src=mejs.Utility.absolutizeUrl(c)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.seekTo(a)}else{this.pluginApi.setCurrentTime(a)}this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(a*100)}else{this.pluginApi.setVolume(a)}this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(a){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=a;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(a)}this.muted=a}},setVideoSize:function(b,a){if(this.pluginElement.style){this.pluginElement.style.width=b+"px";this.pluginElement.style.height=a+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(b,a)}},setFullscreen:function(a){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(a)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(c,b,a){this.events[c]=this.events[c]||[];this.events[c].push(b)},removeEventListener:function(c,a){if(!c){this.events={};return true}var b=this.events[c];if(!b){return true}if(!a){this.events[c]=[];return true}for(i=0;i<b.length;i++){if(b[i]===a){this.events[c].splice(i,1);return true}}return false},dispatchEvent:function(c){var d,a,b=this.events[c];if(b){a=Array.prototype.slice.call(arguments,1);for(d=0;d<b.length;d++){b[d].apply(null,a)}}},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(b,c,a){this.pluginMediaElements[b]=c;this.htmlMediaElements[b]=a},initPlugin:function(b){var c=this.pluginMediaElements[b],a=this.htmlMediaElements[b];if(c){switch(c.pluginType){case"flash":c.pluginElement=c.pluginApi=document.getElementById(b);break;case"silverlight":c.pluginElement=document.getElementById(c.id);c.pluginApi=c.pluginElement.Content.MediaElementJS;break}if(c.pluginApi!=null&&c.success){c.success(c,a)}}},fireEvent:function(f,c,h){var b,d,a,g=this.pluginMediaElements[f];g.ended=false;g.paused=true;b={type:c,target:g};for(d in h){g[d]=h[d];b[d]=h[d]}a=h.bufferedTime||0;b.target.buffered=b.buffered={start:function(e){return 0},end:function(e){return a},length:1};g.dispatchEvent(b.type,b)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};mejs.HtmlMediaElementShim={create:function(c,f){var g=mejs.MediaElementDefaults,d=(typeof(c)=="string")?document.getElementById(c):c,n=d.tagName.toLowerCase(),e=(n==="audio"||n==="video"),m=(e)?d.getAttribute("src"):d.getAttribute("href"),j=d.getAttribute("poster"),a=d.getAttribute("autoplay"),k=d.getAttribute("preload"),b=d.getAttribute("controls"),h,l;for(l in f){g[l]=f[l]}m=(typeof m=="undefined"||m===null||m=="")?null:m;j=(typeof j=="undefined"||j===null)?"":j;k=(typeof k=="undefined"||k===null||k==="false")?"none":k;a=!(typeof a=="undefined"||a===null||a==="false");b=!(typeof b=="undefined"||b===null||b==="false");h=this.determinePlayback(d,g,mejs.MediaFeatures.supportsMediaTag,e,m);h.url=(h.url!==null)?mejs.Utility.absolutizeUrl(h.url):"";if(h.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){d.src=h.url;d.addEventListener("click",function(){d.play()},false)}return this.updateNative(h,g,a,k)}else{if(h.method!==""){return this.createPlugin(h,g,j,a,k,b)}else{this.createErrorMessage(h,g,j);return this}}},determinePlayback:function(b,o,u,d,t){var h=[],c,e,f,g,m,v,s={method:"",url:"",htmlMediaElement:b,isVideo:(b.tagName.toLowerCase()!="audio")},q,r,p,a;if(typeof o.type!="undefined"&&o.type!==""){if(typeof o.type=="string"){h.push({type:o.type,url:t})}else{for(c=0;c<o.type.length;c++){h.push({type:o.type[c],url:t})}}}else{if(t!==null){v=this.formatType(t,b.getAttribute("type"));h.push({type:v,url:t})}else{for(c=0;c<b.childNodes.length;c++){m=b.childNodes[c];if(m.nodeType==1&&m.tagName.toLowerCase()=="source"){t=m.getAttribute("src");v=this.formatType(t,m.getAttribute("type"));h.push({type:v,url:t})}}}}if(!d&&h.length>0&&h[0].url!==null&&this.getTypeFromFile(h[0].url).indexOf("audio")>-1){s.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){b.canPlayType=function(j){return(j.match(/video\/(mp4|m4v)/gi)!==null)?"maybe":""}}if(u&&(o.mode==="auto"||o.mode==="native")){if(!d){a=document.createElement(s.isVideo?"video":"audio");b.parentNode.insertBefore(a,b);b.style.display="none";s.htmlMediaElement=b=a}for(c=0;c<h.length;c++){if(b.canPlayType(h[c].type).replace(/no/,"")!==""||b.canPlayType(h[c].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){s.method="native";s.url=h[c].url;break}}if(s.method==="native"){if(s.url!==null){b.src=s.url}return s}}if(o.mode==="auto"||o.mode==="shim"){for(c=0;c<h.length;c++){v=h[c].type;for(e=0;e<o.plugins.length;e++){q=o.plugins[e];r=mejs.plugins[q];for(f=0;f<r.length;f++){p=r[f];if(p.version==null||mejs.PluginDetector.hasPluginVersion(q,p.version)){for(g=0;g<p.types.length;g++){if(v==p.types[g]){s.method=q;s.url=h[c].url;return s}}}}}}}if(s.method===""&&h.length>0){s.url=h[0].url}return s},formatType:function(c,b){var a;if(c&&!b){return this.getTypeFromFile(c)}else{if(b&&~b.indexOf(";")){return b.substr(0,b.indexOf(";"))}else{return b}}},getTypeFromFile:function(b){var a=b.substring(b.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(a)?"video":"audio")+"/"+a},createErrorMessage:function(f,d,g){var c=f.htmlMediaElement,b=document.createElement("div");b.className="me-cannotplay";try{b.style.width=c.width+"px";b.style.height=c.height+"px"}catch(a){}b.innerHTML=(g!=="")?'<a href="'+f.url+'"><img src="'+g+'" /></a>':'<a href="'+f.url+'"><span>Download File</span></a>';c.parentNode.insertBefore(b,c);c.style.display="none";d.error(c)},createPlugin:function(j,h,m,a,n,c){var e=j.htmlMediaElement,q=1,d=1,k="me_"+j.method+"_"+(mejs.meIndex++),l=new mejs.PluginMediaElement(k,j.method,j.url),b=document.createElement("div"),o,g,f;g=e.parentNode;while(g!==null&&g.tagName.toLowerCase()!="body"){if(g.parentNode.tagName.toLowerCase()=="p"){g.parentNode.parentNode.insertBefore(g,g.parentNode);break}g=g.parentNode}if(j.isVideo){q=(h.videoWidth>0)?h.videoWidth:(e.getAttribute("width")!==null)?e.getAttribute("width"):h.defaultVideoWidth;d=(h.videoHeight>0)?h.videoHeight:(e.getAttribute("height")!==null)?e.getAttribute("height"):h.defaultVideoHeight;q=mejs.Utility.encodeUrl(q);d=mejs.Utility.encodeUrl(d)}else{if(h.enablePluginDebug){q=320;d=240}}l.success=h.success;mejs.MediaPluginBridge.registerPluginElement(k,l,e);b.className="me-plugin";b.id=k+"_container";if(j.isVideo){e.parentNode.insertBefore(b,e)}else{document.body.insertBefore(b,document.body.childNodes[0])}f=["id="+k,"isvideo="+((j.isVideo)?"true":"false"),"autoplay="+((a)?"true":"false"),"preload="+n,"width="+q,"startvolume="+h.startVolume,"timerrate="+h.timerRate,"height="+d];if(j.url!==null){if(j.method=="flash"){f.push("file="+mejs.Utility.encodeUrl(j.url))}else{f.push("file="+j.url)}}if(h.enablePluginDebug){f.push("debug=true")}if(h.enablePluginSmoothing){f.push("smoothing=true")}if(c){f.push("controls=true")}if(h.pluginVars){f=f.concat(h.pluginVars)}switch(j.method){case"silverlight":b.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+k+'" name="'+k+'" width="'+q+'" height="'+d+'"><param name="initParams" value="'+f.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+h.pluginPath+h.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){o=document.createElement("div");b.appendChild(o);o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+k+'" width="'+q+'" height="'+d+'"><param name="movie" value="'+h.pluginPath+h.flashName+"?x="+(new Date())+'" /><param name="flashvars" value="'+f.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{b.innerHTML='<embed id="'+k+'" name="'+k+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+h.pluginPath+h.flashName+'" flashvars="'+f.join("&")+'" width="'+q+'" height="'+d+'"></embed>'}break;case"youtube":var p=j.url.substr(j.url.lastIndexOf("=")+1);youtubeSettings={container:b,containerId:b.id,pluginMediaElement:l,pluginId:k,videoId:p,height:d,width:q};if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings)}else{mejs.YouTubeApi.enqueueIframe(youtubeSettings)}break;case"vimeo":console.log("vimeoid");l.vimeoid=j.url.substr(j.url.lastIndexOf("/")+1);b.innerHTML='<object width="'+q+'" height="'+d+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+q+'" height="'+d+'"></embed></object>';break}e.style.display="none";return l},updateNative:function(e,d,a,f){var b=e.htmlMediaElement,c;for(c in mejs.HtmlMediaElement){b[c]=mejs.HtmlMediaElement[c]}d.success(b,b);return b}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var b=document.createElement("script");b.src="http://www.youtube.com/player_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded){this.createIframe(a)}else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(c){var b=c.pluginMediaElement,a=new YT.Player(c.containerId,{height:c.height,width:c.width,videoId:c.videoId,playerVars:{controls:0},events:{onReady:function(){c.pluginMediaElement.pluginApi=a;mejs.MediaPluginBridge.initPlugin(c.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(a,b,"timeupdate")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,a,b)}}})},createEvent:function(d,e,b){var c={type:b,target:e};if(d&&d.getDuration){e.currentTime=c.currentTime=d.getCurrentTime();e.duration=c.duration=d.getDuration();c.paused=e.paused;c.ended=e.ended;c.muted=d.isMuted();c.volume=d.getVolume()/100;c.bytesTotal=d.getVideoBytesTotal();c.bufferedBytes=d.getVideoBytesLoaded();var a=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(f){return 0},end:function(f){return a},length:1}}e.dispatchEvent(c.type,c)},iFrameReady:function(){this.isIframeLoaded=true;while(this.iframeQueue.length>0){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var b,c="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){b=document.createElement("div");a.container.appendChild(b);b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'"><param name="movie" value="'+c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'}},flashReady:function(b){var e=this.flashPlayers[b],c=document.getElementById(b),d=e.pluginMediaElement;d.pluginApi=d.pluginElement=c;mejs.MediaPluginBridge.initPlugin(b);c.cueVideoById(e.videoId);var a=e.containerId+"_callback";window[a]=function(f){mejs.YouTubeApi.handleStateChange(f,c,d)};c.addEventListener("onStateChange",a);setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250)},handleStateChange:function(c,a,b){switch(c){case -1:b.paused=true;b.ended=true;mejs.YouTubeApi.createEvent(a,b,"loadedmetadata");break;case 0:b.paused=false;b.ended=true;mejs.YouTubeApi.createEvent(a,b,"ended");break;case 1:b.paused=false;b.ended=false;mejs.YouTubeApi.createEvent(a,b,"play");mejs.YouTubeApi.createEvent(a,b,"playing");break;case 2:b.paused=true;b.ended=false;mejs.YouTubeApi.createEvent(a,b,"pause");break;case 3:mejs.YouTubeApi.createEvent(a,b,"progress");break;case 5:break}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;
/*
* MediaElementPlayer
* http://mediaelementjs.com/
*
* Creates a controller bar for HTML5 <video> add <audio> tags
* using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
*
* Copyright 2010-2012, John Dyer (http://j.hn/)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
if(typeof jQuery!="undefined"){mejs.$=jQuery}else{if(typeof ender!="undefined"){mejs.$=ender}}(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(c,b){if(b.paused||b.ended){b.play()}else{b.pause()}}},{keys:[38],action:function(d,b){var c=Math.min(b.volume+0.1,1);b.setVolume(c)}},{keys:[40],action:function(d,b){var c=Math.max(b.volume-0.1,0);b.setVolume(c)}},{keys:[37,227],action:function(d,b){if(!isNaN(b.duration)&&b.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}var c=Math.min(b.currentTime-(b.duration*0.05),b.duration);b.setCurrentTime(c)}}},{keys:[39,228],action:function(d,b){if(!isNaN(b.duration)&&b.duration>0){if(d.isVideo){d.showControls();d.startControlsTimer()}var c=Math.max(b.currentTime+(b.duration*0.05),0);b.setCurrentTime(c)}}},{keys:[70],action:function(c,b){if(typeof c.enterFullScreen!="undefined"){if(c.isFullScreen){c.exitFullScreen()}else{c.enterFullScreen()}}}}]};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(b,c){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(b,c)}var d=this;d.$media=d.$node=a(b);d.node=d.media=d.$media[0];if(typeof d.node.player!="undefined"){return d.node.player}else{d.node.player=d}if(typeof c=="undefined"){c=d.$node.data("mejsoptions")}d.options=a.extend({},mejs.MepDefaults,c);mejs.players.push(d);d.init();return d};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var f=this,e=mejs.MediaFeatures,d=a.extend(true,{},f.options,{success:function(j,h){f.meReady(j,h)},error:function(h){f.handleError(h)}}),g=f.media.tagName.toLowerCase();f.isDynamic=(g!=="audio"&&g!=="video");if(f.isDynamic){f.isVideo=f.options.isVideo}else{f.isVideo=(g!=="audio"&&f.options.isVideo)}if((e.isiPad&&f.options.iPadUseNativeControls)||(e.isiPhone&&f.options.iPhoneUseNativeControls)){f.$media.attr("controls","controls");if(e.isiPad&&f.media.getAttribute("autoplay")!==null){f.media.load();f.media.play()}}else{if(e.isAndroid&&f.AndroidUseNativeControls){}else{f.$media.removeAttr("controls");f.id="mep_"+mejs.mepIndex++;f.container=a('<div id="'+f.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(f.$media[0].className).insertBefore(f.$media);f.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(f.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){var b=f.$media.clone();f.container.find(".mejs-mediaelement").append(b);f.$media.remove();f.$node=f.$media=b;f.node=f.media=b[0]}else{f.container.find(".mejs-mediaelement").append(f.$media)}f.controls=f.container.find(".mejs-controls");f.layers=f.container.find(".mejs-layers");var c=g.substring(0,1).toUpperCase()+g.substring(1);if(f.options[g+"Width"]>0||f.options[g+"Width"].toString().indexOf("%")>-1){f.width=f.options[g+"Width"]}else{if(f.media.style.width!==""&&f.media.style.width!==null){f.width=f.media.style.width}else{if(f.media.getAttribute("width")!==null){f.width=f.$media.attr("width")}else{f.width=f.options["default"+c+"Width"]}}}if(f.options[g+"Height"]>0||f.options[g+"Height"].toString().indexOf("%")>-1){f.height=f.options[g+"Height"]}else{if(f.media.style.height!==""&&f.media.style.height!==null){f.height=f.media.style.height}else{if(f.$media[0].getAttribute("height")!==null){f.height=f.$media.attr("height")}else{f.height=f.options["default"+c+"Height"]}}}f.setPlayerSize(f.width,f.height);d.pluginWidth=f.height;d.pluginHeight=f.width}}mejs.MediaElement(f.$media[0],d)},showControls:function(b){var c=this;b=typeof b=="undefined"||b;if(c.controlsAreVisible){return}if(b){c.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true});c.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true})}else{c.controls.css("visibility","visible").css("display","block");c.container.find(".mejs-control").css("visibility","visible").css("display","block");c.controlsAreVisible=true}c.setControlsSize()},hideControls:function(b){var c=this;b=typeof b=="undefined"||b;if(!c.controlsAreVisible){return}if(b){c.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block");c.controlsAreVisible=false});c.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})}else{c.controls.css("visibility","hidden").css("display","block");c.container.find(".mejs-control").css("visibility","hidden").css("display","block");c.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(c){var b=this;c=typeof c!="undefined"?c:1500;b.killControlsTimer("start");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer("hide")},c)},killControlsTimer:function(b){var c=this;if(c.controlsTimer!==null){clearTimeout(c.controlsTimer);delete c.controlsTimer;c.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var b=this;b.killControlsTimer();b.hideControls(false);this.controlsEnabled=false},enableControls:function(){var b=this;b.showControls(false);b.controlsEnabled=true},meReady:function(k,f){var m=this,l=mejs.MediaFeatures,c=f.getAttribute("autoplay"),b=!(typeof c=="undefined"||c===null||c==="false"),j,h;if(m.created){return}else{m.created=true}m.media=k;m.domNode=f;if(!(l.isAndroid&&m.options.AndroidUseNativeControls)&&!(l.isiPad&&m.options.iPadUseNativeControls)&&!(l.isiPhone&&m.options.iPhoneUseNativeControls)){m.buildposter(m,m.controls,m.layers,m.media);m.buildkeyboard(m,m.controls,m.layers,m.media);m.buildoverlays(m,m.controls,m.layers,m.media);m.findTracks();for(j in m.options.features){h=m.options.features[j];if(m["build"+h]){try{m["build"+h](m,m.controls,m.layers,m.media)}catch(g){}}}m.container.trigger("controlsready");m.setPlayerSize(m.width,m.height);m.setControlsSize();if(m.isVideo){if(mejs.MediaFeatures.hasTouch){m.$media.bind("touchstart",function(){if(m.controlsAreVisible){m.hideControls(false)}else{if(m.controlsEnabled){m.showControls(false)}}})}else{var d=(m.media.pluginType=="native")?m.$media:a(m.media.pluginElement);d.click(function(){if(k.paused){k.play()}else{k.pause()}});m.container.bind("mouseenter mouseover",function(){if(m.controlsEnabled){if(!m.options.alwaysShowControls){m.killControlsTimer("enter");m.showControls();m.startControlsTimer(2500)}}}).bind("mousemove",function(){if(m.controlsEnabled){if(!m.controlsAreVisible){m.showControls()}if(!m.options.alwaysShowControls){m.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(m.controlsEnabled){if(!m.media.paused&&!m.options.alwaysShowControls){m.startControlsTimer(1000)}}})}if(b&&!m.options.alwaysShowControls){m.hideControls()}if(m.options.enableAutosize){m.media.addEventListener("loadedmetadata",function(n){if(m.options.videoHeight<=0&&m.domNode.getAttribute("height")===null&&!isNaN(n.target.videoHeight)){m.setPlayerSize(n.target.videoWidth,n.target.videoHeight);m.setControlsSize();m.media.setVideoSize(n.target.videoWidth,n.target.videoHeight)}},false)}}k.addEventListener("play",function(){for(var e=0,n=mejs.players.length;e<n;e++){var o=mejs.players[e];if(o.id!=m.id&&m.options.pauseOtherPlayers&&!o.paused&&!o.ended){o.pause()}o.hasFocus=false}m.hasFocus=true},false);m.media.addEventListener("ended",function(n){try{m.media.setCurrentTime(0)}catch(o){}m.media.pause();if(m.setProgressRail){m.setProgressRail()}if(m.setCurrentRail){m.setCurrentRail()}if(m.options.loop){m.media.play()}else{if(!m.options.alwaysShowControls&&m.controlsEnabled){m.showControls()}}},false);m.media.addEventListener("loadedmetadata",function(n){if(m.updateDuration){m.updateDuration()}if(m.updateCurrent){m.updateCurrent()}if(!m.isFullScreen){m.setPlayerSize(m.width,m.height);m.setControlsSize()}},false);setTimeout(function(){m.setPlayerSize(m.width,m.height);m.setControlsSize()},50);a(window).resize(function(){if(!(m.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){m.setPlayerSize(m.width,m.height)}m.setControlsSize()});if(m.media.pluginType=="youtube"){m.container.find(".mejs-overlay-play").hide()}}if(b&&k.pluginType=="native"){k.load();k.play()}if(m.options.success){if(typeof m.options.success=="string"){window[m.options.success](m.media,m.domNode,m)}else{m.options.success(m.media,m.domNode,m)}}},handleError:function(b){var c=this;c.controls.hide();if(c.options.error){c.options.error(b)}},setPlayerSize:function(h,b){var g=this;if(g.height.toString().indexOf("%")>0){var d=(g.media.videoWidth&&g.media.videoWidth>0)?g.media.videoWidth:g.options.defaultVideoWidth,c=(g.media.videoHeight&&g.media.videoHeight>0)?g.media.videoHeight:g.options.defaultVideoHeight,f=g.container.parent().width(),e=parseInt(f*c/d,10);if(g.container.parent()[0].tagName.toLowerCase()==="body"){f=a(window).width();e=a(window).height()}g.container.width(f).height(e);g.$media.width("100%").height("100%");g.container.find("object, embed, iframe").width("100%").height("100%");if(g.media.setVideoSize){g.media.setVideoSize(f,e)}g.layers.children(".mejs-layer").width("100%").height("100%")}else{g.container.width(g.width).height(g.height);g.layers.children(".mejs-layer").width(g.width).height(g.height)}},setControlsSize:function(){var f=this,h=0,e=0,d=f.controls.find(".mejs-time-rail"),g=f.controls.find(".mejs-time-total"),b=f.controls.find(".mejs-time-current"),c=f.controls.find(".mejs-time-loaded");others=d.siblings();if(f.options&&!f.options.autosizeProgress){e=parseInt(d.css("width"))}if(e===0||!e){others.each(function(){if(a(this).css("position")!="absolute"){h+=a(this).outerWidth(true)}});e=f.controls.width()-h-(d.outerWidth(true)-d.outerWidth(false))}d.width(e);g.width(e-(g.outerWidth(true)-g.width()));if(f.setProgressRail){f.setProgressRail()}if(f.setCurrentRail){f.setCurrentRail()}},buildposter:function(e,b,c,d){var h=this,f=a('<div class="mejs-poster mejs-layer"></div>').appendTo(c),g=e.$media.attr("poster");if(e.options.poster!==""){g=e.options.poster}if(g!==""&&g!=null){h.setPoster(g)}else{f.hide()}d.addEventListener("play",function(){f.hide()},false)},setPoster:function(e){var d=this,b=d.container.find(".mejs-poster"),c=b.find("img");if(c.length==0){c=a('<img width="100%" height="100%" />').appendTo(b)}c.attr("src",e)},buildoverlays:function(h,c,e,g){if(!h.isVideo){return}var f=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(e),d=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(e),b=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(e).click(function(){if(g.paused){g.play()}else{g.pause()}});g.addEventListener("play",function(){b.hide();f.hide();d.hide()},false);g.addEventListener("playing",function(){b.hide();f.hide();d.hide()},false);g.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){b.show()}},false);g.addEventListener("waiting",function(){f.show()},false);g.addEventListener("loadeddata",function(){f.show()},false);g.addEventListener("canplay",function(){f.hide()},false);g.addEventListener("error",function(){f.hide();d.show();d.find("mejs-overlay-error").html("Error loading this resource")},false)},buildkeyboard:function(e,b,c,d){var f=this;a(document).keydown(function(g){if(e.hasFocus&&e.options.enableKeyboard){for(var h=0,k=e.options.keyActions.length;h<k;h++){var n=e.options.keyActions[h];for(var l=0,m=n.keys.length;l<m;l++){if(g.keyCode==n.keys[l]){g.preventDefault();n.action(e,d);return false}}}}return true});a(document).click(function(g){if(a(g.target).closest(".mejs-container").length==0){e.hasFocus=false}})},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[];c.each(function(d,e){e=a(e);b.tracks.push({srclang:e.attr("srclang").toLowerCase(),src:e.attr("src"),kind:e.attr("kind"),label:e.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(b){this.container[0].className="mejs-container "+b;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(b){this.media.setMuted(b)},setCurrentTime:function(b){this.media.setCurrentTime(b)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(b){this.media.setVolume(b)},getVolume:function(){return this.media.volume},setSrc:function(b){this.media.setSrc(b)},remove:function(){var b=this;if(b.media.pluginType=="flash"){b.media.remove()}else{if(b.media.pluginTyp=="native"){b.media.prop("controls",true)}}if(!b.isDynamic){b.$node.insertBefore(b.container)}b.container.remove()}};if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(b){return this.each(function(){new mejs.MediaElementPlayer(this,b)})}}a(document).ready(function(){a(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});a.extend(MediaElementPlayer.prototype,{buildplaypause:function(f,b,c,d){var g=this,e=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+g.id+'" title="'+g.options.playpauseText+'"></button></div>').appendTo(b).click(function(h){h.preventDefault();if(d.paused){d.play()}else{d.pause()}return false});d.addEventListener("play",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);d.addEventListener("playing",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);d.addEventListener("pause",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false);d.addEventListener("paused",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"});a.extend(MediaElementPlayer.prototype,{buildstop:function(e,b,c,d){var g=this,f=a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+g.id+'" title="'+g.options.stopText+"></button></div>").appendTo(b).click(function(){if(!d.paused){d.pause()}if(d.currentTime>0){d.setCurrentTime(0);b.find(".mejs-time-current").width("0px");b.find(".mejs-time-handle").css("left","0px");b.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));b.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));c.find(".mejs-poster").show()}})}})})(mejs.$);(function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(l,b,f,h){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(b);var m=this,p=b.find(".mejs-time-total"),g=b.find(".mejs-time-loaded"),c=b.find(".mejs-time-current"),d=b.find(".mejs-time-handle"),n=b.find(".mejs-time-float"),o=b.find(".mejs-time-float-current"),e=function(q){var w=q.pageX,s=p.offset(),v=p.outerWidth(),t=0,r=0,u=w-s.left;if(w>s.left&&w<=v+s.left&&h.duration){t=((w-s.left)/v);r=(t<=0.02)?0:t*h.duration;if(j){h.setCurrentTime(r)}if(!mejs.MediaFeatures.hasTouch){n.css("left",u);o.html(mejs.Utility.secondsToTimeCode(r));n.show()}}},j=false,k=false;p.bind("mousedown",function(q){if(q.which===1){j=true;e(q);return false}});b.find(".mejs-time-total").bind("mouseenter",function(q){k=true;if(!mejs.MediaFeatures.hasTouch){n.show()}}).bind("mouseleave",function(q){k=false;n.hide()});a(document).bind("mouseup",function(q){j=false;n.hide()}).bind("mousemove",function(q){if(j||k){e(q)}});h.addEventListener("progress",function(q){l.setProgressRail(q);l.setCurrentRail(q)},false);h.addEventListener("timeupdate",function(q){l.setProgressRail(q);l.setCurrentRail(q)},false);m.loaded=g;m.total=p;m.current=c;m.handle=d},setProgressRail:function(b){var d=this,f=(b!=undefined)?b.target:d.media,c=null;if(f&&f.buffered&&f.buffered.length>0&&f.buffered.end&&f.duration){c=f.buffered.end(0)/f.duration}else{if(f&&f.bytesTotal!=undefined&&f.bytesTotal>0&&f.bufferedBytes!=undefined){c=f.bufferedBytes/f.bytesTotal}else{if(b&&b.lengthComputable&&b.total!=0){c=b.loaded/b.total}}}if(c!==null){c=Math.min(1,Math.max(0,c));if(d.loaded&&d.total){d.loaded.width(d.total.width()*c)}}},setCurrentRail:function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration){if(d.total&&d.handle){var c=d.total.width()*d.media.currentTime/d.media.duration,b=c-(d.handle.outerWidth(true)/2);d.current.width(c);d.handle.css("left",b)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});a.extend(MediaElementPlayer.prototype,{buildcurrent:function(e,b,c,d){var f=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(b);f.currenttime=f.controls.find(".mejs-currenttime");d.addEventListener("timeupdate",function(){e.updateCurrent()},false)},buildduration:function(e,b,c,d){var f=this;if(b.children().last().find(".mejs-currenttime").length>0){a(f.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(f.options.duration>0?mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours||f.media.duration>3600,f.options.showTimecodeFrameCount,f.options.framesPerSecond||25):((e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span>").appendTo(b.find(".mejs-time"))}else{b.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(f.options.duration>0?mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours||f.media.duration>3600,f.options.showTimecodeFrameCount,f.options.framesPerSecond||25):((e.options.alwaysShowHours?"00:":"")+(e.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span></div>").appendTo(b)}f.durationD=f.controls.find(".mejs-duration");d.addEventListener("timeupdate",function(){e.updateDuration()},false)},updateCurrent:function(){var b=this;if(b.currenttime){b.currenttime.html(mejs.Utility.secondsToTimeCode(b.media.currentTime,b.options.alwaysShowHours||b.media.duration>3600,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}},updateDuration:function(){var b=this;if(b.media.duration&&b.durationD){b.durationD.html(mejs.Utility.secondsToTimeCode(b.media.duration,b.options.alwaysShowHours,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true});a.extend(MediaElementPlayer.prototype,{buildvolume:function(j,b,d,e){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices){return}var l=this,h=a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+l.id+'" title="'+l.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(b),o=h.find(".mejs-volume-slider"),p=h.find(".mejs-volume-total"),m=h.find(".mejs-volume-current"),n=h.find(".mejs-volume-handle"),k=function(t){if(!o.is(":visible")){o.show();k(t);o.hide();return}var r=p.height(),s=p.position(),q=r-(r*t);n.css("top",s.top+q-(n.height()/2));m.height(r-q);m.css("top",s.top+q)},c=function(q){var s=p.height(),t=p.offset(),u=parseInt(p.css("top").replace(/px/,""),10),r=q.pageY-t.top,v=(s-r)/s;if(t.top==0||t.left==0){return}v=Math.max(0,v);v=Math.min(v,1);if(r<0){r=0}else{if(r>s){r=s}}n.css("top",r-(n.height()/2)+u);m.height(s-r);m.css("top",r+u);if(v==0){e.setMuted(true);h.removeClass("mejs-mute").addClass("mejs-unmute")}else{e.setMuted(false);h.removeClass("mejs-unmute").addClass("mejs-mute")}v=Math.max(0,v);v=Math.min(v,1);e.setVolume(v)},f=false,g=false;h.hover(function(){o.show();g=true},function(){g=false;if(!f){o.hide()}});o.bind("mouseover",function(){g=true}).bind("mousedown",function(q){c(q);f=true;return false});a(document).bind("mouseup",function(q){f=false;if(!g){o.hide()}}).bind("mousemove",function(q){if(f){c(q)}});h.find("button").click(function(){e.setMuted(!e.muted)});e.addEventListener("volumechange",function(q){if(!f){if(e.muted){k(0);h.removeClass("mejs-mute").addClass("mejs-unmute")}else{k(e.volume);h.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(l.container.is(":visible")){k(j.options.startVolume);if(e.pluginType==="native"){e.setVolume(j.options.startVolume)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});a.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(n,c,j,k){if(!n.isVideo){return}n.isInIframe=(window.location!=window.parent.location);if(mejs.MediaFeatures.hasTrueNativeFullScreen){n.container.bind(mejs.MediaFeatures.fullScreenEventName,function(t){if(mejs.MediaFeatures.isFullScreen()){n.isNativeFullScreen=true;n.setControlsSize()}else{n.isNativeFullScreen=false;n.exitFullScreen()}})}var r=this,l=0,m=0,b=n.container,f=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+r.id+'" title="'+r.options.fullscreenText+'"></button></div>').appendTo(c);if(r.media.pluginType==="native"||(!r.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)){f.click(function(){var t=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||n.isFullScreen;if(t){n.exitFullScreen()}else{n.enterFullScreen()}})}else{var h=null,q=(document.documentElement.style.pointerEvents==="");if(q&&!mejs.MediaFeatures.isOpera){var g=false,p=function(){if(g){s.hide();d.hide();e.hide();f.css("pointer-events","");r.controls.css("pointer-events","");g=false}},s=a('<div class="mejs-fullscreen-hover" />').appendTo(r.container).mouseover(p),d=a('<div class="mejs-fullscreen-hover"  />').appendTo(r.container).mouseover(p),e=a('<div class="mejs-fullscreen-hover"  />').appendTo(r.container).mouseover(p),o=function(){var u={position:"absolute",top:0,left:0};s.css(u);d.css(u);e.css(u);s.width(r.container.width()).height(r.container.height()-r.controls.height());var t=f.offset().left-r.container.offset().left;fullScreenBtnWidth=f.outerWidth(true);d.width(t).height(r.controls.height()).css({top:r.container.height()-r.controls.height()});e.width(r.container.width()-t-fullScreenBtnWidth).height(r.controls.height()).css({top:r.container.height()-r.controls.height(),left:t+fullScreenBtnWidth})};a(document).resize(function(){o()});f.mouseover(function(){if(!r.isFullScreen){var t=f.offset(),u=n.container.offset();k.positionFullscreenButton(t.left-u.left,t.top-u.top,false);f.css("pointer-events","none");r.controls.css("pointer-events","none");s.show();e.show();d.show();o();g=true}});k.addEventListener("fullscreenchange",function(t){p()})}else{f.mouseover(function(){if(h!==null){clearTimeout(h);delete h}var t=f.offset(),u=n.container.offset();k.positionFullscreenButton(t.left-u.left,t.top-u.top,true)}).mouseout(function(){if(h!==null){clearTimeout(h);delete h}h=setTimeout(function(){k.hideFullscreenButton()},1500)})}}n.fullscreenBtn=f;a(document).bind("keydown",function(t){if(((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||r.isFullScreen)&&t.keyCode==27){n.exitFullScreen()}})},enterFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||c.options.usePluginFullScreen)){return}docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=c.container.height();normalWidth=c.container.width();if(c.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(c.container[0]);if(c.isInIframe){setTimeout(function b(){if(c.isNativeFullScreen){if(a(window).width()!==screen.width){c.exitFullScreen()}else{setTimeout(b,500)}}},500)}}else{if(mejs.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}}}if(c.isInIframe){var d=c.options.newWindowCallback(this);if(d!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){c.pause();window.open(d,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!c.isNativeFullScreen){c.pause();window.open(d,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){c.container.css({width:"100%",height:"100%"});c.setControlsSize()},500);if(c.pluginType==="native"){c.$media.width("100%").height("100%")}else{c.container.find("object, embed, iframe").width("100%").height("100%");c.media.setVideoSize(a(window).width(),a(window).height())}c.layers.children("div").width("100%").height("100%");if(c.fullscreenBtn){c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}c.setControlsSize();c.isFullScreen=true},exitFullScreen:function(){var b=this;if(b.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){b.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}document.documentElement.style.overflow=docStyleOverflow;b.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(b.pluginType==="native"){b.$media.width(normalWidth).height(normalHeight)}else{b.container.find("object embed").width(normalWidth).height(normalHeight);b.media.setVideoSize(normalWidth,normalHeight)}b.layers.children("div").width(normalWidth).height(normalHeight);b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");b.setControlsSize();b.isFullScreen=false}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});a.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(g,b,d,e){if(!g.isVideo){return}if(g.tracks.length==0){return}var h=this,c,f="";g.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide();g.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide();g.captionsText=g.captions.find(".mejs-captions-text");g.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+h.id+'" title="'+h.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+g.id+'_captions" id="'+g.id+'_captions_none" value="none" checked="checked" /><label for="'+g.id+'_captions_none">None</label></li></ul></div></div>').appendTo(b).hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none"){g.selectedTrack=null}else{for(c=0;c<g.tracks.length;c++){if(g.tracks[c].srclang==lang){g.selectedTrack=g.tracks[c];g.captions.attr("lang",g.selectedTrack.srclang);g.displayCaptions();break}}}});if(!g.options.alwaysShowControls){g.container.bind("mouseenter",function(){g.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){if(!e.paused){g.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}})}else{g.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}g.trackToLoad=-1;g.selectedTrack=null;g.isLoadingTrack=false;for(c=0;c<g.tracks.length;c++){if(g.tracks[c].kind=="subtitles"){g.addTrackButton(g.tracks[c].srclang,g.tracks[c].label)}}g.loadNextTrack();e.addEventListener("timeupdate",function(j){g.displayCaptions()},false);e.addEventListener("loadedmetadata",function(j){g.displayChapters()},false);g.container.hover(function(){if(g.hasChapters){g.chapters.css("visibility","visible");g.chapters.fadeIn(200)}},function(){if(g.hasChapters&&!e.paused){g.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})}});if(g.node.getAttribute("autoplay")!==null){g.chapters.css("visibility","hidden")}},loadNextTrack:function(){var b=this;b.trackToLoad++;if(b.trackToLoad<b.tracks.length){b.isLoadingTrack=true;b.loadTrack(b.trackToLoad)}else{b.isLoadingTrack=false}},loadTrack:function(c){var d=this,e=d.tracks[c],b=function(){e.isLoaded=true;d.enableTrackButton(e.srclang,e.label);d.loadNextTrack()};if(e.isTranslation){mejs.TrackFormatParser.translateTrackText(d.tracks[0].entries,d.tracks[0].srclang,e.srclang,d.options.googleApiKey,function(f){e.entries=f;b()})}else{a.ajax({url:e.src,success:function(f){e.entries=mejs.TrackFormatParser.parse(f);b();if(e.kind=="chapters"&&d.media.duration>0){d.drawChapters(e)}},error:function(){d.loadNextTrack()}})}},enableTrackButton:function(c,b){var d=this;if(b===""){b=mejs.language.codes[c]||c}d.captionsButton.find("input[value="+c+"]").prop("disabled",false).siblings("label").html(b);if(d.options.startLanguage==c){a("#"+d.id+"_captions_"+c).click()}d.adjustLanguageBox()},addTrackButton:function(c,b){var d=this;if(b===""){b=mejs.language.codes[c]||c}d.captionsButton.find("ul").append(a('<li><input type="radio" name="'+d.id+'_captions" id="'+d.id+"_captions_"+c+'" value="'+c+'" disabled="disabled" /><label for="'+d.id+"_captions_"+c+'">'+b+" (loading)</label></li>"));d.adjustLanguageBox();d.container.find(".mejs-captions-translations option[value="+c+"]").remove()},adjustLanguageBox:function(){var b=this;b.captionsButton.find(".mejs-captions-selector").height(b.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+b.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks=="undefined"){return}var c=this,b,d=c.selectedTrack;if(d!=null&&d.isLoaded){for(b=0;b<d.entries.times.length;b++){if(c.media.currentTime>=d.entries.times[b].start&&c.media.currentTime<=d.entries.times[b].stop){c.captionsText.html(d.entries.text[b]);c.captions.show();return}}c.captions.hide()}else{c.captions.hide()}},displayChapters:function(){var c=this,b;for(b=0;b<c.tracks.length;b++){if(c.tracks[b].kind=="chapters"&&c.tracks[b].isLoaded){c.drawChapters(c.tracks[b]);c.hasChapters=true;break}}},drawChapters:function(b){var f=this,d,c,e=0,g=0;f.chapters.empty();for(d=0;d<b.entries.times.length;d++){c=b.entries.times[d].stop-b.entries.times[d].start;e=Math.floor(c/f.media.duration*100);if(e+g>100||d==b.entries.times.length-1&&e+g<100){e=100-g}f.chapters.append(a('<div class="mejs-chapter" rel="'+b.entries.times[d].start+'" style="left: '+g.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+((d==b.entries.times.length-1)?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+b.entries.text[d]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries.times[d].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries.times[d].stop)+"</span></div></div>"));g+=e}f.chapters.find("div.mejs-chapter").click(function(){f.media.setCurrentTime(parseFloat(a(this).attr("rel")));if(f.media.paused){f.media.play()}});f.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(c,b){return c.split(b)},parse:function(g){var c=0,d=this.split2(g,/\r?\n/),b={text:[],times:[]},f,e;for(;c<d.length;c++){if(this.pattern_identifier.exec(d[c])){c++;f=this.pattern_timecode.exec(d[c]);if(f&&c<d.length){c++;e=d[c];c++;while(d[c]!==""&&c<d.length){e=e+"\n"+d[c];c++}b.text.push(e);b.times.push({start:mejs.Utility.timeCodeToSeconds(f[1]),stop:mejs.Utility.timeCodeToSeconds(f[3]),settings:f[5]})}}}return b}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(f,e){var d=[],b="",c;for(c=0;c<f.length;c++){b+=f.substring(c,c+1);if(e.test(b)){d.push(b.replace(e,""));b=""}}d.push(b);return d}}})(mejs.$);(function(a){a.extend(mejs.MepDefaults,contextMenuItems=[{render:function(b){if(typeof b.enterFullScreen=="undefined"){return null}if(b.isFullScreen){return"Turn off Fullscreen"}else{return"Go Fullscreen"}},click:function(b){if(b.isFullScreen){b.exitFullScreen()}else{b.enterFullScreen()}}},{render:function(b){if(b.media.muted){return"Unmute"}else{return"Mute"}},click:function(b){if(b.media.muted){b.setMuted(false)}else{b.setMuted(true)}}},{isSeparator:true},{render:function(b){return"Download Video"},click:function(b){window.location.href=b.media.currentSrc}}]);a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(e,b,c,d){e.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide();e.container.bind("contextmenu",function(f){if(e.isContextMenuEnabled){f.preventDefault();e.renderContextMenu(f.clientX-1,f.clientY-1);return false}});e.container.bind("click",function(){e.contextMenu.hide()});e.contextMenu.bind("mouseleave",function(){e.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var b=this;b.killContextMenuTimer();b.contextMenuTimer=setTimeout(function(){b.hideContextMenu();b.killContextMenuTimer()},750)},killContextMenuTimer:function(){var b=this.contextMenuTimer;if(b!=null){clearTimeout(b);delete b;b=null}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(h,j){var g=this,b="",e=g.options.contextMenuItems;for(var c=0,d=e.length;c<d;c++){if(e[c].isSeparator){b+='<div class="mejs-contextmenu-separator"></div>'}else{var f=e[c].render(g);if(f!=null){b+='<div class="mejs-contextmenu-item" data-itemindex="'+c+'" id="element-'+(Math.random()*1000000)+'">'+f+"</div>"}}}g.contextMenu.empty().append(a(b)).css({top:j,left:h}).show();g.contextMenu.find(".mejs-contextmenu-item").each(function(){var k=a(this),m=parseInt(k.data("itemindex"),10),l=g.options.contextMenuItems[m];if(typeof l.show!="undefined"){l.show(k,g)}k.click(function(){if(typeof l.click!="undefined"){l.click(g)}g.contextMenu.hide()})});setTimeout(function(){g.killControlsTimer("rev3")},100)}})})(mejs.$);var atab=jQuery.url().param("atab");$(document).ready(function(){var a=QueryParameters.quiz;if(null!=a){window.location.hash="#q"+a}questionHash=(window.location.hash);questionHashNumber=questionHash.indexOf("#");questionHashFinal=questionHash.substring(questionHashNumber+1);var b=$('a[name="'+questionHashFinal+'"]');$(b).next().addClass("highlighted")});$(window).load(function(){$("audio").mediaelementplayer({
/*@cc_on
        @if (@_jscript_version == 9)
					mode: 'shim',
					@end
        @*/
audioWidth:280,enableAutosize:true,pluginPath:"/UIComponents/MediaElement/build/",features:["playpause","progress","current","duration"],success:function(mediaElement,domObject){mediaElement.addEventListener("play",function(e){var tab="multimedia related by topic audio play/pause was clicked";var key="mediaPlayer";this.UserSessionItem=new UserSessionItem($("#hfSessionID").val(),0,0);this.ActionType=new ActionType(1,key);doTracking(this.ActionType,tab.toString(),"<%=System.DateTime.Now %>",this.UserSessionItem,(window.location).toString())},false)}})});$(document).ready(function(){$("div.contentContainer").hide();if(atab>"0"){$(".tabNav .atab:nth-child("+atab+") a").addClass("selected").show();$("#tab"+atab).show()}else{$(".tabNav .atab:nth-child(1) a").addClass("selected").show();$("#tab1").show()}var a=$(".tabNav div a").attr("name");if(a!="CanAccess"){$(".divSignInForNonArticleTabs").show();$("#divSignInSubscriptionUpsell").show()}$(".tabNav div a").click(function(){var d=$(".tabNav .atab");var c=$(this).parent().attr("class");var b=$(this).attr("href");$(".divSubmitCommentButton").hide();$(".divSubmitLetterButton").hide();var e=$(this).attr("name");$(".tabNav div a").removeClass("selected");$(this).addClass("selected");$(".contentContainer").hide();if(e=="CanAccess"){$("#divSignInSubscriptionUpsell").hide();$(b).show()}else{if(b=="#tab1"){$(b).show();$("#divSignInSubscriptionUpsell").show()}else{if(b=="#tab10"){$(".divSubmitCommentButton").show()}if(b=="#tab7"){$(".divSubmitLetterButton").show()}$(".divSignInForNonArticleTabs").show();$("#divSignInSubscriptionUpsell").show();if(e=="MustSignInOrBuyThisArticle"&&isAuthenticated==true){$("#divUpShellSignIn").hide()}}}equalHeight($(".eqColumn"));return false});$(".authorSection a").bind("click",function(){$("div.contentContainer").hide();$(".tabNav div a").removeClass("selected");$(".tabNav .atab:nth-child(1) a").addClass("selected").show();$("#tab1").show();equalHeight($(".eqColumn"))});$(".supplementary-material").click(function(){$(".dataSupplementDialog").dialog("open")});if(isAuthenticated){$(".submitcomment").click(function(){$("div.contentContainer").hide();$(".tabNav div a").removeClass("selected");$(".tabNav .atab:nth-child(10) a").addClass("selected").show();$("#tab10").show()});$(".saveMyStuff").click(function(){if(previewMode){alert("Saving is disabled in preview mode.")}else{var b=this.id;AddItemstoMyStuff(b)}})}else{}if(!isMobile){$("#text1,#text2,#text3").click(function(){$(this).addClass("selected").siblings().removeClass("selected");var c="100%";var b="22px";switch($(this).attr("id")){case"text2":c="110%";b="24px";break;case"text3":c="120%";b="26px";break}$(".aTitle").css({"font-size":b});$(".contentSection, .contentHeaderContainer,.contentBodyContainer, .doi, .para, .para, .authorNames, .figureLabel, .refContent, .refNum, .figureLabel strong").each(function(){$(this).css({"font-size":c})})});if(isAuthenticated){growTextarea($(".copyPaste"))}}});var QueryParameters=(function(){var c={};if(window.location.search){var b=window.location.search.slice(1).split("&");for(var a=0;a<b.length;a++){var d=b[a].split("=");c[d[0]]=unescape(d[1])}}return c}());function addtoMyStuffs(b){var a=$get("hfPersonalUserLoggedIn").value;var c=$get("hfRedirectURLForMyPOLFiguresAndTables").value;if(a=="1"){AddItemstoMyStuff(b.id,getArticleId())}else{displaySignInDialog("MustSignInOrBuyThisArticle")}}function displaySignInDialog(a){if(a=="MustSignInOrBuyThisArticle"){$("#globalSignIn11_PurchaseSubscription").show();$("#globalSignIn11_PersonalAccountRegistration").hide()}$("#signinDialog").dialog({closeText:"x Close",width:800,height:300,modal:true,overlay:{opacity:0.7,background:"gray"}});$signInDialog.parent().appendTo($("#Form1"));$signInDialog.dialog("open")}function openPopupWindow(e){var f=650;var a=350;var b=(screen.width/2)-(f/2);var d=(screen.height/2)-(a/2);var c=",top="+d+",left="+b;window.open(e,"mywindow","menubar=0,resizable=1,width=800,height=450"+c)}function getArticleId(){return parseInt(document.getElementById("hfArticleId").value)}function MyStuff(b,a){this.SectionID=b;this.ArticleID=a}MyStuff.prototype.toJson=function(){return JSON.stringify(this)};function AddItemstoMyStuff(d){var b=getArticleId();var c=new MyStuff(d,b);var a=location.protocol+"//"+location.host+"/article.aspx/AddItemstoMyStuff";$.ajax({type:"POST",url:a,data:c.toJson(),contentType:"application/json; charset=utf-8",dataType:"json",processData:false,success:function(e){if(e.d[1].length>0){location.href=e.d[1]}else{alert("Item successfully added to My Account")}},error:function(e){alert(e.status+" "+e.statusText)}})}function growTextarea(e){if($(e).val()!=undefined){var d=$(e).val().split("\n");var f=40;var a=1;for(var b=0;b<d.length;b++){var c=d[b].length;if(c>=f){a+=Math.ceil(c/f)}}a+=d.length;$(e).attr("rows",a)}}var activePanel="";portletSlider={};$(document).ready(function(){equalHeight($(".eqColumn"));portletSlider.btnSlider=$(".btnSlider").position();portletSlider.btnSliderOffset=$(".btnSlider").offset();portletSlider.portletOffset=$(".portletColumn").offset();$(window).scroll(function(){if($(".portletColumn").hasClass("collapsed")){slideHiddenTabs()}else{slideFullPortlets()}});$(".aLinks li").hover(function(){var a=$(this).find("a").attr("alt");$(".rightTabInfo").html(a)},function(){$(".rightTabInfo").html("")});$(".btnSlideRight").click(function(){$(".aLinks").addClass("reader-mode");slideHiddenTabs();$(".portletColumn").animate({width:"-=185px"},500,function(){equalHeight($(".eqColumn"))}).addClass("collapsed");$(".contentColumn").animate({width:"+=185px"},500,function(){});$(".portletTabMenu").fadeIn(500);$(".portletWrapper, .btnSlideRight, .btnSlideLeft,.rightTabInfo").toggle();$(".btnSlider").css({top:$(".portletTabMenu").css("top")+"px",position:"relative"});$(".ssArticleWidget").addClass("hidden");$(".resetAfter").nextAll().remove();$(".portletContainer .portlet").clone().appendTo(".hiddenTabs");$(".hiddenTabs .portlet .moveicon").remove();$(".hiddenTabs .portlet").replaceWith(function(){flyoutTitle=$.trim($(".configure",this).text());if(flyoutTitle==""){return""}switch(flyoutTitle){case"Readers of This Also Read...":flyoutTitle='<div class="rightTab"><a href="#" class="openFlyout '+($(this).hasClass("thirdParty")?"thirdParty":"")+'" onclick="return false">Readers Also Read</a>';break;default:flyoutTitle='<div class="rightTab"><a href="#" class="openFlyout '+($(this).hasClass("thirdParty")?"thirdParty":"")+'" onclick="return false">'+flyoutTitle+"</a>";break}return flyoutTitle+'<div class="flyout"><div class="'+$(this).attr("class")+'" id="'+$(this).attr("id")+'">'+$(this).html()+"</div></div></div>"})});$(".btnSlideLeft").click(function(){$(".aLinks").removeClass("reader-mode");$(".flyout").fadeOut().css({"z-index":zIndex.portlet.flyout_inactive});$(".popupPortlet").animate({opacity:"0"},10,function(){});$(".contentColumn").animate({width:"-=185px"},500,function(){});$(".portletColumn").animate({width:"+=185px"},500,function(){equalHeight($(".eqColumn"))}).removeClass("collapsed");$(".portletWrapper").fadeIn(500);$(".btnSlideRight, .btnSlideLeft,.rightTabInfo").toggle();$(".btnSlider, .portletTabMenu").css({top:"0px",position:"relative"});$(".ssArticleWidget").removeClass("hidden");$(".resetAfter").nextAll().remove()});$(".rightTab").live("click",function(){$(".flyout").fadeOut();$(".rightTab").removeClass("open");if($(this).find(".flyout").is(":hidden")){$(this).find(".flyout").fadeIn();$(this).addClass("open")}else{$(this).find(".flyout").fadeOut();$(this).removeClass("open")}})});function removePanel(b,c,a){a=(a!=undefined)?a:$(".mainContainer");c=(c!=undefined)?c:$(".portletColumn");b=(b!=undefined)?b:$(".contentColumn, .contentBodyContainer");$(c).css("display","none");$(b).css("width",$(a).width()+"px")}function slideHiddenTabs(){portletSlider.windowScrollTop=$(window).scrollTop();portletSlider.portletColumn=$(".portletColumn").position();portletSlider.portletTabMenu=$(".portletTabMenu").position();if(portletSlider.windowScrollTop>portletSlider.portletColumn.top){forceAlign=(portletSlider.windowScrollTop<(portletSlider.portletColumn.top+$(".portletColumn").height()-$(".portletTabMenu").height()))?portletSlider.windowScrollTop-portletSlider.portletColumn.top-100:$(".portletColumn").height()-$(".portletTabMenu").height()-100}else{forceAlign=0}$(".portletTabMenu,.btnSlider").css({top:forceAlign+"px"})}function slideFullPortlets(){portletSlider.windowScrollTop=$(window).scrollTop();if(portletSlider.windowScrollTop>portletSlider.btnSliderOffset.top&&portletSlider.windowScrollTop<=$(".portletColumn").height()+portletSlider.portletOffset.top-150){forceAlign=portletSlider.windowScrollTop-portletSlider.portletOffset.top;$(".btnSlider").css({top:forceAlign+"px",position:"relative"})}else{if(portletSlider.windowScrollTop<=portletSlider.btnSliderOffset.top){$(".btnSlider").css({top:"0px",position:"relative"})}}}var setSelector=".portletContainer";var viewMoreText="[+] View More";var viewFewerText="[-] View Fewer";function restoreOrder(){var j=$(setSelector);if(j==null){return}if(!$.cookie("sortOrderCookie3")){return}var b=$.cookie("sortOrderCookie3");var d=b.split(",");var g=j.sortable("toArray");var l=new Array();for(var o=0,h=g.length;o<h;o++){l[g[o]]=g[o]}for(var c=0,k=d.length;c<k;c++){var f=d[c];if(f in l){var e=l[f];var a=$("div.ui-sortable").children("#"+e);var m=$("div.ui-sortable").children("#"+f);a.detach();$("div.ui-sortable").filter(":first").append(m)}}}function restoreViewMoreState(){var a=($.cookie("portletViewMoreState")).split(",");$.each(a,function(b,c){var d=c.split(":");$("div#"+d[0]+" .viewMoreSection").css("display",d[1]);$(".widgetViewMore a","div#"+d[0]).html((d[1]=="none")?viewMoreText:viewFewerText)})}function restoreViewState(){var a=($.cookie("portletStateCookie")).split(",");$.each(a,function(b,c){var d=c.split(":");$("div#"+d[0]+" .portlet-content").css("display",d[1])})}$(function(){$(setSelector).sortable({connectWith:".portletContainer",handle:".moveicon",cursor:"move",placeholder:"placeholder",forcePlaceholderSize:true,opacity:0.4,stop:function(a,d){$(d.item).find(".moveicon").click();var c="";var b="";$(".portletContainer").each(function(){var e=$(this).sortable("toArray");b+=e.toString()});$.cookie("sortOrderCookie3",b)},start:function(a,b){b.placeholder.height(b.helper.height())}});$("#aShowMoreArticles").click(function(){$(".viewMoreArticlesSection",$(this).closest(".portlet")).toggle();var a=$(".widgetViewMore a",$(this).closest(".portlet"));a.html((a.html()==viewMoreText)?viewFewerText:viewMoreText);visibility=new Array();$(".portlet:has(.viewMoreSection)").each(function(){var b=$(this).attr("id");var c=$(".viewMoreSection",$(this)).css("display");visibility.push(b+":"+c)});$.cookie("portletViewMoreState",visibility);equalHeight($(".eqColumn"))});$(".configureicon").click(function(){$(this).parent().siblings().toggle();var a=new Array();$(".portletContainer .portlet .portlet-content").each(function(){var b=$(this).parent().attr("id");var c=$(this).css("display");a.push(b+":"+c)});$.cookie("portletStateCookie",a);equalHeight($(".eqColumn"))});if($.cookie("sortOrderCookie3")){restoreOrder()}if($.cookie("portletStateCookie")){restoreViewState()}if($.cookie("portletViewMoreState")){restoreViewMoreState()}});(function(b,h){function c(a,e,g){var f=[];(a.reduction||a).filter(b.validity.settings.elementSupport).each(function(){e(this)?f.push(this):q(this,m(g,{field:u(this)}))});a.reduction=b(f);return a}function l(){if(b.validity.isValidating()){b.validity.report.errors++,b.validity.report.valid=!1}}function q(a,d){l();b.validity.out.raise(b(a),d)}function r(a,d){l();b.validity.out.raiseAggregate(a,d)}function s(e){var d=0;e.each(function(){var a=parseFloat(this.value);d+=isNaN(a)?0:a});return d}function m(e,d){for(var f in d){d.hasOwnProperty(f)&&(e=e.replace(RegExp("#\\{"+f+"\\}","g"),d[f]))}return t(e)}function u(a){var a=b(a),d=a.prop("id"),e=b.validity.settings.defaultFieldName;if(a.prop("title").length){e=a.prop("title")}else{if(/^([A-Z0-9][a-z]*)+$/.test(d)){e=d.replace(/([A-Z0-9])[a-z]*/g," $&")}else{if(/^[a-z0-9]+(_[a-z0-9]+)*$/.test(d)){a=d.split("_");for(d=0;d<a.length;++d){a[d]=t(a[d])}e=a.join(" ")}}}return b.trim(e)}function t(a){return a.substring?a.substring(0,1).toUpperCase()+a.substring(1,a.length):a}var v;b.validity={settings:b.extend({outputMode:"tooltip",scrollTo:!1,modalErrorsClickable:!0,defaultFieldName:"This field",elementSupport:":text, :password, textarea, select, :radio, :checkbox",argToString:function(a){return a.getDate?a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear():a},debugPrivates:!1},{}),patterns:{integer:/^\d+$/,date:/^((0?\d)|(1[012]))\/([012]?\d|30|31)\/\d{1,4}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,usd:/^\$?((\d{1,3}(,\d{3})*)|\d+)(\.(\d{2})?)?$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^[+-]?(\d+(\.\d*)?|\.\d+)([Ee]-?\d+)?$/,zip:/^\d{5}(-\d{4})?$/,phone:/^[2-9]\d{2}-\d{3}-\d{4}$/,guid:/^(\{?([0-9a-fA-F]){8}-(([0-9a-fA-F]){4}-){3}([0-9a-fA-F]){12}\}?)$/,time12:/^((0?\d)|(1[12])):[0-5]\d?\s?[aApP]\.?[mM]\.?$/,time24:/^(20|21|22|23|[01]\d|\d)(([:][0-5]\d){1,2})$/,nonHtml:/^[^<>]*$/},messages:{require:"#{field} is required.",match:"#{field} is in an invalid format.",integer:"#{field} must be a positive, whole number.",date:"#{field} must be formatted as a date. (mm/dd/yyyy)",email:"#{field} must be formatted as an email.",usd:"#{field} must be formatted as a US Dollar amount.",url:"#{field} must be formatted as a URL.",number:"#{field} must be formatted as a number.",zip:"#{field} must be formatted as a zipcode ##### or #####-####.",phone:"#{field} must be formatted as a phone number ###-###-####.",guid:"#{field} must be formatted as a guid like {3F2504E0-4F89-11D3-9A0C-0305E82C3301}.",time24:"#{field} must be formatted as a 24 hour time: 23:00.",time12:"#{field} must be formatted as a 12 hour time: 12:00 AM/PM",lessThan:"#{field} must be less than #{max}.",lessThanOrEqualTo:"#{field} must be less than or equal to #{max}.",greaterThan:"#{field} must be greater than #{min}.",greaterThanOrEqualTo:"#{field} must be greater than or equal to #{min}.",range:"#{field} must be between #{min} and #{max}.",tooLong:"#{field} cannot be longer than #{max} characters.",tooShort:"#{field} cannot be shorter than #{min} characters.",nonHtml:"#{field} cannot contain HTML characters.",alphabet:"#{field} contains disallowed characters.",minCharClass:"#{field} cannot have more than #{min} #{charClass} characters.",maxCharClass:"#{field} cannot have less than #{min} #{charClass} characters.",equal:"Values don't match.",distinct:"A value was repeated.",sum:"Values don't add to #{sum}.",sumMax:"The sum of the values must be less than #{max}.",sumMin:"The sum of the values must be greater than #{min}.",radioChecked:"The selected value is not valid.",generic:"Invalid."},out:{start:function(){this.defer("start")},end:function(a){this.defer("end",a)},raise:function(e,d){this.defer("raise",e,d)},raiseAggregate:function(e,d){this.defer("raiseAggregate",e,d)},defer:function(a){var d=b.validity,d=d.outputs[d.settings.outputMode];d[a].apply(d,Array.prototype.slice.call(arguments,1))}},charClasses:{alphabetical:/\w/g,numeric:/\d/g,alphanumeric:/[A-Za-z0-9]/g,symbol:/[^A-Za-z0-9]/g},outputs:{},__private:h,setup:function(a){this.settings=b.extend(this.settings,a);this.__private=this.settings.debugPrivates?v:h},report:null,isValidating:function(){return !!this.report},start:function(){this.out.start();this.report={errors:0,valid:!0}},end:function(){var a=this.report||{errors:0,valid:!0};this.report=null;this.out.end(a);return a},clear:function(){this.start();this.end()}};b.fn.extend({validity:function(a){return this.each(function(){if(this.tagName.toLowerCase()=="form"){var d=null;typeof a=="string"?d=function(){b(a).require()}:b.isFunction(a)&&(d=a);a&&b(this).bind("submit",function(){b.validity.start();d();return b.validity.end().valid})}})},require:function(a){return c(this,function(d){return b(d).val().length},a||b.validity.messages.require)},match:function(a,d){if(!d){d=b.validity.messages.match,typeof a==="string"&&b.validity.messages[a]&&(d=b.validity.messages[a])}typeof a=="string"&&(a=b.validity.patterns[a]);return c(this,b.isFunction(a)?function(e){return !e.value.length||a(e.value)}:function(e){if(a.global){a.lastIndex=0}return !e.value.length||a.test(e.value)},d)},range:function(a,d,e){return c(this,a.getTime&&d.getTime?function(f){f=new Date(f.value);return f>=new Date(a)&&f<=new Date(d)}:a.substring&&d.substring&&Big?function(f){f=new Big(f.value);return f.greaterThanOrEqualTo(new Big(a))&&f.lessThanOrEqualTo(new Big(d))}:function(f){f=parseFloat(f.value);return f>=a&&f<=d},e||m(b.validity.messages.range,{min:b.validity.settings.argToString(a),max:b.validity.settings.argToString(d)}))},greaterThan:function(a,d){return c(this,a.getTime?function(e){return new Date(e.value)>a}:a.substring&&Big?function(e){return(new Big(e.value)).greaterThan(new Big(a))}:function(e){return parseFloat(e.value)>a},d||m(b.validity.messages.greaterThan,{min:b.validity.settings.argToString(a)}))},greaterThanOrEqualTo:function(a,d){return c(this,a.getTime?function(e){return new Date(e.value)>=a}:a.substring&&Big?function(e){return(new Big(e.value)).greaterThanOrEqualTo(new Big(a))}:function(e){return parseFloat(e.value)>=a},d||m(b.validity.messages.greaterThanOrEqualTo,{min:b.validity.settings.argToString(a)}))},lessThan:function(a,d){return c(this,a.getTime?function(e){return new Date(e.value)<a}:a.substring&&Big?function(e){return(new Big(e.value)).lessThan(new Big(a))}:function(e){return parseFloat(e.value)<a},d||m(b.validity.messages.lessThan,{max:b.validity.settings.argToString(a)}))},lessThanOrEqualTo:function(a,d){return c(this,a.getTime?function(e){return new Date(e.value)<=a}:a.substring&&Big?function(e){return(new Big(e.value)).lessThanOrEqualTo(new Big(a))}:function(e){return parseFloat(e.value)<=a},d||m(b.validity.messages.lessThanOrEqualTo,{max:b.validity.settings.argToString(a)}))},maxLength:function(a,d){return c(this,function(e){return e.value.length<=a},d||m(b.validity.messages.tooLong,{max:a}))},minLength:function(a,d){return c(this,function(e){return e.value.length>=a},d||m(b.validity.messages.tooShort,{min:a}))},alphabet:function(a,d){var e=[];return c(this,function(f){for(var g=0;g<f.value.length;++g){if(a.indexOf(f.value.charAt(g))==-1){return e.push(f.value.charAt(g)),!1}}return !0},d||m(b.validity.messages.alphabet,{chars:e.join(", ")}))},minCharClass:function(a,d,e){typeof a=="string"&&(a=a.toLowerCase(),b.validity.charClasses[a]&&(a=b.validity.charClasses[a]));return c(this,function(f){return(f.value.match(a)||[]).length>=d},e||m(b.validity.messages.minCharClass,{min:d,charClass:a}))},maxCharClass:function(a,d,e){typeof a=="string"&&(a=a.toLowerCase(),b.validity.charClasses[a]&&(a=b.validity.charClasses[a]));return c(this,function(f){return(f.value.match(a)||[]).length<=d},e||m(b.validity.messages.maxCharClass,{max:d,charClass:a}))},nonHtml:function(a){return c(this,function(d){return b.validity.patterns.nonHtml.test(d.value)},a||b.validity.messages.nonHtml)},equal:function(a,j){var k=(this.reduction||this).filter(b.validity.settings.elementSupport),n=function(d){return d},o=b.validity.messages.equal;if(k.length){b.isFunction(a)?(n=a,typeof j=="string"&&(o=j)):typeof a=="string"&&(o=a);var p=b.map(k,function(d){return n(d.value)}),w=p[0],y=!0,x;for(x in p){p[x]!=w&&(y=!1)}if(!y){r(k,o),this.reduction=b([])}}return this},distinct:function(a,j){var n=(this.reduction||this).filter(b.validity.settings.elementSupport),o=function(d){return d},p=b.validity.messages.distinct,w=[],x=!0;if(n.length){b.isFunction(a)?(o=a,typeof j=="string"&&(p=j)):typeof a=="string"&&(p=a);for(var A=b.map(n,function(d){return o(d.value)}),z=0;z<A.length;++z){if(A[z].length){for(var y=0;y<w.length;++y){w[y]==A[z]&&(x=!1)}w.push(A[z])}}if(!x){r(n,p),this.reduction=b([])}}return this},sum:function(a,e){var f=(this.reduction||this).filter(b.validity.settings.elementSupport);if(f.length&&a!=s(f)){r(f,e||m(b.validity.messages.sum,{sum:a})),this.reduction=b([])}return this},sumMax:function(a,e){var f=(this.reduction||this).filter(b.validity.settings.elementSupport);if(f.length&&a<s(f)){r(f,e||m(b.validity.messages.sumMax,{max:a})),this.reduction=b([])}return this},sumMin:function(a,e){var f=(this.reduction||this).filter(b.validity.settings.elementSupport);if(f.length&&a<s(f)){r(f,e||m(b.validity.messages.sumMin,{min:a})),this.reduction=b([])}return this},radioChecked:function(a,e){var f=(this.reduction||this).filter(b.validity.settings.elementSupport);f.is(":radio")&&f.find(":checked").val()!=a&&r(f,e||b.validity.messages.radioChecked)},radioNotChecked:function(a,e){var f=(this.reduction||this).filter(b.validity.settings.elementSupport);f.is(":radio")&&f.filter(":checked").val()==a&&r(f,e||b.validity.messages.radioChecked)},checkboxChecked:function(a){var d=(this.reduction||this).filter(b.validity.settings.elementSupport);d.is(":checkbox")&&!d.is(":checked")&&r(d,a||b.validity.messages.radioChecked)},assert:function(a,d){var f=this.reduction||this;if(f.length){if(b.isFunction(a)){return c(this,a,d||b.validity.messages.generic)}else{if(!a){r(f,d||b.validity.messages.generic),this.reduction=b([])}}}return this},fail:function(d){return this.assert(!1,d)}});v={validate:c,addToReport:l,raiseError:q,raiseAggregateError:r,numericSum:s,format:m,infer:u,capitalize:t}})(jQuery);(function(b){b.validity.outputs.tooltip={tooltipClass:"validity-tooltip",start:function(){b("."+b.validity.outputs.tooltip.tooltipClass).remove()},end:function(){},raise:function(c,a){var g=c.offset();g.left+=c.width()+18;g.top+=8;b('<div class="validity-tooltip">'+a+'<div class="validity-tooltip-outer"><div class="validity-tooltip-inner"></div></div></div>').click(function(){c.focus();b(this).fadeOut()}).css(g).hide().appendTo("body").fadeIn()},raiseAggregate:function(c,e){c.length&&this.raise(c.filter(":last"),e)}}})(jQuery);(function(b){function c(d){return d.attr("id").length?d.attr("id"):d.attr("name")}b.validity.outputs.label={cssClass:"error",start:function(){b("."+b.validity.settings.cssClass).remove()},end:function(a){if(!a.valid&&b.validity.settings.scrollTo){location.hash=b("."+b.validity.outputs.label.cssClass+":eq(0)").attr("for")}},raise:function(a,e){var g="."+b.validity.outputs.label.cssClass+"[for='"+c(a)+"']";b(g).length?b(g).text(e):b("<label/>").attr("for",c(a)).addClass(b.validity.outputs.label.cssClass).text(e).click(function(){a.length&&a[0].select()}).insertAfter(a)},raiseAggregate:function(a,f){a.length&&this.raise(b(a.get(a.length-1)),f)}}})(jQuery);(function(b){b.validity.outputs.modal={start:function(){b(".validity-modal-msg").remove()},end:function(a){if(!a.valid&&b.validity.settings.scrollTo){location.hash=b(".validity-modal-msg:eq(0)").attr("id")}},raise:function(c,a){if(c.length){var g=c.offset();c.get(0);g={left:parseInt(g.left+c.width()+4,10)+"px",top:parseInt(g.top-10,10)+"px"};b("<div/>").addClass("validity-modal-msg").css(g).text(a).click(b.validity.settings.modalErrorsClickable?function(){b(this).remove()}:null).appendTo("body")}},raiseAggregate:function(c,a){c.length&&this.raise(b(c.get(c.length-1)),a)}}})(jQuery);(function(b){var c=[];b.validity.outputs.summary={start:function(){b(".validity-erroneous").removeClass("validity-erroneous");c=[]},end:function(){b(".validity-summary-container").hide().find("ul").html("");if(c.length){for(var a=0;a<c.length;++a){b("<li/>").text(c[a]).appendTo(".validity-summary-container ul")}b(".validity-summary-container").show();if(b.validity.settings.scrollTo){location.hash=b(".validity-erroneous:eq(0)").attr("id")}}},raise:function(d,e){c.push(e);d.addClass("validity-erroneous")},raiseAggregate:function(d,f){this.raise(d,f)},container:function(){document.write('<div class="validity-summary-container">The form didn\'t submit for the following reason(s):<ul></ul></div>')}}})(jQuery);var maximizedClass="maximized";function bindToggle(b,c,e,h,g,j,f,d){var a=$(b);a.die("click");a.live("click",function(m){var l=$(this);var o;if(l.hasClass(maximizedClass)){$(c+" ."+e).hide();l.removeClass(maximizedClass);l.text(h);o="View Less"}else{$(c+" ."+e).show();l.addClass(maximizedClass);l.text(g);o="View More"}var p=o+" is Clicked";var n;var k;n=new UserSessionItem(f,0,0);k=new ActionType(1,j);doTracking(k,p.toString(),d,n,(window.location).toString())})}function syncViewMoreToggle(c,a,b){if($(c).hasClass(maximizedClass)){$(a+" ."+b).show()}else{$(a+" ."+b).hide()}}function bindTabs(d,e,c,b,a){$(e).live("click",function(f){$(d).removeClass(a);var g=$(e);g.addClass(a);$(b).hide();$(c).show()})}function bindFilterTerms(b,d,c,a){$(d).hide();$(b).unbind("click");$(b).click(function(){$(d).toggle()});$(c).unbind("click");$(c).click(function(){$(c).css("font-weight","normal");$(this).css("font-weight","bold");var e=$(this).attr("id");$("#divArticleContent").html('<img src="'+image.ajax_loader+'" alt="please wait" /> Loading content.');a(e)})};