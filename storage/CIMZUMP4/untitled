function setpdflink(n){$(".purchaseAccess .pPPPVspecial").attr("style","display:block"),$(".pPPPVspecial .special").attr("href",n)}function equalHeight(n,t,i){var i=i?i:"min-height",t=t?t:0;tallest=t,n.css(i,""),n.each(function(){thisHeight=$(this).outerHeight(),thisHeight>tallest&&(tallest=thisHeight)}),n.css(i,tallest+"px").log("equalHeight: "+tallest+"px")}function in_array(n,t,i){var r="",u=!!i;if(u){for(r in t)if(t[r]===n)return!0}else for(r in t)if(t[r]==n)return!0;return!1}function pingServerSession(){var n=new XMLHttpRequest;n.open("GET","/services/keepSessionAlive.ashx?r="+Math.random(),!0),n.send("")}function keepSessionAliveByPage(){scm6_keep_session_alive_end_time==undefined||scm6_keep_session_alive_end_time==null?(scm6_keep_session_alive_end_time=new Date,scm6_keep_session_alive_end_time.setHours(parseInt(scm6_keep_session_alive_end_time.getHours())+8),scm6_keep_session_alive_worker=setTimeout("keepSessionAliveByPage()",6e3)):scm6_keep_session_alive_end_time>new Date?(pingServerSession(),scm6_keep_session_alive_worker=setTimeout("keepSessionAliveByPage()",6e3)):(clearTimeout(scm6_keep_session_alive_worker),scm6_keep_session_alive_end_time=null)}function vertical_contentHeight(n,t,i){i=i?parseInt(i):0,$(n).height()>$(t).height()&&$(t).height($(n).height()+i)}function pad2(n){return(parseInt(n.toString())<10?"0":"")+n.toString()}function URLDecode(n){return unescape(String(n).replace(/\+/g," "))}function getMonthName(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}function isValidDate(n){var t=/(?:[1-9]|0[1-9]|1[0-2])\/(?:[1-9]|0[1-9]|[12][0-9]|3[01])\/(?:19|20\d{2})/;return t.test(n)}function removeItemsfromCollection(n){var i,t;for(typeof n!="object"&&(n=[n]),i=0;i<n.length;i++)for(t=0;t<ActiveFilterItems.length;t++)ActiveFilterItems[t].FilterType==n[i]&&ActiveFilterItems.Slice(t,t);return ActiveFilterItems.length}function updateActiveFilter(n,t){removeItemsfromCollection(t),ActiveFilterItems[ActiveFilterItems.length]=n.FilterType=="DateRangeFilter"?new aRangeFilterItem(t,n.FilterStartValue,n.FilterEndValue):new aFilterItem(t,n.FilterValue)}function ContentFilter(n){this.FilterOptionItem=n}function FilterItem(n,t){this.FilterType=n[t].FilterType,this.FilterValue=n[t].FilterValue}function aFilterItem(n,t){this.FilterType=n,this.FilterValue=t,this.FilterStartValue="",this.FilterEndValue="",this.FilterOptions=[]}function aRangeFilterItem(n,t,i){this.FilterType=n,this.FilterValue="",this.FilterStartValue=t,this.FilterEndValue=i,this.FilterOptions=[]}function ResultItem(n){this.Item=n}function SearchParameters(n,t,i,r,u,f,e,o,s,h,c){this.QueryText=n,this.SearchScope=t,this.CurrentPage=r,this.PageLength=u,this.Filters=[],this.Filters=f,this.SortOrder=e,this.ResultViewOrder=o,this.SearchSource=i,this.DoCacheResults=s,this.UseCachedResults=h,this.WebSessionId=c,this.DebugLevel=debug}function AutosuggestParameters(n){this.QueryText=n}function doSearch(n,t,i,r,u,f,e,o,s,h){var v,l,c,p,y,a;if(f!=null)for(v="",l=0;l<f.length;++l)v+=f[l].FilterValue.toString()+";\n";searchAction.invalidquery(n)&&(searchAction.preLoad(),window.location.pathname.toLowerCase().indexOf("searchresults.aspx")==-1||lastQueryText.length>0&&URLDecode(n)!=lastQueryText||window.location.pathname.toLowerCase().indexOf("advanced")>0?(c="/searchresults.aspx?q={0}&t={1}&p={2}&s={3}&c=0",isMobile&&(c="/mobile"+c),debug>1&&(c=c+"&d="+jQuery.url().param("d")),isNaN(r)&&(r=1),p=c.format(escape(n),escape(t),escape(r),escape(i)),window.location.href=p):(isNaN(parseInt(r,10))&&(r=1),isNaN(parseInt(u,10))&&(u=20),n=URLDecode(n),$("#queryText").val(n),$("#searchScope").val(t),$("#currentPage").val(r),$("#pageLength").val(u),$("#txtSearchTerm").val(n),y=$("#sessionId").val(),jQuery.url().param("s")=="19"&&f==null?(f=[],f[0]=new aFilterItem("0","u")):jQuery.url().param("s")=="19"&&(f[f.length]=new aFilterItem("0","u")),a=new SearchParameters(n,t,i,r,u,f,e,o,s,h,y),typeof isMobile!="undefined"&&isMobile?$.when(doMainSearch(a,o,t,u)):$.when(doMainSearch(a,o,t,u),doNetworkSearch(n,o,i)),lastQueryText.length>0&&activeSavedSearch!==undefined&&activeSavedSearch.QueryText!=lastQueryText&&(activeSavedSearch=null,$("#lnkGetAlerts").text("Get Alerts on this Search"),$("#lnkGetAlerts").show()),lastQueryText=n,lastResultView=o))}function doMainSearch(n,t,i){var u,e,f,o;window.startTime=+new Date,u=new SearchParameters(n.QueryText,n.SearchScope,n.SearchSource,n.CurrentPage,n.PageLength,n.Filters,n.SortOrder,n.ResultViewOrder,n.DoCacheResults,n.UseCachedResults,n.WebSessionId),u.CurrentPage=1,u.SearchSource=27,u.SortOrder=0,u.WebSessionId="",u.DoCacheResults=!0,u.UseCachedResults=!1,e=JSON.stringify(u),f=$("#savedSearch"),f.val(e),o=$.ajax({type:"POST",url:"/Services/SearchService.svc/RunSearch",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",processData:!1,success:function(n,t,r){var y,a,c,o,v,h,s,p,w,l,r,g,tt,nt,e,f,rt,it,b,k,d,u;if($(".filterSettings").empty(),$("#filterTplLoading").tmpl().appendTo(".filterSettings"),s=n!=null?n.ResultsCount:0,ActiveSortOrder=n.SortOrder,ActiveSortOrder==0?($("#sortByBestMatchLink").addClass("selected"),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").removeClass("selected")):ActiveSortOrder==1?($("#sortByBestMatchLink").removeClass("selected"),$("#sortByMostRecentLink").addClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").removeClass("selected")):ActiveSortOrder==2?($("#sortByBestMatchLink").removeClass("selected"),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByCme").addClass("selected"),$("#sortByOldest").removeClass("selected")):($("#sortByBestMatchLink").removeClass("selected"),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").addClass("selected")),n.ErrorMessage!=null&&n.ErrorMessage.length>0){$(".resultsPerPage").hide(),$("#lnkGetAlerts").hide(),$(".searchContentContainer").html("<div class='message error'><p>An error has occurred with the search service, please try your search again later.</p><p>If the problem persists contact technical support.</p></div>");return}if($("#searchword").html(n.QueryText),$(".mask").css({top:$(".maskColumn").position().top+"px"}),$(".searchContentContainer").html(""),$("#disambiguatedTermsSection").html(""),n.InvalidQuery!=null&&n.InvalidQuery.length>0){$(".resultsPerPage").hide(),$("#lnkGetAlerts").hide(),$(".searchContentContainer").html("<div class='message error'>"+n.InvalidQuery+"</div>");return}if(n.SearchResults==null||n.SearchResults.length==0)showHeaderFilters(n),l="<string>0</string> results",$("#spnResults").html(l),$(".searchContentContainer").html("<div class='message alert'><p style='color:black;'>No matches found. Please modify your search term and try again.</p></div>");else for(c=n.PageNumber,o=n.PageLength,$("#currentPage").val(c),$("#pageLength").val(o),v=(parseInt(c,10)-1)*parseInt(o,10)+1,h=v+parseInt(o,10)-1,h>s&&(h=s),y=s-c*o,a=y>19?20:y,p="Next {0} {1} &gt;",w="&lt; Previous {0} {1}",l="Showing <strong>{0}-{1}</strong> of <strong>{2}</strong> results",debug>1&&$().log("resultsCount: "+s+" remainingRecords: "+a+" recordsLeft: "+y+" lowRecord: "+v+" highRecord: "+h),a<=0?$("#nextPage").hide():($("#nextPage").html(p.format(a,"Results")),$("#nextPage").show()),c>1?($("#prevPage").show(),$("#prevPage").html(w.format(o,"Results"))):$("#prevPage").hide(),parseInt(s,10)==0?($("#spnResults").html("0 results"),$("#nextPage").hide(),$("#prevPage").hide()):$("#spnResults").html(l.format(v,h,s)),$("#spnResults,.resultsPerPage").show(),r=0;r<n.SearchResults.length;++r)new ResultItem(n.SearchResults[r]).toResultHtml();if(e="",n.DisambiguationOptions!=null&&n.DisambiguationOptions.length>0)for(e+="Your query matches more than one term. Please select one of the following terms: ",u=0;u<n.DisambiguationOptions.length;++u)e+="<a ",e+='id="disambiguatedTermLink'+u+'" ',e+='style="cursor: pointer;" ',e+="onclick=\"doSearch('"+n.DisambiguationOptions[u].Term+"', '"+i+"', 14, 1, '"+o+"', new Array(), ActiveSortOrder, ActiveResultView);\" ",e+=">",e+=n.DisambiguationOptions[u].Term,e+=u<n.DisambiguationOptions.length-1?"</a>; ":"</a>";if($("#disambiguatedTermsSection").html(e),f="",n.NoResultOptions!=null&&n.NoResultOptions.length>0)for(f+="You may want to try one of the following terms for your search: ",u=0;u<n.NoResultOptions.length;++u)f+="<a ",f+='id="noResultOptionLink'+u+'" ',f+='style="cursor: pointer;" ',f+="onclick=\"doSearch('"+n.NoResultOptions[u].Term+"', '"+i+"', 15, 1, '"+o+"', new Array(), ActiveSortOrder, ActiveResultView);\" ",f+=">",f+=n.NoResultOptions[u].Term,f+=u<n.NoResultOptions.length-1?"</a>; ":"</a>";for($("#noResultOptionsSection").html(f),showHeaderFilters(n),$(domReference.filterColumn).empty(),r=0;r<n.Filters.length;r++){filter=n.Filters[r];switch(filter.FilterType){case"ContentTypeFilter":filter.clearShow=filter.FilterValue!=""?!0:!1,filter.index=0,filter.FilterValue!=""&&updateActiveFilter(filter,filter.index),$("#filterSimpleList").tmpl(filter).appendTo(domReference.filterColumn);break;case"JournalFilter":filter.clearShow=!isNaN(parseInt(filter.FilterValue)),filter.index=1,updateActiveFilter(filter,filter.index),$("#filterSimpleList").tmpl(filter).appendTo(domReference.filterColumn);break;case"ArticleTypeFilter":filter.clearShow=!isNaN(parseInt(filter.FilterValue)),filter.index=3,filter.FitlerDisplayTitle="Article Type",updateActiveFilter(filter,filter.index),$("#filterSimpleList").tmpl(filter).appendTo(domReference.filterColumn);break;case"TopicFilter":filter.clearShow=!isNaN(parseInt(filter.FilterValue)),filter.FitlerDisplayTitle="Topics",$("#filterCheckList").tmpl(filter).appendTo(domReference.filterColumn);break;case"DateRangeFilter":(isDate(filter.FilterStartValue)||isDate(filter.FilterEndValue))&&(filter.index=5,updateActiveFilter(filter,filter.index),filter.clearShow=!0),$("#filterDateRange").tmpl(filter).appendTo(domReference.filterColumn),$("#fromDate1,#toDate1").datepicker(),searchAction.eventFilterDateRange()}}hideFilters(i),headerPostion=$(".searchHeaderContentHolder").position(),$(window).scrollTop()>headerPostion.top&&$(window).scrollTop(headerPostion.top),searchAction.postLoad(),window.endTime=+new Date,$("#timeOfSearch").html("Search took: "+(window.endTime-window.startTime)/1e3+" secs")},error:function(n,t,i){alert(n.status+" "+i)},complete:function(){},beforeSend:function(){}})}function isDate(n){var t=new Date(n);return!(t.toString()=="NaN")&&!(t.toString()=="Invalid Date")}function showLoading(){if($(".mask").length>0){var n={width:$(".maskColumn").width(),height:$(".maskColumn").height()};n.position=$(".maskColumn").position(),$(".mask").css({top:n.position.top+"px",left:n.position.left+"px",width:n.width+"px",height:n.height+"px"}),$(maskWidgets).each(function(n,t){$(t+" div:last").hasClass("widgetMask")==0&&($("<div class='widgetMask'></div>").appendTo($(t)),headerHeight=$(t).find(".portlet-header").height()+20)}),$(".mask,.widgetMask").fadeIn("slow")}}function hideLoading(){$("#pageLinks").show(),$(".mask,.widgetMask").fadeOut("slow")}function toggleTopicFilter(n){var u=$(n),i,r,t;if(n.checked)$("#topicSelected").val($("#topicSelected").val()+$(n).context.value+",");else{for(i=$("#topicSelected").val().split(","),r="",t=0;t<i.length-1;t++)i[t]!=$(n).context.value&&(r=r+i[t]+",");$("#topicSelected").val(r)}removeItemsfromCollection("4"),$("#topicSelected").val().length>0&&(ActiveFilterItems[ActiveFilterItems.length]=new aFilterItem("4",$("#topicSelected").val().slice(0,-1))),$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),6,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}function showHeaderFilters(n){var u="#headerFilterItems",f="#filterSelectedItem",i={},t,r;for($(u).empty(),t=0;t<n.Filters.length;t++){i={};switch(n.Filters[t].FilterType){case"OwnershipFilter":break;case"ContentTypeFilter":break;case"DateRangeFilter":isDate(n.Filters[t].FilterStartValue)&&isDate(n.Filters[t].FilterEndValue)&&(i.type=n.Filters[t].FilterType,i.name=n.Filters[t].FilterStartValue+"-"+n.Filters[t].FilterEndValue,$(f).tmpl(i).appendTo(u));break;default:for(r=0;r<n.Filters[t].FilterOptions.length;r++)i={},(n.Filters[t].FilterOptions[r].ItemChecked=="1"||n.Filters[t].FilterOptions[r].ItemValue==n.Filters[t].FilterValue)&&(i.type=n.Filters[t].FilterType,i.name=n.Filters[t].FilterOptions[r].ItemCaption.split(" (")[0].replace(/^\s\s*/,"").replace(/\s\s*$/,""),$(f).tmpl(i).appendTo(u))}}}function clearFilter(n,t){var o,i,r,e,u,f;o=JSON.parse(FilterItemType),i="",t=t?t:null,$.each(o,function(t,r){t==n&&(i=r)});switch(i){case"0":removeItemsfromCollection([i,1,2,3]),r=2;break;case"1":removeItemsfromCollection([i,3]),r=3,(jQuery.url().param("s")=="19"||jQuery.url().param("s")=="20")&&jQuery.url().param("t").indexOf(",")>0?$("#searchScope").val(jQuery.url().param("t")):$("#searchScope").val("J*");break;case"2":removeItemsfromCollection(i),r=4,(jQuery.url().param("s")=="19"||jQuery.url().param("s")=="20")&&jQuery.url().param("t").indexOf(",")>0?$("#searchScope").val(jQuery.url().param("t")):$("#searchScope").val("B*");break;case"3":removeItemsfromCollection(i),r=5;break;case"4":if(removeItemsfromCollection(i),t!=""&&t!=null){for(e=$("#topicSelected").val().split(","),u="",f=0;f<e.length-1;f++)e[f]!=t&&(u=u+e[f]+",");$("#topicSelected").val(u),ActiveFilterItems[ActiveFilterItems.length]=new aFilterItem(i,u.slice(0,-1))}else $("#topicSelected").val("");r=6;break;case"5":removeItemsfromCollection(i),r=7;break;case"6":default:r=0}$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),r,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}function clearAllFilters(){for(var n=0;n<7;n++)removeItemsfromCollection(n);$("#topicSelected").val(""),$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),16,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}function hideFilters(n){var t=n.charAt(0).toLowerCase();t=="b"?($("div#fpDateRange").hide(),$("span#spnResultsSortBy").hide()):($("div#fpDateRange").show(),$("span#spnResultsSortBy").show()),n.toLowerCase()!=t+"*"&&$("div#fpContentTypeFilter").hide()}function smartAutoCompleteSetup(){}function clearLeftPadding(){}function doGlobalSearch(n){isSolrSearchEnabled?autoSuggestRunning||doAMASolrSearch(n,null):window.location.href=$("#hiddenGlobalSearchSiteURL").val()+"searchresults.aspx?q="+escape(n)+"&p=1&s=1&c=0"}function doAMASolrSearch(n,t){var u=[["J67","JAMA"],["J68","JAMA Dermatology"],["J69","JAMA Facial Plastic Surgery"],["J71","JAMA Internal Medicine"],["J72","JAMA Neurology"],["J73","JAMA Ophthalmology"],["J74","JAMA Otolaryngology–Head & Neck Surgery"],["J75","JAMA Pediatrics"],["J70","JAMA Psychiatry"],["J76","JAMA Surgery"],["J91","Archives of Neurology & Psychiatry"]],f,o,r,i,e;if(n=encodeURIComponent(n),t==null||t==""||t=="J*")f="&allJournals=1",window.location.href=$("#hiddenGlobalSearchSiteURL").val()==undefined?"/solr/searchresults.aspx?q="+n+f+"&SearchSourceType=1":$("#hiddenGlobalSearchSiteURL").val()+"solr/searchresults.aspx?q="+n+f+"&SearchSourceType=1";else{for(o="&fd_JournalID="+t.substr(1,t.length),r="",i=0;i<u.length;i++)if(u[i][0]==t){r=u[i][1];break}e="&f_JournalDisplayName="+encodeURIComponent(r),window.location.href="/solr/searchresults.aspx?q="+n+o+e+"&SearchSourceType=3"}}function ActionType(n,t){this.ActionFilterKey=n,this.ActionFilterValue=t}function UserSessionItem(n,t,i){this.SessionID=n,this.ClientID=t,this.SiteID=i}function UserSessionItemDetail(n,t,i,r,u){this.SessionID=n,this.ClientID=t,this.SiteID=i,this.institutionID=r,this.UserID=u}function UserTracking(n,t,i,r,u){this.ActionFilterType=n,this.ActionDescription=t,this.ActionDateTime=i,this.UserSessionItem=r,this.ActionURL=u}function dostatstracking(n,t,i,r,u){var o=new UserTracking(n,t,i,r,u),e="ClientTrackingHandler.ashx";$.ajax({type:"POST",url:e,data:o.toJson(),contentType:"application/json; charset=utf-8",dataType:"json",async:asyncTracking,processData:!0,success:function(n){var t=n;callbackFn(t)},error:function(n){callbackFn(n.status)}})}function callbackFn(){}function doTracking(n,t,i,r,u){mydotracking(n,t,i,r,u,callbackFn)}function doTracking(n,t,i,r,u,f){f=="sync"&&(asyncTracking=!1),dostatstracking(n,t,i,r,u,callbackFn)}function detailsHandler(n){var t=document.getElementById("scm6MainContent_ucGetCitation_articleId").value;n=n+"&articleid="+t,window.location=n}function MyResource(n,t){this.ResourceType=n,this.ResourceId=t}function ResourceAccess(n,t){this.hasAccess=n,this.resourcePdfUrl=t}function isUserSubscribedToResource(n,t){var r=new MyResource(n,t),u="CheckAccessToResource.ashx",i=null;return $.ajax({type:"POST",url:u,data:r.toJson(),contentType:"application/json; charset=utf-8",async:!1,dataType:"json",processData:!1,success:function(n){i=new ResourceAccess(n.hasAccess,n.resourcePdfurl)},error:function(n){alert(n.status+" "+n.statusText)}}),i}function iframeAutoResize(n){var r,i;if(typeof n=="string"&&n.length>0){var u=$("iframe").filter("#"+n),t=u.contents().find("embed,object,img").filter(":eq(0)"),s=parseInt(t.attr("width"))||null,o=parseInt(t.attr("height"))||null,e=4,f=2;t.length>0?s&&o?(r=o+f,i=s+e):(r=t.height()+f,i=t.width()+e):(r=u.contents().height()+f,i=u.contents().width()+e),u.width(i).height(r)}}function iframeDFP(n,t){var u=u||{},i,r;u.url=t||"about:blank",i=i||{},i.targetid=n||"divAdBottom",i.container=document.getElementById(i.targetid),i.wname="fif-"+n,i.css="/CSS/friendlyIframe.less",i.headcss=unescape('%3Clink rel="stylesheet" type="text/css" href="'+i.css+'" /%3E'),i.headjs=unescape('%3Cscript type="text/javascript"%3E  window.name="'+i.wname+'";  inDapIF = true; window.onload = function(){ parent.iframeAutoResize(window.name);}   %3C/script%3E'),i.bodyjs=unescape('%3Cscript src="'+u.url+'" type="text/javascript"%3E%3C/script%3E'),i.doc="<!DOCTYPE html><head>"+i.headcss+i.headjs+"</head><body>"+i.bodyjs+"</body></html>",r=document.createElement("iframe"),r.setAttribute("id",i.wname),r.setAttribute("frameborder",0),r.setAttribute("marginheight",0),r.setAttribute("marginwidth",0),r.setAttribute("scrolling","no"),i.container.appendChild(r),r.contentWindow.contents=i.doc,r.src='javascript:window["contents"]'}function setFavicon(){var n=$('link[type="image/png"]').remove().attr("href");$('<link href="'+n+'" rel="shortcut icon" type="image/png" />').appendTo("head")}function bind(n,t){return function(){t.apply(n,arguments)}}function AutoCompleteWidget(n,t,i,r,u){this.searchInputControlId=document.getElementById(n),this.searchInputHintControlId=document.getElementById(t),this.autoCompleteResultsControlId=document.getElementById(i),this.isMicrosite=r,u!==null?(this.siteFilterDropDownSelectID=document.getElementById(u),this.siteFilterDropDownSelectID&&this.siteFilterDropDownSelectID.addEventListener("change",bind(this,this.filterSuggestions),!1)):this.siteFilterDropDownSelectID=!1,this.searchInputControlId!==null&&(this.searchInputControlId.addEventListener("keydown",bind(this,this.interceptKeys),!1),this.searchInputControlId.addEventListener("input",bind(this,this.evaluateTerms),!1))}function moveTheFrame(n,t,i){var r=0,u=i;n.scrollTop%t&&(n.scrollTop=0);do setTimeout("scrollTheFrame(element, elementHight);",i),i=i+u,r++;while(r<t)}function scrollTheFrame(n,t){n.scrollTop=n.scrollTop>=n.scrollHeight-t?1:n.scrollTop+1}var displaySignInDialog=function(n){n=="MustSignInOrBuyThisArticle"&&($("#globalSignIn11_PurchaseSubscription").show(),$("#globalSignIn11_PersonalAccountRegistration").hide()),n=="MustSignInOrRegisterForFreeAccount"&&($("#globalSignIn11_PurchaseSubscription").hide(),$("#globalSignIn11_PersonalAccountRegistration").show()),n=="SsoUserNotLoggedIn"&&($("#globalSignIn11_divMustSignInStatement").hide(),$("#globalSignIn11_divNoAccessStatement").show(),$("#globalSignIn11_ssoPurchaseSubscription").show(),$("#globalSignIn11_ssoPersonalAccountRegistration").show(),$("#globalSignIn11_divShouldHaveAccessStatement").hide()),n=="SsoInstitutionNoAccess"&&($("#globalSignIn11_divMustSignInStatement").hide(),$("#globalSignIn11_divNoAccessStatement").show(),$("#globalSignIn11_ssoPurchaseSubscription").show(),$("#globalSignIn11_ssoPersonalAccountRegistration").show(),$("#globalSignIn11_divShouldHaveAccessStatement").hide()),n=="SsoFullAuthenticatedNoAccess"&&($("#globalSignIn11_divMustSignInStatement").hide(),$("#globalSignIn11_divNoAccessStatement").show(),$("#globalSignIn11_ssoPurchaseSubscription").show(),$("#globalSignIn11_ssoPersonalAccountRegistration").hide(),$("#globalSignIn11_divShouldHaveAccessStatement").show()),$signInDialog.parent().appendTo($("#Form1")),$signInDialog.dialog("open")},curDate,image,zIndex,isMobile,mobileFireEvent,isAuthenticated,scm6_keep_session_alive_end_time,scm6_keep_session_alive_worker,maskWidgets,JSON,autoSuggestRunning,JumpId,xmlScrollView,scroller,xmlString;$(window).load(function(){var t=$("body").hasClass("article")?"750":"370",i=$("body").hasClass("article")?"260":"260",n;$signInDialog=$("#signinDialog").dialog({closeText:"X Close",width:"auto",height:"auto",autoOpen:!1,close:function(){$signInDialog.find(".errorMessageSection .validationControl").html(""),$signInDialog.find(".field input").val("")},modal:!0,overlay:{opacity:.7,background:"gray"}}),n=$signInDialog.find('.suppressDialog:eq(0) input[type="hidden"]').attr("value"),typeof n&&n!="1"&&$signInDialog.find(".errorMessageSection .validationControl").html()!=""&&$signInDialog.find(".errorMessageSection .validationControl").length&&($signInDialog.parent().appendTo($("#Form1")),$signInDialog.dialog("open")),$("#TopPDF").click(function(){displaySignInDialog}),$(".footerEmailAlerts").click(function(n){var i,t;n.preventDefault(),i=$("#hfFooterPersonalUserIsLoggedIn").val()=="1"?!0:!1,i?window.location="../account/myalerts.aspx":(t="MustSignInOrRegisterForFreeAccount",displaySignInDialog(t))}),$forgotPassword=$("#forgotPassDialog").dialog({closeText:"x Close",width:640,minHeight:290,height:"auto",autoOpen:!1,close:function(){$forgotPassword.find(".errorMessageSection .validationControl").html(""),$forgotPassword.find(".field input").val("")},modal:!0,overlay:{opacity:.7,background:"gray"}}),$(".globalSignIn .forgotPassword").click(function(){$forgotPassword.parent().appendTo($("#Form1")),$forgotPassword.dialog("open")})});
/*!
 * jQuery UI 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(n,t){function i(t){return!n(t).parents().andSelf().filter(function(){return n.curCSS(this,"visibility")==="hidden"||n.expr.filters.hidden(this)}).length}n.ui=n.ui||{},n.ui.version||(n.extend(n.ui,{version:"1.8.5",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus(),i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.curCSS(this,"position",1))&&/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length){i=n(this[0]);for(var r;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(r=parseInt(i.css("zIndex")),!isNaN(r)&&r!=0))return r;i=i.parent()}}return 0},disableSelection:function(){return this.bind("mousedown.ui-disableSelection selectstart.ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.curCSS(t,"padding"+this,!0))||0,r&&(i-=parseFloat(n.curCSS(t,"border"+this+"Width",!0))||0),u&&(i-=parseFloat(n.curCSS(t,"margin"+this,!0))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],u=r.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?f["inner"+r].call(this):this.each(function(){n.style(this,u,e(this,i)+"px")})},n.fn["outer"+r]=function(t,i){return typeof t!="number"?f["outer"+r].call(this,t):this.each(function(){n.style(this,u,e(this,t,!0,i)+"px")})}}),n.extend(n.expr[":"],{data:function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){var r=t.nodeName.toLowerCase(),u=n.attr(t,"tabindex");return"area"===r?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(t=n("img[usemap=#"+u+"]")[0],!!t&&i(t)):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||!isNaN(u):!isNaN(u))&&i(t)},tabbable:function(t){var i=n.attr(t,"tabindex");return(isNaN(i)||i>=0)&&n(t).is(":focusable")}}),n(function(){var t=document.createElement("div"),i=document.body;n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),n.support.minHeight=i.appendChild(t).offsetHeight===100,i.removeChild(t).style.display="none"}),n.extend(n.ui,{plugin:{add:function(t,i,r){t=n.ui[t].prototype;for(var u in r)t.plugins[u]=t.plugins[u]||[],t.plugins[u].push([i,r[u]])},call:function(n,t,i){if((t=n.plugins[t])&&n.element[0].parentNode)for(var r=0;r<t.length;r++)n.options[t[r][0]]&&t[r][1].apply(n.element,i)}},contains:function(n,t){return document.compareDocumentPosition?n.compareDocumentPosition(t)&16:n!==t&&n.contains(t)},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;i=i&&i==="left"?"scrollLeft":"scrollTop";var r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(n,t,i){return n>t&&n<t+i},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))})(jQuery);
/*!
 * jQuery UI Widget 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(n,t){var r,i;n.cleanData?(r=n.cleanData,n.cleanData=function(t){for(var u=0,i;(i=t[u])!=null;u++)n(i).triggerHandler("remove");r(t)}):(i=n.fn.remove,n.fn.remove=function(t,r){return this.each(function(){return r||(!t||n.filter(t,[this]).length)&&n("*",this).add([this]).each(function(){n(this).triggerHandler("remove")}),i.call(n(this),t,r)})}),n.widget=function(t,i,r){var u=t.split(".")[0],f;t=t.split(".")[1],f=u+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][f]=function(i){return!!n.data(i,t)},n[u]=n[u]||{},n[u][t]=function(n,t){arguments.length&&this._createWidget(n,t)},i=new i,i.options=n.extend(!0,{},i.options),n[u][t].prototype=n.extend(!0,i,{namespace:u,widgetName:t,widgetEventPrefix:n[u][t].prototype.widgetEventPrefix||t,widgetBaseClass:f},r),n.widget.bridge(t,n[u][t])},n.widget.bridge=function(i,r){n.fn[i]=function(u){var o=typeof u=="string",e=Array.prototype.slice.call(arguments,1),f=this;return(u=!o&&e.length?n.extend.apply(null,[!0,u].concat(e)):u,o&&u.substring(0,1)==="_")?f:(o?this.each(function(){var r=n.data(this,i),o;if(!r)throw"cannot call methods on "+i+" prior to initialization; attempted to call method '"+u+"'";if(!n.isFunction(r[u]))throw"no such method '"+u+"' for "+i+" widget instance";return o=r[u].apply(r,e),o!==r&&o!==t?(f=o,!1):void 0}):this.each(function(){var t=n.data(this,i);t?t.option(u||{})._init():n.data(this,i,new r(u,this))}),f)}},n.Widget=function(n,t){arguments.length&&this._createWidget(n,t)},n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){n.data(i,this.widgetName,this),this.element=n(i),this.options=n.extend(!0,{},this.options,n.metadata&&n.metadata.get(i)[this.widgetName],t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,r){var f=i,u=this;if(arguments.length===0)return n.extend({},u.options);if(typeof i=="string"){if(r===t)return this.options[i];f={},f[i]=r}return n.each(f,function(n,t){u._setOption(n,t)}),u},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,r){var f=this.options[t],u;if(i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{},i.originalEvent)for(t=n.event.props.length;t;)u=n.event.props[--t],i[u]=i.originalEvent[u];return this.element.trigger(i,r),!(n.isFunction(f)&&f.call(this.element[0],i,r)===!1||i.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(n){n.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var n=this;this.element.bind("mousedown."+this.widgetName,function(t){return n._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(n._preventClickEvent)return n._preventClickEvent=!1,t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,u=t.which==1,r=typeof this.options.cancel=="string"?n(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;return!u||r||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.browser.safari||t.preventDefault(),t.originalEvent.mouseHandled=!0)}},_mouseMove:function(t){return n.browser.msie&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this._preventClickEvent=t.target==this._mouseDownEvent.target,this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery),function(n){n.ui=n.ui||{};var i=/left|center|right/,t=/top|center|bottom/,u=n.fn.position,r=n.fn.offset;n.fn.position=function(r){if(!r||!r.of)return u.apply(this,arguments);r=n.extend({},r);var e=n(r.of),l=e[0],c=(r.collision||"flip").split(" "),o=r.offset?r.offset.split(" "):[0,0],s,h,f;return l.nodeType===9?(s=e.width(),h=e.height(),f={top:0,left:0}):l.scrollTo&&l.document?(s=e.width(),h=e.height(),f={top:e.scrollTop(),left:e.scrollLeft()}):l.preventDefault?(r.at="left top",s=h=0,f={top:r.of.pageY,left:r.of.pageX}):(s=e.outerWidth(),h=e.outerHeight(),f=e.offset()),n.each(["my","at"],function(){var n=(r[this]||"").split(" ");n.length===1&&(n=i.test(n[0])?n.concat(["center"]):t.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=t.test(n[1])?n[1]:"center",r[this]=n}),c.length===1&&(c[1]=c[0]),o[0]=parseInt(o[0],10)||0,o.length===1&&(o[1]=o[0]),o[1]=parseInt(o[1],10)||0,r.at[0]==="right"?f.left+=s:r.at[0]==="center"&&(f.left+=s/2),r.at[1]==="bottom"?f.top+=h:r.at[1]==="center"&&(f.top+=h/2),f.left+=o[0],f.top+=o[1],this.each(function(){var i=n(this),e=i.outerWidth(),u=i.outerHeight(),v=parseInt(n.curCSS(this,"marginLeft",!0))||0,a=parseInt(n.curCSS(this,"marginTop",!0))||0,y=e+v+parseInt(n.curCSS(this,"marginRight",!0))||0,p=u+a+parseInt(n.curCSS(this,"marginBottom",!0))||0,t=n.extend({},f),l;r.my[0]==="right"?t.left-=e:r.my[0]==="center"&&(t.left-=e/2),r.my[1]==="bottom"?t.top-=u:r.my[1]==="center"&&(t.top-=u/2),t.left=parseInt(t.left),t.top=parseInt(t.top),l={left:t.left-v,top:t.top-a},n.each(["left","top"],function(i,f){n.ui.position[c[i]]&&n.ui.position[c[i]][f](t,{targetWidth:s,targetHeight:h,elemWidth:e,elemHeight:u,collisionPosition:l,collisionWidth:y,collisionHeight:p,offset:o,my:r.my,at:r.at})}),n.fn.bgiframe&&i.bgiframe(),i.offset(n.extend(t,{using:r.using}))})},n.ui.position={fit:{left:function(t,i){var r=n(window);r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft(),t.left=r>0?t.left-r:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var r=n(window);r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop(),t.top=r>0?t.top-r:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){var r;if(i.at[0]!=="center"){r=n(window),r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();var e=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:-i.targetWidth,u=-2*i.offset[0];t.left+=i.collisionPosition.left<0?e+f+u:r>0?e+f+u:0}},top:function(t,i){var r;if(i.at[1]!=="center"){r=n(window),r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();var e=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:-i.targetHeight,u=-2*i.offset[1];t.top+=i.collisionPosition.top<0?e+f+u:r>0?e+f+u:0}}}},n.offset.setOffset||(n.offset.setOffset=function(t,i){/static/.test(n.curCSS(t,"position"))&&(t.style.position="relative");var u=n(t),r=u.offset(),e=parseInt(n.curCSS(t,"top",!0),10)||0,f=parseInt(n.curCSS(t,"left",!0),10)||0;r={top:i.top-r.top+e,left:i.left-r.left+f},"using"in i?i.using.call(t,r):u.css(r)},n.fn.offset=function(t){var i=this[0];return!i||!i.ownerDocument?null:t?this.each(function(){n.offset.setOffset(this,t)}):r.call(this)})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper!="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),!this.handle)?!1:!0},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r;return(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!this.element[0]||!this.element[0].parentNode)?!1:(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(r=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t])):i.helper=="clone"?this.element.clone():this.element,t.parents("body").length||t.appendTo(i.appendTo=="parent"?this.element[0].parentNode:i.appendTo),t[0]!=this.element[0]&&!/(fixed|absolute)/.test(t.css("position"))&&t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,t,r;i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor==Array?i.containment.constructor==Array&&(this.containment=i.containment):(t=n(i.containment)[0],t&&(i=n(i.containment).offset(),r=n(t).css("overflow")!="hidden",this.containment=[i.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]))},_convertPositionTo:function(t,i){i||(i=this.position),t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.extend(n.ui.draggable,{version:"1.8.5"}),n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),f=r.options,u=n.extend({},i,{item:r.element});r.sortables=[],n(f.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i._refreshItems(),i._trigger("activate",t,u))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this;n.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}}),n.ui.plugin.add("draggable","iframeFix",{start:function(){var t=n(this).data("draggable").options;n(t.iframeFix===!0?"iframe":t.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")})},stop:function(){n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),n.ui.plugin.add("draggable","opacity",{start:function(t,i){t=n(i.helper),i=n(this).data("draggable").options,t.css("opacity")&&(i._opacity=t.css("opacity")),t.css("opacity",i.opacity)},stop:function(t,i){t=n(this).data("draggable").options,t._opacity&&n(i.helper).css("opacity",t._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("draggable");t.scrollParent[0]!=document&&t.scrollParent[0].tagName!="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("draggable"),i=r.options,u=!1;r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"?(i.axis&&i.axis=="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis=="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis=="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis=="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed)))),u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}}),n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("draggable"),i=t.options;t.snapElements=[],n(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var k,r=n(this).data("draggable"),d=r.options,u=d.snapTolerance,c=i.offset.left,b=c+r.helperProportions.width,l=i.offset.top,p=l+r.helperProportions.height,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(e-u<c&&c<s+u&&o-u<l&&l<h+u||e-u<c&&c<s+u&&o-u<p&&p<h+u||e-u<b&&b<s+u&&o-u<l&&l<h+u||e-u<b&&b<s+u&&o-u<p&&p<h+u){if(d.snapMode!="inner"){var w=Math.abs(o-p)<=u,a=Math.abs(h-l)<=u,y=Math.abs(e-b)<=u,v=Math.abs(s-c)<=u;w&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top),a&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top),y&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}k=w||a||y||v,d.snapMode!="outer"&&(w=Math.abs(o-l)<=u,a=Math.abs(h-p)<=u,y=Math.abs(e-c)<=u,v=Math.abs(s-b)<=u,w&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top),a&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),y&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[f].snapping&&(w||a||y||v||k)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=w||a||y||v||k}else r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1}}}),n.ui.plugin.add("draggable","stack",{start:function(){var t=n(this).data("draggable").options,i;t=n.makeArray(n(t.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)}),t.length&&(i=parseInt(t[0].style.zIndex)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}}),n.ui.plugin.add("draggable","zIndex",{start:function(t,i){t=n(i.helper),i=n(this).data("draggable").options,t.css("zIndex")&&(i._zIndex=t.css("zIndex")),t.css("zIndex",i.zIndex)},stop:function(t,i){t=n(this).data("draggable").options,t._zIndex&&n(i.helper).css("zIndex",t._zIndex)}})}(jQuery),function(n){n.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=n.isFunction(i)?i:function(n){return n.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[],n.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var i=n.ui.ddmanager.droppables[this.options.scope],t=0;t<i.length;t++)i[t]==this&&i.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){t=="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u;return!r||(r.currentItem||r.element)[0]==this.element[0]?!1:(u=!1,this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}}),n.extend(n.ui.droppable,{version:"1.8.5"}),n.ui.intersect=function(t,i,r){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left,l=o+t.helperProportions.width,e=(t.positionAbs||t.position.absolute).top,c=e+t.helperProportions.height,u=i.offset.left,h=u+i.proportions.width,f=i.offset.top,s=f+i.proportions.height;switch(r){case"fit":return u<=o&&l<=h&&f<=e&&c<=s;case"intersect":return u<o+t.helperProportions.width/2&&l-t.helperProportions.width/2<h&&f<e+t.helperProportions.height/2&&c-t.helperProportions.height/2<s;case"pointer":return n.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f,u,i.proportions.height,i.proportions.width);case"touch":return(e>=f&&e<=s||c>=f&&c<=s||e<f&&c>s)&&(o>=u&&o<=h||l>=u&&l<=h||o<u&&l>h);default:return!1}},n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r=0,f;n:for(;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]==u[r].element[0]){u[r].proportions.height=0;continue n}u[r].visible=u[r].element.css("display")!="none",u[r].visible&&(u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight},o=="mousedown"&&u[r]._activate.call(u[r],i))}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=r||this._drop.call(this,i)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),r},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i),n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var u,r,f;this.options.disabled||this.greedyChild||!this.visible||(u=n.ui.intersect(t,this,this.options.tolerance),(u=!u&&this.isover==1?"isout":u&&this.isover==0?"isover":null)&&(this.options.greedy&&(f=this.element.parents(":data(droppable):eq(0)"),f.length&&(r=n.data(f[0],"droppable"),r.greedyChild=u=="isover"?1:0)),r&&u=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[u]=1,this[u=="isout"?"isover":"isout"]=0,this[u=="isover"?"_over":"_out"].call(this,i),r&&u=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i))))})}}}(jQuery),function(n){n.widget("ui.resizable",n.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var r=this,t=this.options,e,u,i,f;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&n.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(n('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String)for(this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},u=0;u<e.length;u++)i=n.trim(e[u]),f=n('<div class="ui-resizable-handle ui-resizable-'+i+'"></div>'),/sw|se|ne|nw/.test(i)&&f.css({zIndex:++t.zIndex}),"se"==i&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(f);this._renderAxis=function(t){var i,r,u;t=t||this.element;for(i in this.handles)this.handles[i].constructor==String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),u=0,u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,u),this._proportionallyResize()),n(this.handles[i])},this._renderAxis(this.element),this._handles=n(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!r.resizing){if(this.className)var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);r.axis=n&&n[1]?n[1]:"se"}}),t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").hover(function(){n(this).removeClass("ui-resizable-autohide"),r._handles.show()},function(){r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},destroy:function(){var i,t;return this._mouseDestroy(),i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()},this.elementIsWrapper&&(i(this.element),t=this.element,t.after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r=!1,i;for(i in this.handles)n(this.handles[i])[0]==t.target&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var u=this.options,f=this.element.position(),r=this.element,e;return this.resizing=!0,this.documentScroll={top:n(document).scrollTop(),left:n(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:f.top,left:f.left}),n.browser.opera&&/relative/.test(r.css("position"))&&r.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,u=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",u=="auto"?this.axis+"-resize":u),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(n){var r=this.helper,t=this.originalMousePosition,i=this._change[this.axis];return i?(t=i.apply(this,[n,n.pageX-t.left||0,n.pageY-t.top||0]),(this._aspectRatio||n.shiftKey)&&(t=this._updateRatio(t,n)),t=this._respectSize(t,n),this._propagate("resize",n),r.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(t),this._trigger("resize",n,this.ui()),!1):!1},_mouseStop:function(t){var f,i,r,u,e;return this.resizing=!1,f=this.options,i=this,this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),r=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,u={width:i.size.width-(u?0:i.sizeDiff.width),height:i.size.height-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,f.animate||this.element.css(n.extend(u,{top:e,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!f.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(n){this.offset=this.helper.offset(),t(n.left)&&(this.position.left=n.left),t(n.top)&&(this.position.top=n.top),t(n.height)&&(this.size.height=n.height),t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,t=this.size,r=this.axis;return n.height?n.width=t.height*this.aspectRatio:n.width&&(n.height=t.width/this.aspectRatio),r=="sw"&&(n.left=i.left+(t.width-n.width),n.top=null),r=="nw"&&(n.top=i.top+(t.height-n.height),n.left=i.left+(t.width-n.width)),n},_respectSize:function(n){var i=this.options,r=this.axis,s=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,h=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,c=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height;c&&(n.width=i.minWidth),o&&(n.height=i.minHeight),s&&(n.width=i.maxWidth),h&&(n.height=i.maxHeight);var u=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,e=/sw|nw|w/.test(r);return r=/nw|ne|n/.test(r),c&&e&&(n.left=u-i.minWidth),s&&e&&(n.left=u-i.maxWidth),o&&r&&(n.top=f-i.minHeight),h&&r&&(n.top=f-i.maxHeight),(i=!n.width&&!n.height)&&!n.left&&n.top?n.top=null:i&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){var i,r,t,f,u;if(this._proportionallyResizeElements.length)for(i=this.helper||this.element,r=0;r<this._proportionallyResizeElements.length;r++)t=this._proportionallyResizeElements[r],this.borderDif||(f=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],u=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")],this.borderDif=n.map(f,function(n,t){return n=parseInt(n,10)||0,t=parseInt(u[t],10)||0,n+t})),n.browser.msie&&(n(i).is(":hidden")||n(i).parents(":hidden").length)||t.css({height:i.height()-this.borderDif[0]-this.borderDif[2]||0,width:i.width()-this.borderDif[1]-this.borderDif[3]||0})},_renderProxy:function(){var r=this.options,t,i;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||n('<div style="overflow:hidden;"></div>'),t=n.browser.msie&&n.browser.version<7,i=t?1:0,t=t?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+t,height:this.element.outerHeight()+t,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++r.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(n,t,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]),t!="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.extend(n.ui.resizable,{version:"1.8.5"}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).data("resizable").options,i=function(t){n(t).each(function(){var t=n(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("resizable");t=r.options;var e=r.originalSize,f=r.originalPosition,o={height:r.size.height-e.height||0,width:r.size.width-e.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0},u=function(t,u){n(t).each(function(){var t=n(this),s=n(this).data("resizable-alsoresize"),f={},e=u&&u.length?u:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){(n=(s[t]||0)+(o[t]||0))&&n>=0&&(f[t]=n||null)}),n.browser.opera&&/relative/.test(t.css("position"))&&(r._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(f)})};typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n,t){u(n,t)}):u(t.alsoResize)},stop:function(){var i=n(this).data("resizable"),t=i.options,r=function(t){n(t).each(function(){var t=n(this);t.css({position:t.data("resizable-alsoresize").position})})};i._revertToRelativePosition&&(i._revertToRelativePosition=!1,typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n){r(n)}):r(t.alsoResize)),n(this).removeData("resizable-alsoresize")}}),n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("resizable"),o=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),u=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e;f={width:i.size.width-(f?0:i.sizeDiff.width),height:i.size.height-u},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,i.element.animate(n.extend(f,e&&u?{top:e,left:u}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height}),i._updateCache(u),i._propagate("resize",t)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var t=n(this).data("resizable"),u=t.element,r=t.options.containment,f,s,o,e;(u=r instanceof n?r.get(0):/parent/.test(r)?u.parent().get(0):r)&&(t.containerElement=n(u),/document/.test(r)||r==document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(f=n(u),s=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){s[n]=i(f.css("padding"+t))}),t.containerOffset=f.offset(),t.containerPosition=f.position(),t.containerSize={height:f.innerHeight()-s[3],width:f.innerWidth()-s[1]},r=t.containerOffset,o=t.containerSize.height,e=t.containerSize.width,e=n.ui.hasScroll(u,"left")?u.scrollWidth:e,o=n.ui.hasScroll(u)?u.scrollHeight:o,t.parentData={element:u,left:r.left,top:r.top,width:e,height:o}))},resize:function(t){var i=n(this).data("resizable"),f=i.options,r=i.containerOffset,e=i.position,u,o;t=i._aspectRatio||t.shiftKey,u={top:0,left:0},o=i.containerElement,o[0]!=document&&/static/.test(o.css("position"))&&(u=r),e.left<(i._helper?r.left:0)&&(i.size.width+=i._helper?i.position.left-r.left:i.position.left-u.left,t&&(i.size.height=i.size.width/f.aspectRatio),i.position.left=f.helper?r.left:0),e.top<(i._helper?r.top:0)&&(i.size.height+=i._helper?i.position.top-r.top:i.position.top,t&&(i.size.width=i.size.height*f.aspectRatio),i.position.top=i._helper?r.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top,f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width),r=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height),e=i.containerElement.get(0)==i.element.parent().get(0),u=/relative|absolute/.test(i.containerElement.css("position")),e&&u&&(f-=i.parentData.left),f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,t&&(i.size.height=i.size.width/i.aspectRatio)),r+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-r,t&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("resizable"),e=t.options,o=t.containerOffset,s=t.containerPosition,f=t.containerElement,i=n(t.helper),u=i.offset(),r=i.outerWidth()-t.sizeDiff.width;i=i.outerHeight()-t.sizeDiff.height,t._helper&&!e.animate&&/relative/.test(f.css("position"))&&n(this).css({left:u.left-s.left-o.left,width:r,height:i}),t._helper&&!e.animate&&/static/.test(f.css("position"))&&n(this).css({left:u.left-s.left-o.left,width:r,height:i})}}),n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("resizable"),r=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof r.ghost=="string"?r.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(){var i=n(this).data("resizable"),t=i.options,o=i.size,r=i.originalSize,e=i.originalPosition,f=i.axis,u;t.grid=typeof t.grid=="number"?[t.grid,t.grid]:t.grid,u=Math.round((o.width-r.width)/(t.grid[0]||1))*(t.grid[0]||1),t=Math.round((o.height-r.height)/(t.grid[1]||1))*(t.grid[1]||1),/^(se|s|e)$/.test(f)?(i.size.width=r.width+u,i.size.height=r.height+t):/^(ne)$/.test(f)?(i.size.width=r.width+u,i.size.height=r.height+t,i.position.top=e.top-t):(/^(sw)$/.test(f)?(i.size.width=r.width+u,i.size.height=r.height+t):(i.size.width=r.width+u,i.size.height=r.height+t,i.position.top=e.top-t),i.position.left=e.left-u)}});var i=function(n){return parseInt(n,10)||0},t=function(n){return!isNaN(parseInt(n,10))}}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var i=this,t;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=n(i.options.filter,i.element[0]),t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=n("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var r=this,i;this.opos=[t.pageX,t.pageY],this.options.disabled||(i=this.options,this.selectees=n(i.filter,this.element[0]),this._trigger("start",t),n(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=n.data(this,"selectable-item");i.startselected=!0,t.metaKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element}))}),n(t.target).parents().andSelf().each(function(){var i=n.data(this,"selectable-item"),u;if(i)return u=!t.metaKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),i.unselecting=!u,i.selecting=u,(i.selected=u)?r._trigger("selecting",t,{selecting:i.element}):r._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){var o=this,e;if(this.dragged=!0,!this.options.disabled){var s=this.options,i=this.opos[0],r=this.opos[1],f=t.pageX,u=t.pageY;return i>f&&(e=f,f=i,i=e),r>u&&(e=u,u=r,r=e),this.helper.css({left:i,top:r,width:f-i,height:u-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h;!e||e.element==o.element[0]||(h=!1,s.tolerance=="touch"?h=!(e.left>f||e.right<i||e.top>u||e.bottom<r):s.tolerance=="fit"&&(h=e.left>i&&e.right<f&&e.top>r&&e.bottom<u),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&(t.metaKey&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),n.extend(n.ui.selectable,{version:"1.8.5"})}(jQuery),function(n){n.widget("ui.sortable",n.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData("sortable-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r,f,u;return this.reverting?!1:this.options.disabled||this.options.type=="static"?!1:(this._refreshItems(t),r=null,f=this,n(t.target).parents().each(function(){if(n.data(this,"sortable-item")==f)return r=n(this),!1}),n.data(t.target,"sortable-item")==f&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(u=!1,n(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(u=!0)}),!u)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){i=this.options;var u=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,u._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,u,f;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,r=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=this.items[i],u=r.item[0],f=this._intersectsWithPointer(r),f&&u!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=u&&!n.ui.contains(this.placeholder[0],u)&&(this.options.type=="semi-dynamic"?!n.ui.contains(this.element[0],u):!0)){if(this.direction=f==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(r))this._rearrange(t,r);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var r=this;i=r.placeholder.offset(),r.reverting=!0,n(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var i=this,t;if(this.dragging)for(this._mouseUp(),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show(),t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,i._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,i._uiHash(this)),this.containers[t].containerCache.over=0);return this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var r=this.positionAbs.left,c=r+this.helperProportions.width,t=this.positionAbs.top,h=t+this.helperProportions.height,f=n.left,s=f+n.width,u=n.top,e=u+n.height,i=this.offset.click.top,o=this.offset.click.left;return i=t+i>u&&t+i<e&&r+o>f&&r+o<s,this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?i:f<r+this.helperProportions.width/2&&c-this.helperProportions.width/2<s&&u<t+this.helperProportions.height/2&&h-this.helperProportions.height/2<e},_intersectsWithPointer:function(t){var r=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i;return(t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=r&&t,t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),!r)?!1:this.floating?i&&i=="right"||t=="down"?2:1:t&&(t=="down"?2:1)},_intersectsWithSides:function(t){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i,r;return t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection(),this.floating&&r?r=="right"&&t||r=="left"&&!t:i&&(i=="down"&&u||i=="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!=0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!=0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor==String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var o=[],u=[],f=this._connectWith(),e,r,i;if(f&&t)for(t=f.length-1;t>=0;t--)for(e=n(f[t]),r=e.length-1;r>=0;r--)i=n.data(e[r],"sortable"),i&&i!=this&&!i.options.disabled&&u.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(u.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=u.length-1;t>=0;t--)u[t][0].each(function(){o.push(this)});return n(o)},_removeCurrentsFromItems:function(){for(var t,i=this.currentItem.find(":data(sortable-item)"),n=0;n<this.items.length;n++)for(t=0;t<i.length;t++)i[t]==this.items[n].item[0]&&this.items.splice(n,1)},_refreshItems:function(t){var r,e,u,i;this.items=[],this.containers=[this];var s=this.items,o=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],f=this._connectWith();if(f)for(r=f.length-1;r>=0;r--)for(e=n(f[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],"sortable"),i&&i!=this&&!i.options.disabled&&(o.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=o.length-1;r>=0;r--)for(t=o[r][1],f=o[r][0],u=0,e=f.length;u<e;u++)i=n(f[u]),i.data("sortable-item",t),s.push({item:i,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,u,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)u=this.items[i],r=this.options.toleranceElement?n(this.options.toleranceElement,u.item):u.item,t||(u.width=r.outerWidth(),u.height=r.outerHeight()),r=r.offset(),u.left=r.left,u.top=r.top;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,r=i.options,u;r.placeholder&&r.placeholder.constructor!=String||(u=r.placeholder,r.placeholder={element:function(){var t=n(document.createElement(i.currentItem[0].nodeName)).addClass(u||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return u||(t.style.visibility="hidden"),t},update:function(n,t){u&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=n(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var o,f,e,u=null,r=null,i=this.containers.length-1;i>=0;i--)n.ui.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?u&&n.ui.contains(this.containers[i].element[0],u.element[0])||(u=this.containers[i],r=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0));if(u)if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(u=1e4,i=null,o=this.positionAbs[this.containers[r].floating?"left":"top"],f=this.items.length-1;f>=0;f--)n.ui.contains(this.containers[r].element[0],this.items[f].item[0])&&(e=this.items[f][this.containers[r].floating?"left":"top"],Math.abs(e-o)<u&&(u=Math.abs(e-o),i=this.items[f]));(i||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[r],i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1)}},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t,this.currentItem])):i.helper=="clone"?this.currentItem.clone():this.currentItem,t.parents("body").length||n(i.appendTo!="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(t[0].style.width==""||i.forceHelperSize)&&t.width(this.currentItem.width()),(t[0].style.height==""||i.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,t,r;i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],i=n(i.containment).offset(),r=n(t).css("overflow")!="hidden",this.containment=[i.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position),t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i,r;return this.cssPosition!="relative"||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),i=t.pageX,r=t.pageY,this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this,f=this.counter;window.setTimeout(function(){f==u.counter&&u.refreshPositions(!r)},0)},_clear:function(t,i){var u,r;if(this.reverting=!1,u=[],!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]=="auto"||this._storedCSS[r]=="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),!n.ui.contains(this.element[0],this.currentItem[0]))for(i||u.push(function(n){this._trigger("remove",n,this._uiHash())}),r=this.containers.length-1;r>=0;r--)n.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!i&&(u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[r])),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[r])));for(r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),n.extend(n.ui.sortable,{version:"1.8.5"})}(jQuery),function(n){n.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options,r,u;t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||n(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||n(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||n(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||n(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation&&(r=t.element.find("a").filter(i.navigationFilter).eq(0),r.length&&(u=r.closest(".ui-accordion-header"),t.active=u.length?u:r.closest(".ui-accordion-content").prev())),t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(n){return t._keydown(n)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),n.browser.safari||t.headers.find("a").attr("tabIndex",-1),i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(n){t._clickHandler.call(t,n,this),n.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(n("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var i=this.options,t;return this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"),(i.autoHeight||i.fillHeight)&&t.css("height",""),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments),t=="active"&&this.activate(i),t=="icons"&&(this._destroyIcons(),i&&this._createIcons()),t=="disabled"&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return r?(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var r=this.options,t,i;return r.fillSpace?(n.browser.msie&&(i=this.element.parent().css("overflow"),this.element.parent().css("overflow","hidden")),t=this.element.parent().height(),n.browser.msie&&this.element.parent().css("overflow",i),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):r.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).height("").height())}).height(t)),this},activate:function(n){return this.options.active=n,n=this._findActive(n)[0],this._clickHandler({target:n},n),this},_findActive:function(t){return t?typeof t=="number"?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?n([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var r=this.options;if(!r.disabled)if(t.target)t=n(t.currentTarget||i),i=t[0]===this.active[0],r.active=r.collapsible&&i?!1:this.headers.index(t),this.running||!r.collapsible&&i||(this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),i||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),t.next().addClass("ui-accordion-content-active")),f=t.next(),u=this.active.next(),e={options:r,newHeader:i&&r.collapsible?n([]):t,oldHeader:this.active,newContent:i&&r.collapsible?n([]):f,oldContent:u},r=this.headers.index(this.active[0])>this.headers.index(t[0]),this.active=i?n([]):t,this._toggle(f,u,e,i,r));else if(r.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),this.active.next().addClass("ui-accordion-content-active");var u=this.active.next(),e={options:r,newHeader:n([]),oldHeader:r.active,newContent:n([]),oldContent:u},f=this.active=n([]);this._toggle(f,u,e)}},_toggle:function(t,i,r,u,f){var o=this,e=o.options,h,c,s;o.toShow=t,o.toHide=i,o.data=r,h=function(){if(o)return o._completed.apply(o,arguments)},o._trigger("changestart",null,o.data),o.running=i.size()===0?t.size():i.size(),e.animated?(r={},r=e.collapsible&&u?{toShow:n([]),toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:t,toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace},e.proxied||(e.proxied=e.animated),e.proxiedDuration||(e.proxiedDuration=e.duration),e.animated=n.isFunction(e.proxied)?e.proxied(r):e.proxied,e.duration=n.isFunction(e.proxiedDuration)?e.proxiedDuration(r):e.proxiedDuration,u=n.ui.accordion.animations,c=e.duration,s=e.animated,!s||u[s]||n.easing[s]||(s="slide"),u[s]||(u[s]=function(n){this.slide(n,{easing:s,duration:c||700})}),u[s](r)):(e.collapsible&&u?t.toggle():(i.hide(),t.show()),h(!0)),i.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(n){this.running=n?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this._trigger("change",null,this.data))}}),n.extend(n.ui.accordion,{version:"1.8.5",animations:{slide:function(t,i){if(t=n.extend({easing:"swing",duration:300},t,i),t.toHide.size())if(t.toShow.size()){var o=t.toShow.css("overflow"),e=0,r={},f={},u;i=t.toShow,u=i[0].style.width,i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0)),n.each(["height","paddingTop","paddingBottom"],function(i,u){f[u]="hide",i=(""+n.css(t.toShow[0],u)).match(/^([\d+-.]+)(.*)$/),r[u]={value:i[1],unit:i[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(f,{step:function(n,i){i.prop=="height"&&(e=i.end-i.start==0?0:(i.now-i.start)/(i.end-i.start)),t.toShow[0].style[i.prop]=e*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:u,overflow:o}),t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(n){this.slide(n,{easing:n.down?"easeOutBounce":"swing",duration:n.down?1e3:200})}}})}(jQuery),function(n){n.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var t=this,i=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(!t.options.disabled){var r=n.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:t._move("previousPage",i);break;case r.PAGE_DOWN:t._move("nextPage",i);break;case r.UP:t._move("previous",i),i.preventDefault();break;case r.DOWN:t._move("next",i),i.preventDefault();break;case r.ENTER:case r.NUMPAD_ENTER:t.menu.element.is(":visible")&&i.preventDefault();case r.TAB:if(!t.menu.active)return;t.menu.select(i);break;case r.ESCAPE:t.element.val(t.term),t.close(i);break;default:clearTimeout(t.searching),t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,i))},t.options.delay)}}}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(n){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(n),t._change(n)},150))}),this._initSource(),this.response=function(){return t._response.apply(t,arguments)},this.menu=n("<ul></ul>").addClass("ui-autocomplete").appendTo(n(this.options.appendTo||"body",i)[0]).mousedown(function(i){var r=t.menu.element[0];i.target===r&&setTimeout(function(){n(document).one("mousedown",function(i){i.target!==t.element[0]&&i.target!==r&&!n.ui.contains(r,i.target)&&t.close()})},1),setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(n,i){i=i.item.data("item.autocomplete"),!1!==t._trigger("focus",null,{item:i})&&/^key/.test(n.originalEvent.type)&&t.element.val(i.value)},selected:function(n,r){r=r.item.data("item.autocomplete");var u=t.previous;t.element[0]!==i.activeElement&&(t.element.focus(),t.previous=u),!1!==t._trigger("select",n,{item:r})&&(t.term=r.value,t.element.val(r.value)),t.close(n),t.selectedItem=r},blur:function(){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),n.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments),t==="source"&&this._initSource(),t==="appendTo"&&this.menu.element.appendTo(n(i||"body",this.element[0].ownerDocument)[0])},_initSource:function(){var t=this,r,i;n.isArray(this.options.source)?(r=this.options.source,this.source=function(t,i){i(n.ui.autocomplete.filter(r,t.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,u){t.xhr&&t.xhr.abort(),t.xhr=n.getJSON(i,r,function(n,i,r){r===t.xhr&&u(n),t.xhr=null})}):this.source=this.options.source},search:function(n,t){return(n=n!=null?n:this.element.val(),this.term=this.element.val(),n.length<this.options.minLength)?this.close(t):(clearTimeout(this.closing),this._trigger("search")!==!1?this._search(n):void 0)},_search:function(n){this.element.addClass("ui-autocomplete-loading"),this.source({term:n},this.response)},_response:function(n){n.length?(n=this._normalize(n),this._suggest(n),this._trigger("open")):this.close(),this.element.removeClass("ui-autocomplete-loading")},close:function(n){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this._trigger("close",n),this.menu.element.hide(),this.menu.deactivate())},_change:function(n){this.previous!==this.element.val()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1),r;this._renderMenu(i,t),this.menu.deactivate(),this.menu.refresh(),this.menu.element.show().position(n.extend({of:this.element},this.options.position)),t=i.width("").outerWidth(),r=this.element.outerWidth(),i.outerWidth(Math.max(t,r))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItem(t,i)})},_renderItem:function(t,i){return n("<li></li>").data("item.autocomplete",i).append(n("<a></a>").text(i.label)).appendTo(t)},_move:function(n,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(n)||this.menu.last()&&/^next/.test(n)?(this.element.val(this.term),this.menu.deactivate()):this.menu[n](t):this.search(null,t)},widget:function(){return this.menu.element}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}})}(jQuery),function(n){n.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){n(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,n(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,u=this.element.attr("scrollTop"),r=this.element.height();i<0?this.element.attr("scrollTop",u+i):i>=r&&this.element.attr("scrollTop",u+i-r+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",n,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(n){this.move("next",".ui-menu-item:first",n)},previous:function(n){this.move("prev",".ui-menu-item:last",n)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(n,t,i){this.active?(n=this.active[n+"All"](".ui-menu-item").eq(0),n.length?this.activate(i,n):this.activate(i,this.element.children(t))):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(":first"));else{var r=this.active.offset().top,u=this.element.height(),i=this.element.children("li").filter(function(){var t=n(this).offset().top-r-u+n(this).height();return t<10&&t>-10});i.length||(i=this.element.children(":last")),this.activate(t,i)}else this.activate(t,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(":last"));else{var r=this.active.offset().top,i=this.element.height();result=this.element.children("li").filter(function(){var t=n(this).offset().top-r+i-n(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(":first")),this.activate(t,result)}else this.activate(t,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(n){this._trigger("selected",n,{item:this.active})}})}(jQuery),function(n){var t,r=function(t){n(":ui-button",t.target.form).each(function(){var t=n(this).data("button");setTimeout(function(){t.refresh()},1)})},i=function(t){var i=t.name,u=t.form,r=n([]);return i&&(r=u?n(u).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};n.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",r),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.attr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var f=this,u=this.options,e=this.type==="checkbox"||this.type==="radio",o="ui-state-hover"+(e?"":" ui-state-active");u.label===null&&(u.label=this.buttonElement.html()),this.element.is(":disabled")&&(u.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){u.disabled||(n(this).addClass("ui-state-hover"),this===t&&n(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){u.disabled||n(this).removeClass(o)}).bind("focus.button",function(){n(this).addClass("ui-state-focus")}).bind("blur.button",function(){n(this).removeClass("ui-state-focus")}),e&&this.element.bind("change.button",function(){f.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).toggleClass("ui-state-active"),f.buttonElement.attr("aria-pressed",f.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active"),f.buttonElement.attr("aria-pressed",!0);var t=f.element[0];i(t).not(t).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active"),t=this;n(document).one("mouseup",function(){t=null})}).bind("mouseup.button",function(){if(u.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(u.disabled)return!1;(t.keyCode==n.ui.keyCode.SPACE||t.keyCode==n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup.button",function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()})),this._setOption("disabled",u.disabled)},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]"),this.element.addClass("ui-helper-hidden-accessible");var n=this.element.is(":checked");n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments),t==="disabled"&&(i?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?i(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var i=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),u=n("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,r=t.primary&&t.secondary;t.primary||t.secondary?(i.addClass("ui-button-text-icon"+(r?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'></span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'></span>"),this.options.text||(i.addClass(r?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary"),this.hasTitle||i.attr("title",u))):i.addClass("ui-button-text-only")}}}),n.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset"),this._init()},_init:function(){this.refresh()},_setOption:function(t,i){t==="disabled"&&this.buttons.button("option",t,i),n.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":visible").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),n.Widget.prototype.destroy.call(this)}})}(jQuery),function(n,t){n.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"X Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var u,r;this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,o=i.title||"&#160;",e=n.ui.dialog.getTitleId(t.element),f=(t.uiDialog=n("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){i.closeOnEscape&&r.keyCode&&r.keyCode===n.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(n){t.moveToTop(!1,n)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f),u=(t.uiDialogTitlebar=n("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),r=n('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).click(function(n){return t.close(n),!1}).appendTo(u),(t.uiDialogTitlebarCloseText=n("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(r),n("<span></span>").addClass("ui-dialog-title").attr("id",e).html(o).prependTo(u),n.isFunction(i.beforeclose)&&!n.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),u.find("*").add(u).disableSelection(),i.draggable&&n.fn.draggable&&t._makeDraggable(),i.resizable&&n.fn.resizable&&t._makeResizable(),t._createButtons(i.buttons),t._isOpen=!1,n.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var n=this;return n.overlay&&n.overlay.destroy(),n.uiDialog.hide(),n.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),n.uiDialog.remove(),n.originalTitle&&n.element.attr("title",n.originalTitle),n},widget:function(){return this.uiDialog},close:function(t){var i=this,r;if(!1!==i._trigger("beforeClose",t))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",t)}):(i.uiDialog.hide(),i._trigger("close",t)),n.ui.dialog.overlay.resize(),i.options.modal&&(r=0,n(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(r=Math.max(r,n(this).css("z-index")))}),n.ui.dialog.maxZ=r),i},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var r=this,u=r.options;return u.modal&&!t||!u.stack&&!u.modal?r._trigger("focus",i):(u.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=u.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",n.ui.dialog.overlay.maxZ=n.ui.dialog.maxZ)),t={scrollTop:r.element.attr("scrollTop"),scrollLeft:r.element.attr("scrollLeft")},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(t),r._trigger("focus",i),r)},open:function(){if(!this._isOpen){var t=this,r=t.options,i=t.uiDialog;return t.overlay=r.modal?new n.ui.dialog.overlay(t):null,i.next().length&&i.appendTo("body"),t._size(),t._position(r.position),i.show(r.show),t.moveToTop(!0),r.modal&&i.bind("keypress.ui-dialog",function(t){if(t.keyCode===n.ui.keyCode.TAB){var i=n(":tabbable",this),r=i.filter(":first");if(i=i.filter(":last"),t.target!==i[0]||t.shiftKey){if(t.target===r[0]&&t.shiftKey)return i.focus(1),!1}else return r.focus(1),!1}}),n(t.element.find(":tabbable").get().concat(i.find(".ui-dialog-buttonpane :tabbable").get().concat(i.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,u=!1,r=n("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=n("<div></div>").addClass("ui-dialog-buttonset").appendTo(r);i.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof t=="object"&&t!==null&&n.each(t,function(){return!(u=!0)}),u&&(n.each(t,function(t,r){r=n.isFunction(r)?{click:r,text:t}:r,t=n("<button></button>",r).unbind("click").click(function(){r.click.apply(i.element[0],arguments)}).appendTo(f),n.fn.button&&t.button()}),r.appendTo(i.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,f=t.options,u=n(document),r;t.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(u,e){r=f.height==="auto"?"auto":n(this).height(),n(this).height(n(this).height()).addClass("ui-dialog-dragging"),t._trigger("dragStart",u,i(e))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(e,o){f.position=[o.position.left-u.scrollLeft(),o.position.top-u.scrollTop()],n(this).removeClass("ui-dialog-dragging").height(r),t._trigger("dragStop",e,i(o)),n.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function f(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}i=i===t?this.options.resizable:i;var r=this,u=r.options,e=r.uiDialog.css("position");i=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw",r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:u.maxWidth,maxHeight:u.maxHeight,minWidth:u.minWidth,minHeight:r._minHeight(),handles:i,start:function(t,i){n(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,f(i))},resize:function(n,t){r._trigger("resize",n,f(t))},stop:function(t,i){n(this).removeClass("ui-dialog-resizing"),u.height=n(this).height(),u.width=n(this).width(),r._trigger("resizeStop",t,f(i)),n.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(t){var i=[],u=[0,0],r;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(u[n]=i[n],i[n]=t)}),t={my:i.join(" "),at:i.join(" "),offset:u.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position,(r=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(t),r||this.uiDialog.hide()},_setOption:function(t,i){var u=this,r=u.uiDialog,e=r.is(":data(resizable)"),f=!1;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":u._createButtons(i),f=!0;break;case"closeText":u.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":r.removeClass(u.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i);break;case"disabled":i?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":i?u._makeDraggable():r.draggable("destroy");break;case"height":f=!0;break;case"maxHeight":e&&r.resizable("option","maxHeight",i),f=!0;break;case"maxWidth":e&&r.resizable("option","maxWidth",i),f=!0;break;case"minHeight":e&&r.resizable("option","minHeight",i),f=!0;break;case"minWidth":e&&r.resizable("option","minWidth",i),f=!0;break;case"position":u._position(i);break;case"resizable":e&&!i&&r.resizable("destroy"),e&&typeof i=="string"&&r.resizable("option","handles",i),!e&&i!==!1&&u._makeResizable(i);break;case"title":n(".ui-dialog-title",u.uiDialogTitlebar).html(""+(i||"&#160;"));break;case"width":f=!0}n.Widget.prototype._setOption.apply(u,arguments),f&&u._size()},_size:function(){var t=this.options,i;this.element.css({width:"auto",minHeight:0,height:0}),t.minWidth>t.width&&(t.width=t.minWidth),i=this.uiDialog.css({height:"auto",width:t.width}).height(),this.element.css(t.height==="auto"?{minHeight:Math.max(t.minHeight-i,0),height:n.support.minHeight?"auto":Math.max(t.minHeight-i,0)}:{minHeight:0,height:Math.max(t.height-i,0)}).show(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),n.extend(n.ui.dialog,{version:"1.8.5",uuid:0,maxZ:0,getTitleId:function(n){return n=n.attr("id"),n||(this.uuid+=1,n=this.uuid),"ui-dialog-title-"+n},overlay:function(t){this.$el=n.ui.dialog.overlay.create(t)}}),n.extend(n.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:n.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(n){return n+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ)return!1})},1),n(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||n("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){this.oldInstances.push(this.instances.splice(n.inArray(t,this.instances),1)[0]),this.instances.length===0&&n([document,window]).unbind(".dialog-overlay"),t.remove();var i=0;n.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?n(window).height()+"px":t+"px"):n(document).height()+"px"},width:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?n(window).width()+"px":t+"px"):n(document).width()+"px"},resize:function(){var t=n([]);n.each(n.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:n.ui.dialog.overlay.width(),height:n.ui.dialog.overlay.height()})}}),n.extend(n.ui.dialog.overlay.prototype,{destroy:function(){n.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(n){n.widget("ui.slider",n.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,i=this.options;if(this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),i.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=n([]),i.range&&(i.range===!0?(this.range=n("<div></div>"),i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&i.values.length!==2&&(i.values=[i.values[0],i.values[0]])):this.range=n("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),(i.range==="min"||i.range==="max")&&this.range.addClass("ui-slider-range-"+i.range),this.range.addClass("ui-widget-header")),n(".ui-slider-handle",this.element).length===0&&n("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle"),i.values&&i.values.length)for(;n(".ui-slider-handle",this.element).length<i.values.length;)n("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=n(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all"),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).hover(function(){i.disabled||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")}),this.handles.each(function(t){n(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(i){var o=!0,e=n(this).data("index.ui-slider-handle"),u,r,f;if(!t.options.disabled){switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(o=!1,!t._keySliding&&(t._keySliding=!0,n(this).addClass("ui-state-active"),u=t._start(i,e),u===!1))return}f=t.options.step,u=r=t.options.values&&t.options.values.length?t.values(e):t.value();switch(i.keyCode){case n.ui.keyCode.HOME:r=t._valueMin();break;case n.ui.keyCode.END:r=t._valueMax();break;case n.ui.keyCode.PAGE_UP:r=t._trimAlignValue(u+(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.PAGE_DOWN:r=t._trimAlignValue(u-(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===t._valueMax())return;r=t._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===t._valueMin())return;r=t._trimAlignValue(u-f)}return t._slide(i,e,r),o}}).keyup(function(i){var r=n(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,r),t._change(i,r),n(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var u=this.options,o,f,i,e,r;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o=this._normValueFromMouse({x:t.pageX,y:t.pageY}),f=this._valueMax()-this._valueMin()+1,e=this,this.handles.each(function(t){var u=Math.abs(o-e.values(t));f>u&&(f=u,i=n(this),r=t)}),u.range===!0&&this.values(1)===u.min&&(r+=1,i=n(this.handles[r])),this._start(t,r)===!1)?!1:(this._mouseSliding=!0,e._handleIndex=r,i.addClass("ui-state-active").focus(),u=i.offset(),this._clickOffset=n(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-u.left-i.width()/2,top:t.pageY-u.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)}:{left:0,top:0},this._slide(t,r,o),this._animateOff=!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t=this._normValueFromMouse({x:n.pageX,y:n.pageY});return this._slide(n,this._handleIndex,t),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var t;return this.orientation==="horizontal"?(t=this.elementSize.width,n=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=n/t,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),n=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*n)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(r=this.values(),r[t]=i,n=this._trigger("slide",n,{handle:this.handles[t],value:i,values:r}),this.values(t?0:1),n!==!1&&this.values(t,i,!0))):i!==this.value()&&(n=this._trigger("slide",n,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",n,i)}},value:function(n){return arguments.length&&(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0)),this._value()},values:function(t,i){var u,f,r;if(arguments.length>1&&(this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t)),arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n)},_values:function(n){var t,i;if(arguments.length)return t=this.options.values[n],t=this._trimAlignValue(t);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<this._valueMin())return this._valueMin();if(n>this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=n%t;return n=n-i,Math.abs(i)*2>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var o=this.options.range,r=this.options,i=this,u=this._animateOff?!1:r.animate,t,e={},h,c,f,s;this.options.values&&this.options.values.length?this.handles.each(function(f){t=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100,e[i.orientation==="horizontal"?"left":"bottom"]=t+"%",n(this).stop(1,1)[u?"animate":"css"](e,r.animate),i.options.range===!0&&(i.orientation==="horizontal"?(f===0&&i.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({width:t-h+"%"},{queue:!1,duration:r.animate})):(f===0&&i.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({height:t-h+"%"},{queue:!1,duration:r.animate}))),h=t}):(c=this.value(),f=this._valueMin(),s=this._valueMax(),t=s!==f?(c-f)/(s-f)*100:0,e[i.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](e,r.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},r.animate),o==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:r.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},r.animate),o==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:r.animate}))}}),n.extend(n.ui.slider,{version:"1.8.5"})}(jQuery),function(n,i){function f(){return++r}function e(){return++u}var r=0,u=0;n.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(n,t){n=="selected"?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[n]=t,this._tabify())},_tabId:function(n){return n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+f()},_sanitizeSelector:function(n){return n.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+e());return n.cookie.apply(null,[t].concat(n.makeArray(arguments)))},_ui:function(n,t){return{tab:n,panel:t,index:this.anchors.index(n)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=n(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function a(t,i){t.css("display",""),!n.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var u=this,r=this.options,v=/^#.+/,c,l,h,e,f,o,s;for(this.list=this.element.find("ol,ul").eq(0),this.lis=n(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return n("a",this)[0]}),this.panels=n([]),this.anchors.each(function(t,i){var f=n(i).attr("href"),e=f.split("#")[0],o;e&&(e===location.toString().split("#")[0]||(o=n("base")[0])&&e===o.href)&&(f=i.hash,i.href=f),v.test(f)?u.panels=u.panels.add(u._sanitizeSelector(f)):f&&f!=="#"?(n.data(i,"href.tabs",f),n.data(i,"load.tabs",f.replace(/#.*$/,"")),f=u._tabId(i),i.href="#"+f,i=n("#"+f),i.length||(i=n(r.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(u.panels[t-1]||u.list),i.data("destroy.tabs",!0)),u.panels=u.panels.add(i)):r.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===i?(location.hash&&this.anchors.each(function(n,t){if(t.hash==location.hash)return r.selected=n,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(u._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabled=n.unique(r.disabled.concat(n.map(this.lis.filter(".ui-state-disabled"),function(n){return u.lis.index(n)}))).sort(),n.inArray(r.selected,r.disabled)!=-1&&r.disabled.splice(n.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(this.panels.eq(r.selected).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),u.element.queue("tabs",function(){u._trigger("show",null,u._ui(u.anchors[r.selected],u.panels[r.selected]))}),this.load(r.selected)),n(window).bind("unload",function(){u.lis.add(u.anchors).unbind(".tabs"),u.lis=u.anchors=u.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie),t=0;c=this.lis[t];t++)n(c)[n.inArray(t,r.disabled)!=-1&&!n(c).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),r.event!=="mouseover"&&(l=function(n,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+n)},h=function(n,t){t.removeClass("ui-state-"+n)},this.lis.bind("mouseover.tabs",function(){l("hover",n(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",n(this))}),this.anchors.bind("focus.tabs",function(){l("focus",n(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",n(this).closest("li"))})),r.fx&&(n.isArray(r.fx)?(e=r.fx[0],f=r.fx[1]):e=f=r.fx),o=f?function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(f,f.duration||"normal",function(){a(i,f),u._trigger("show",null,u._ui(t,i[0]))})}:function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),u._trigger("show",null,u._ui(t,i[0]))},s=e?function(n,t){t.animate(e,e.duration||"normal",function(){u.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),a(t,e),u.element.dequeue("tabs")})}:function(n,t){u.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),u.element.dequeue("tabs")},this.anchors.bind(r.event+".tabs",function(){var t=this,e=n(t).closest("li"),f=u.panels.filter(":not(.ui-tabs-hide)"),i=n(u._sanitizeSelector(t.hash));if(e.hasClass("ui-tabs-selected")&&!r.collapsible||e.hasClass("ui-state-disabled")||e.hasClass("ui-state-processing")||u.panels.filter(":animated").length||u._trigger("select",null,u._ui(this,i[0]))===!1)return this.blur(),!1;if(r.selected=u.anchors.index(this),u.abort(),r.collapsible){if(e.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){s(t,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){o(t,i)}),u.load(u.anchors.index(this)),this.blur(),!1}if(r.cookie&&u._cookie(r.selected,r.cookie),i.length)f.length&&u.element.queue("tabs",function(){s(t,f)}),u.element.queue("tabs",function(){o(t,i)}),u.load(u.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";n.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$="+n+"]"))),n},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var i=n.data(this,"href.tabs"),t;i&&(this.href=i),t=n(this).unbind(".tabs"),n.each(["href","load","cache"],function(n,i){t.removeData(i+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){n.data(this,"destroy.tabs")?n(this).remove():n(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,r,u){var o,e,f;return u===i&&(u=this.anchors.length),o=this,e=this.options,r=n(e.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,r)),t=t.indexOf("#")?this._tabId(n("a",r)[0]):t.replace("#",""),r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0),f=n("#"+t),f.length||(f=n(e.panelTemplate).attr("id",t).data("destroy.tabs",!0)),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),u>=this.lis.length?(r.appendTo(this.list),f.appendTo(this.list[0].parentNode)):(r.insertBefore(this.lis[u]),f.insertBefore(this.panels[u])),e.disabled=n.map(e.disabled,function(n){return n>=u?++n:n}),this._tabify(),this.anchors.length==1&&(e.selected=0,r.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[u],this.panels[u])),this},remove:function(t){t=this._getIndex(t);var r=this.options,i=this.lis.eq(t).remove(),u=this.panels.eq(t).remove();return i.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),r.disabled=n.map(n.grep(r.disabled,function(n){return n!=t}),function(n){return n>=t?--n:n}),this._tabify(),this._trigger("remove",null,this._ui(i.find("a")[0],u[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(n.inArray(t,i.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=n.grep(i.disabled,function(n){return n!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(n){n=this._getIndex(n);var t=this.options;return n!=t.selected&&(this.lis.eq(n).addClass("ui-state-disabled"),t.disabled.push(n),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[n],this.panels[n]))),this},select:function(n){if(n=this._getIndex(n),n==-1)if(this.options.collapsible&&this.options.selected!=-1)n=this.options.selected;else return this;return this.anchors.eq(n).trigger(this.options.event+".tabs"),this},load:function(t){var f;t=this._getIndex(t);var i=this,u=this.options,r=this.anchors.eq(t)[0],e=n.data(r,"load.tabs");if(this.abort(),!e||this.element.queue("tabs").length!==0&&n.data(r,"cache.tabs"))this.element.dequeue("tabs");else return this.lis.eq(t).addClass("ui-state-processing"),u.spinner&&(f=n("span",r),f.data("label.tabs",f.html()).html(u.spinner)),this.xhr=n.ajax(n.extend({},u.ajaxOptions,{url:e,success:function(f,e){n(i._sanitizeSelector(r.hash)).html(f),i._cleanup(),u.cache&&n.data(r,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{u.ajaxOptions.success(f,e)}catch(o){}},error:function(n,f){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{u.ajaxOptions.error(n,f,t,r)}catch(e){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(n,t){return this.anchors.eq(n).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),n.extend(n.ui.tabs,{version:"1.8.5"}),n.extend(n.ui.tabs.prototype,{rotation:null,rotate:function(n,i){var r=this,f=this.options,u=r._rotate||(r._rotate=function(t){clearTimeout(r.rotation),r.rotation=setTimeout(function(){var n=f.selected;r.select(++n<r.anchors.length?n:0)},n),t&&t.stopPropagation()});return i=r._unrotate||(r._unrotate=i?function(){t=f.selected,u()}:function(n){n.clientX&&r.rotate(null)}),n?(this.element.bind("tabsshow",u),this.anchors.bind(f.event+".tabs",i),u()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",u),this.anchors.unbind(f.event+".tabs",i),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(n,t){function u(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},n.extend(this._defaults,this.regional[""]),this.dpDiv=n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function r(i,r){n.extend(i,r);for(var u in r)(r[u]==null||r[u]==t)&&(i[u]=r[u]);return i}n.extend(n.ui,{datepicker:{version:"1.8.5"}});var i=+new Date;n.extend(u.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var f=null,r,u,e;for(r in this._defaults)if(u=t.getAttribute("date:"+r),u){f=f||{};try{f[r]=eval(u)}catch(o){f[r]=u}}r=t.nodeName.toLowerCase(),u=r=="div"||r=="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),e=this._newInst(n(t),u),e.settings=n.extend({},i||{},f||{}),r=="input"?this._connectDatepicker(t,e):u&&this._inlineDatepicker(t,e)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]),i.trigger=n([]),r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),this._autoSize(i),n.data(t,"datepicker",i))},_attachments:function(t,i){var r=this._get(i,"appendText"),f=this._get(i,"isRTL"),u;i.append&&i.append.remove(),r&&(i.append=n('<span class="'+this._appendClass+'">'+r+"</span>"),t[f?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),r=this._get(i,"showOn"),(r=="focus"||r=="both")&&t.focus(this._showDatepicker),(r=="button"||r=="both")&&(r=this._get(i,"buttonText"),u=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:u,alt:r,title:r}):n('<button type="button"></button>').addClass(this._triggerClass).html(u==""?r:n("<img/>").attr({src:u,alt:r,title:r}))),t[f?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t[0]?n.datepicker._hideDatepicker():n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){var t,i,r;this._get(n,"autoSize")&&!n.inline&&(t=new Date(2009,11,20),i=this._get(n,"dateFormat"),i.match(/[DM]/)&&(r=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},t.setMonth(r(this._get(n,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(n,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),n.input.attr("size",this._formatDate(n,t).length))},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i))},_dialogDatepicker:function(t,i,u,f,e){return t=this._dialogInst,t||(this.uuid+=1,this._dialogInput=n('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),t=this._dialogInst=this._newInst(this._dialogInput,!1),t.settings={},n.data(this._dialogInput[0],"datepicker",t)),r(t.settings,f||{}),i=i&&i.constructor==Date?this._formatDate(t,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),t.settings.onSelect=u,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",t),this},_destroyDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),i=="input"?(u.append.remove(),u.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(i=="div"||i=="span")&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!1,u.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}))},_disableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!0,u.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,u){var f=this._getInst(t),e,o;if(arguments.length==2&&typeof i=="string")return i=="defaults"?n.extend({},n.datepicker._defaults):f?i=="all"?n.extend({},f.settings):this._get(f,i):null;e=i||{},typeof i=="string"&&(e={},e[i]=u),f&&(this._curInst==f&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r(f.settings,e),this._attachments(n(t),f),this._autoSize(f),this._setDateDatepicker(t,o),this._updateDatepicker(f))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){(n=this._getInst(n))&&this._updateDatepicker(n)},_setDateDatepicker:function(n,t){(n=this._getInst(n))&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(n,t){return(n=this._getInst(n))&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var i=n.datepicker._getInst(t.target),r=!0,u=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker(),r=!1;break;case 13:return r=n("td."+n.datepicker._dayOverClass,i.dpDiv).add(n("td."+n.datepicker._currentClass,i.dpDiv)),r[0]?n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,r[0]):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode==36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var r=n.datepicker._getInst(i.target),u;if(n.datepicker._get(r,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(r,"dateFormat")),u=String.fromCharCode(i.charCode==t?i.keyCode:i.charCode),i.ctrlKey||u<" "||!r||r.indexOf(u)>-1},_doKeyUp:function(t){if(t=n.datepicker._getInst(t.target),t.input.val()!=t.lastVal)try{n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,n.datepicker._getFormatConfig(t))&&(n.datepicker._setDateFromField(t),n.datepicker._updateAlternate(t),n.datepicker._updateDatepicker(t))}catch(i){n.datepicker.log(i)}return!0},_showDatepicker:function(t){var i,u,f,o,e;t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),n.datepicker._isDisabledDatepicker(t)||n.datepicker._lastInput==t||(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!=i&&n.datepicker._curInst.dpDiv.stop(!0,!0),u=n.datepicker._get(i,"beforeShow"),r(i.settings,u?u.apply(t,[t,i]):{}),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),f&&n.browser.opera&&(n.datepicker._pos[0]-=document.documentElement.scrollLeft,n.datepicker._pos[1]-=document.documentElement.scrollTop),u={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),u=n.datepicker._checkOffset(i,u,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),i.inline||(u=n.datepicker._get(i,"showAnim"),o=n.datepicker._get(i,"duration"),e=function(){n.datepicker._datepickerShowing=!0;var t=n.datepicker._getBorders(i.dpDiv);i.dpDiv.find("iframe.ui-datepicker-cover").css({left:-t[0],top:-t[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()})},i.dpDiv.zIndex(n(t).zIndex()+1),n.effects&&n.effects[u]?i.dpDiv.show(u,n.datepicker._get(i,"showOptions"),o,e):i.dpDiv[u||"show"](u?o:null,e),u&&o||e(),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),n.datepicker._curInst=i))},_updateDatepicker:function(t){var u=this,i=n.datepicker._getBorders(t.dpDiv),r;t.dpDiv.empty().append(this._generateHTML(t)).find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){u._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end(),i=this._getNumberOfMonths(t),r=i[1],r>1?t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"):t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),t.dpDiv[(i[0]!=1||i[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus()},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),e=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,f=document.documentElement.clientWidth+n(document).scrollLeft(),o=document.documentElement.clientHeight+n(document).scrollTop();return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+s?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>f&&f>u?Math.abs(i.left+u-f):0),i.top-=Math.min(i.top,i.top+e>o&&o>e?Math.abs(e+s):0),i},_findPos:function(t){for(var i=this._get(this._getInst(t),"isRTL");t&&(t.type=="hidden"||t.nodeType!=1);)t=t[i?"previousSibling":"nextSibling"];return t=n(t).offset(),[t.left,t.top]},_hideDatepicker:function(t){var i=this._curInst,u,r;!i||t&&i!=n.data(t,"datepicker")||this._datepickerShowing&&(t=this._get(i,"showAnim"),u=this._get(i,"duration"),r=function(){n.datepicker._tidyDialog(i),this._curInst=null},n.effects&&n.effects[t]?i.dpDiv.hide(t,n.datepicker._get(i,"showOptions"),u,r):i.dpDiv[t=="slideDown"?"slideUp":t=="fadeIn"?"fadeOut":"hide"](t?u:null,r),t||r(),(t=this._get(i,"onClose"))&&t.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){n.datepicker._curInst&&(t=n(t.target),t[0].id!=n.datepicker._mainDivId&&t.parents("#"+n.datepicker._mainDivId).length==0&&!t.hasClass(n.datepicker.markerClassName)&&!t.hasClass(n.datepicker._triggerClass)&&n.datepicker._datepickerShowing&&!(n.datepicker._inDialog&&n.blockUI)&&n.datepicker._hideDatepicker())},_adjustDate:function(t,i,r){t=n(t);var u=this._getInst(t[0]);this._isDisabledDatepicker(t[0])||(this._adjustInstDate(u,i+(r=="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var i,r;t=n(t),i=this._getInst(t[0]),this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear()),this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(t,i,r){t=n(t);var u=this._getInst(t[0]);u._selectingMonthYear=!1,u["selected"+(r=="M"?"Month":"Year")]=u["draw"+(r=="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(u),this._adjustDate(t)},_clickMonthYear:function(t){var i=this._getInst(n(t)[0]);i.input&&i._selectingMonthYear&&setTimeout(function(){i.input.focus()},0),i._selectingMonthYear=!i._selectingMonthYear},_selectDay:function(t,i,r,u){var f=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(f=this._getInst(f[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){t=n(t),this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(t,i){t=this._getInst(n(t)[0]),i=i!=null?i:this._formatDate(t),t.input&&t.input.val(i),this._updateAlternate(t);var r=this._get(t,"onSelect");r?r.apply(t.input?t.input[0]:null,[i,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],typeof t.input[0]!="object"&&t.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i=this._get(t,"altField");if(i){var f=this._get(t,"altFormat")||this._get(t,"dateFormat"),u=this._getDate(t),r=this.formatDate(f,u,this._getFormatConfig(t));n(i).each(function(){n(this).val(r)})}},noWeekends:function(n){return n=n.getDay(),[n>0&&n<6,""]},iso8601Week:function(n){n=new Date(n.getTime()),n.setDate(n.getDate()+4-(n.getDay()||7));var t=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,t,i){var r;if(n==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t=="")return null;for(var h=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,w=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,k=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,b=(i?i.monthNames:null)||this._defaults.monthNames,u=i=-1,e=-1,a=-1,v=!1,c=function(t){return(t=o+1<n.length&&n.charAt(o+1)==t)&&o++,t},s=function(n){if(c(n),n=new RegExp("^\\d{1,"+(n=="@"?14:n=="!"?20:n=="y"?4:n=="o"?3:2)+"}"),n=t.substring(f).match(n),!n)throw"Missing number at position "+f;return f+=n[0].length,parseInt(n[0],10)},y=function(n,i,r){for(n=c(n)?r:i,i=0;i<n.length;i++)if(t.substr(f,n[i].length).toLowerCase()==n[i].toLowerCase())return f+=n[i].length,i+1;throw"Unknown name at position "+f;},l=function(){if(t.charAt(f)!=n.charAt(o))throw"Unexpected literal at position "+f;f++},f=0,o=0;o<n.length;o++)if(v)n.charAt(o)!="'"||c("'")?l():v=!1;else switch(n.charAt(o)){case"d":e=s("d");break;case"D":y("D",w,p);break;case"o":a=s("o");break;case"m":u=s("m");break;case"M":u=y("M",k,b);break;case"y":i=s("y");break;case"@":r=new Date(s("@")),i=r.getFullYear(),u=r.getMonth()+1,e=r.getDate();break;case"!":r=new Date((s("!")-this._ticksTo1970)/1e4),i=r.getFullYear(),u=r.getMonth()+1,e=r.getDate();break;case"'":c("'")?l():v=!0;break;default:l()}if(i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=h?0:-100)),a>-1){u=1,e=a;do{if(h=this._getDaysInMonth(i,u-1),e<=h)break;u++,e-=h}while(1)}if(r=this._daylightSavingAdjust(new Date(i,u-1,e)),r.getFullYear()!=i||r.getMonth()+1!=u||r.getDate()!=e)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864e9,formatDate:function(n,t,i){var u;if(!t)return"";var l=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var f=function(t){return(t=u+1<n.length&&n.charAt(u+1)==t)&&u++,t},o=function(n,t,i){if(t=""+t,f(n))for(;t.length<i;)t="0"+t;return t},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",e=!1;if(t)for(u=0;u<n.length;u++)if(e)n.charAt(u)!="'"||f("'")?r+=n.charAt(u):e=!1;else switch(n.charAt(u)){case"d":r+=o("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),l,c);break;case"o":r+=o("o",(t.getTime()-+new Date(t.getFullYear(),0,0))/864e5,3);break;case"m":r+=o("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),h,i);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":e=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){return(i=t+1<n.length&&n.charAt(t+1)==i)&&t++,i},t=0;t<n.length;t++)if(r)n.charAt(t)!="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){var e,r,i,f,u;if(n.input.val()!=n.lastVal){e=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,i=f=this._getDefaultDate(n),u=this._getFormatConfig(n);try{i=this.parseDate(e,r,u)||f}catch(o){this.log(o),r=t?"":r}n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear(),n.currentDay=r?i.getDate():0,n.currentMonth=r?i.getMonth():0,n.currentYear=r?i.getFullYear():0,this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},u=function(i){var o,u;try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(s){}var r=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,e=r.getFullYear(),f=r.getMonth();for(r=r.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=o.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":f+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(e,f))}u=o.exec(i)}return new Date(e,f,r)};return(i=(i=i==null?r:typeof i=="string"?u(i):typeof i=="number"?isNaN(i)?r:f(i):i)&&i.toString()=="Invalid Date"?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var f=!t,u=n.selectedMonth,r=n.selectedYear;t=this._restrictMinMax(n,this._determineDate(n,t,new Date)),n.selectedDay=n.currentDay=t.getDate(),n.drawMonth=n.selectedMonth=n.currentMonth=t.getMonth(),n.drawYear=n.selectedYear=n.currentYear=t.getFullYear(),u==n.selectedMonth&&r==n.selectedYear||i||this._notifyChange(n),this._adjustInstDate(n),n.input&&n.input.val(f?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()==""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_generateHTML:function(t){var p=new Date,e,o,h,it,b,y,u,ft,rt;p=this._daylightSavingAdjust(new Date(p.getFullYear(),p.getMonth(),p.getDate()));var v=this._get(t,"isRTL"),st=this._get(t,"showButtonPanel"),nt=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),a=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),c=this._get(t,"stepMonths"),ot=a[0]!=1||a[1]!=1,at=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),k=this._getMinMaxDate(t,"min"),w=this._getMinMaxDate(t,"max");if(r=t.drawMonth-r,e=t.drawYear,r<0&&(r+=12,e--),w)for(o=this._daylightSavingAdjust(new Date(w.getFullYear(),w.getMonth()-a[0]*a[1]+1,w.getDate())),o=k&&o<k?k:o;this._daylightSavingAdjust(new Date(e,r,1))>o;)r--,r<0&&(r=11,e--);t.drawMonth=r,t.drawYear=e,o=this._get(t,"prevText"),o=s?this.formatDate(o,this._daylightSavingAdjust(new Date(e,r-c,1)),this._getFormatConfig(t)):o,o=this._canAdjustMonth(t,-1,e,r)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', -"+c+", 'M');\" title=\""+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(v?"e":"w")+'">'+o+"</span></a>":nt?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(v?"e":"w")+'">'+o+"</span></a>",h=this._get(t,"nextText"),h=s?this.formatDate(h,this._daylightSavingAdjust(new Date(e,r+c,1)),this._getFormatConfig(t)):h,nt=this._canAdjustMonth(t,1,e,r)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', +"+c+", 'M');\" title=\""+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(v?"w":"e")+'">'+h+"</span></a>":nt?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(v?"w":"e")+'">'+h+"</span></a>",c=this._get(t,"currentText"),h=this._get(t,"gotoCurrent")&&t.currentDay?at:p,c=s?this.formatDate(c,h,this._getFormatConfig(t)):c,s=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+i+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"</button>",st=st?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(v?s:"")+(this._isInRange(t,h)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._gotoToday('#"+t.id+"');\">"+c+"</button>":"")+(v?"":s)+"</div>":"",s=parseInt(this._get(t,"firstDay"),10),s=isNaN(s)?0:s,c=this._get(t,"showWeek"),h=this._get(t,"dayNames"),this._get(t,"dayNamesShort");var bt=this._get(t,"dayNamesMin"),wt=this._get(t,"monthNames"),yt=this._get(t,"monthNamesShort"),vt=this._get(t,"beforeShowDay"),ht=this._get(t,"showOtherMonths"),pt=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek");for(var lt=this._getDefaultDate(t),ct="",g=0;g<a[0];g++){for(it="",b=0;b<a[1];b++){var ut=this._daylightSavingAdjust(new Date(e,r,t.selectedDay)),f=" ui-corner-all",l="";if(ot){if(l+='<div class="ui-datepicker-group',a[1]>1)switch(b){case 0:l+=" ui-datepicker-group-first",f=" ui-corner-"+(v?"right":"left");break;case a[1]-1:l+=" ui-datepicker-group-last",f=" ui-corner-"+(v?"left":"right");break;default:l+=" ui-datepicker-group-middle",f=""}l+='">'}for(l+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+f+'">'+(/all|left/.test(f)&&g==0?v?nt:o:"")+(/all|right/.test(f)&&g==0?v?o:nt:"")+this._generateMonthYearHeader(t,r,e,k,w,g>0||b>0,wt,yt)+'</div><table class="ui-datepicker-calendar"><thead><tr>',y=c?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",f=0;f<7;f++)u=(f+s)%7,y+="<th"+((f+s+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+h[u]+'">'+bt[u]+"</span></th>";for(l+=y+"</tr></thead><tbody>",y=this._getDaysInMonth(e,r),e==t.selectedYear&&r==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,y)),f=(this._getFirstDayOfMonth(e,r)-s+7)%7,y=ot?6:Math.ceil((f+y)/7),u=this._daylightSavingAdjust(new Date(e,r,1-f)),ft=0;ft<y;ft++){for(l+="<tr>",rt=c?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(u)+"</td>":"",f=0;f<7;f++){var tt=vt?vt.apply(t.input?t.input[0]:null,[u]):[!0,""],d=u.getMonth()!=r,et=d&&!pt||!tt[0]||k&&u<k||w&&u>w;rt+='<td class="'+((f+s+6)%7>=5?" ui-datepicker-week-end":"")+(d?" ui-datepicker-other-month":"")+(u.getTime()==ut.getTime()&&r==t.selectedMonth&&t._keyEvent||lt.getTime()==u.getTime()&&lt.getTime()==ut.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(d&&!ht?"":" "+tt[1]+(u.getTime()==at.getTime()?" "+this._currentClass:"")+(u.getTime()==p.getTime()?" ui-datepicker-today":""))+'"'+((!d||ht)&&tt[2]?' title="'+tt[2]+'"':"")+(et?"":' onclick="DP_jQuery_'+i+".datepicker._selectDay('#"+t.id+"',"+u.getMonth()+","+u.getFullYear()+', this);return false;"')+">"+(d&&!ht?"&#xa0;":et?'<span class="ui-state-default">'+u.getDate()+"</span>":'<a class="ui-state-default'+(u.getTime()==p.getTime()?" ui-state-highlight":"")+(u.getTime()==ut.getTime()?" ui-state-active":"")+(d?" ui-priority-secondary":"")+'" href="#">'+u.getDate()+"</a>")+"</td>",u.setDate(u.getDate()+1),u=this._daylightSavingAdjust(u)}l+=rt+"</tr>"}r++,r>11&&(r=0,e++),l+="</tbody></table>"+(ot?"</div>"+(a[0]>0&&b==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),it+=l}ct+=it}return ct+=st+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,ct},_generateMonthYearHeader:function(n,t,r,u,f,e,o,s){var y=this._get(n,"changeMonth"),v=this._get(n,"changeYear"),w=this._get(n,"showMonthAfterYear"),h='<div class="ui-datepicker-title">',l="",p,c,a;if(e||!y)l+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{for(o=u&&u.getFullYear()==r,p=f&&f.getFullYear()==r,l+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+n.id+"', this, 'M');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+n.id+"');\">",c=0;c<12;c++)(!o||c>=u.getMonth())&&(!p||c<=f.getMonth())&&(l+='<option value="'+c+'"'+(c==t?' selected="selected"':"")+">"+s[c]+"</option>");l+="</select>"}if(w||(h+=l+(e||!(y&&v)?"&#xa0;":"")),e||!v)h+='<span class="ui-datepicker-year">'+r+"</span>";else{for(s=this._get(n,"yearRange").split(":"),a=(new Date).getFullYear(),o=function(n){return n=n.match(/c[+-].*/)?r+parseInt(n.substring(1),10):n.match(/[+-].*/)?a+parseInt(n,10):parseInt(n,10),isNaN(n)?a:n},t=o(s[0]),s=Math.max(t,o(s[1]||"")),t=u?Math.max(t,u.getFullYear()):t,s=f?Math.min(s,f.getFullYear()):s,h+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+n.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+n.id+"');\">";t<=s;t++)h+='<option value="'+t+'"'+(t==r?' selected="selected"':"")+">"+t+"</option>";h+="</select>"}return h+=this._get(n,"yearSuffix"),w&&(h+=(e||!(y&&v)?"&#xa0;":"")+l),h+="</div>"},_adjustInstDate:function(n,t,i){var r=n.drawYear+(i=="Y"?t:0),u=n.drawMonth+(i=="M"?t:0);t=Math.min(n.selectedDay,this._getDaysInMonth(r,u))+(i=="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(r,u,t))),n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear(),(i=="M"||i=="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),t=i&&t<i?i:t,t=n&&t>n?n:t},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){return n=this._get(n,"numberOfMonths"),n==null?[1,1]:typeof n=="number"?[1,n]:n},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-new Date(n,t,32).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var u=this._getNumberOfMonths(n);return i=this._daylightSavingAdjust(new Date(i,r+(t<0?t:u[0]*u[1]),1)),t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(n,i)},_isInRange:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){return t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear),t=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay)),this.formatDate(this._get(n,"dateFormat"),t,this._getFormatConfig(n))}}),n.fn.datepicker=function(t){n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick).find("body").append(n.datepicker.dpDiv),n.datepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="isDisabled"||t=="getDate"||t=="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})},n.datepicker=new u,n.datepicker.initialized=!1,n.datepicker.uuid=+new Date,n.datepicker.version="1.8.5",window["DP_jQuery_"+i]=n}(jQuery),function(n,t){n.widget("ui.progressbar",{options:{value:0},min:0,max:100,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this._value()}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),n.Widget.prototype.destroy.apply(this,arguments)},value:function(n){return n===t?this._value():(this._setOption("value",n),this)},_setOption:function(t,i){t==="value"&&(this.options.value=i,this._refreshValue(),this._trigger("change")),n.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var n=this.options.value;return typeof n!="number"&&(n=0),Math.min(this.max,Math.max(this.min,n))},_refreshValue:function(){var n=this.value();this.valueDiv.toggleClass("ui-corner-right",n===this.max).width(n+"%"),this.element.attr("aria-valuenow",n)}}),n.extend(n.ui.progressbar,{version:"1.8.5"})}(jQuery),jQuery.effects||function(n,t){function e(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?u.transparent:u[n.trim(t).toLowerCase()]}function c(t,i){var r;do{if(r=n.curCSS(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return e(r)}function o(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,r={},t,u,i;if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)t=n[i],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),r[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(r[t]=n[t]);return r}function f(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in s||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function h(n,t){var r={_:0},i;for(i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:n.fx.speeds[r]||n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}n.effects={},n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=c(n.elem,i),n.end=e(n.end),n.colorInit=!0),n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var u={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},r=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,u,e){return n.isFunction(u)&&(e=u,u=null),this.each(function(){var s=n(this),l=s.attr("style")||" ",v=f(o.call(this)),c,a=s.attr("className");n.each(r,function(n,i){t[i]&&s[i+"Class"](t[i])}),c=f(o.call(this)),s.attr("className",a),s.animate(h(v,c),i,u,function(){n.each(r,function(n,i){t[i]&&s[i+"Class"](t[i])}),typeof s.attr("style")=="object"?(s.attr("style").cssText="",s.attr("style").cssText=l):s.attr("style",l),e&&e.apply(this,arguments)})})},n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}}),n.extend(n.effects,{version:"1.8.5",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=n[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(r),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0})),r.css(i).show()},removeWrapper:function(n){return n.parent().is(".ui-effects-wrapper")?n.parent().replaceWith(n):n},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){unit=t.cssUnit(i),unit[0]>0&&(u[i]=unit[0]*r+unit[1])}),u}}),n.fn.extend({effect:function(t){var r=i.apply(this,arguments),u;return r={options:r[1],duration:r[2],callback:r[3]},u=n.effects[t],u&&!n.fx.off?u.call(this,r):this},_show:n.fn.show,show:function(t){if(t&&typeof t!="number"&&!n.fx.speeds[t]&&n.effects[t]){var r=i.apply(this,arguments);return r[1].mode="show",this.effect.apply(this,r)}return this._show.apply(this,arguments)},_hide:n.fn.hide,hide:function(t){if(t&&typeof t!="number"&&!n.fx.speeds[t]&&n.effects[t]){var r=i.apply(this,arguments);return r[1].mode="hide",this.effect.apply(this,r)}return this._hide.apply(this,arguments)},__toggle:n.fn.toggle,toggle:function(t){if(!t||typeof t=="number"||n.fx.speeds[t]||!n.effects[t]||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var r=i.apply(this,arguments);return r[1].mode="toggle",this.effect.apply(this,r)},cssUnit:function(t){var r=this.css(t),i=[];return n.each(["em","px","%","pt"],function(n,t){r.indexOf(t)>0&&(i=[parseFloat(r),t])}),i}}),n.easing.jswing=n.easing.swing,n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-n)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery),function(n){n.effects.blind=function(t){return this.queue(function(){var i=n(this),s=["position","top","left"],o=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,f,e;n.effects.save(i,s),i.show(),r=n.effects.createWrapper(i).css({overflow:"hidden"}),f=u=="vertical"?"height":"width",u=u=="vertical"?r.height():r.width(),o=="show"&&r.css(f,0),e={},e[f]=o=="show"?u:0,r.animate(e,t.duration,t.options.easing,function(){o=="hide"&&i.hide(),n.effects.restore(i,s),n.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(n){n.effects.bounce=function(t){return this.queue(function(){var i=n(this),a=["position","top","left"],o=n.effects.setMode(i,t.options.mode||"effect"),u=t.options.direction||"up",r=t.options.distance||20,l=t.options.times||5,c=t.duration||250,e,f,s,h;for(/show|hide/.test(o)&&a.push("opacity"),n.effects.save(i,a),i.show(),n.effects.createWrapper(i),e=u=="up"||u=="down"?"top":"left",u=u=="up"||u=="left"?"pos":"neg",r=t.options.distance||(e=="top"?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3),o=="show"&&i.css("opacity",0).css(e,u=="pos"?-r:r),o=="hide"&&(r/=l*2),o!="hide"&&l--,o=="show"&&(f={opacity:1},f[e]=(u=="pos"?"+=":"-=")+r,i.animate(f,c/2,t.options.easing),r/=2,l--),f=0;f<l;f++)s={},h={},s[e]=(u=="pos"?"-=":"+=")+r,h[e]=(u=="pos"?"+=":"-=")+r,i.animate(s,c/2,t.options.easing).animate(h,c/2,t.options.easing),r=o=="hide"?r*2:r/2;o=="hide"?(f={opacity:0},f[e]=(u=="pos"?"-=":"+=")+r,i.animate(f,c/2,t.options.easing,function(){i.hide(),n.effects.restore(i,a),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})):(s={},h={},s[e]=(u=="pos"?"-=":"+=")+r,h[e]=(u=="pos"?"+=":"-=")+r,i.animate(s,c/2,t.options.easing).animate(h,c/2,t.options.easing,function(){n.effects.restore(i,a),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(n){n.effects.clip=function(t){return this.queue(function(){var i=n(this),s=["position","top","left","height","width"],o=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,f,e;n.effects.save(i,s),i.show(),r=n.effects.createWrapper(i).css({overflow:"hidden"}),r=i[0].tagName=="IMG"?r:i,f={size:u=="vertical"?"height":"width",position:u=="vertical"?"top":"left"},u=u=="vertical"?r.height():r.width(),o=="show"&&(r.css(f.size,0),r.css(f.position,u/2)),e={},e[f.size]=o=="show"?u:0,e[f.position]=o=="show"?0:u/2,r.animate(e,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){o=="hide"&&i.hide(),n.effects.restore(i,s),n.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.drop=function(t){return this.queue(function(){var i=n(this),s=["position","top","left","opacity"],e=n.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"left",u,f,o;n.effects.save(i,s),i.show(),n.effects.createWrapper(i),u=r=="up"||r=="down"?"top":"left",r=r=="up"||r=="left"?"pos":"neg",f=t.options.distance||(u=="top"?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2),e=="show"&&i.css("opacity",0).css(u,r=="pos"?-f:f),o={opacity:e=="show"?1:0},o[u]=(e=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+f,i.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){e=="hide"&&i.hide(),n.effects.restore(i,s),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.explode=function(t){return this.queue(function(){var r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,u=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,i,o,f;t.options.mode=t.options.mode=="toggle"?n(this).is(":visible")?"hide":"show":t.options.mode,i=n(this).show().css("visibility","hidden"),o=i.offset(),o.top-=parseInt(i.css("marginTop"),10)||0,o.left-=parseInt(i.css("marginLeft"),10)||0;for(var s=i.outerWidth(!0),h=i.outerHeight(!0),e=0;e<r;e++)for(f=0;f<u;f++)i.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(s/u),top:-e*(h/r)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s/u,height:h/r,left:o.left+f*(s/u)+(t.options.mode=="show"?(f-Math.floor(u/2))*(s/u):0),top:o.top+e*(h/r)+(t.options.mode=="show"?(e-Math.floor(r/2))*(h/r):0),opacity:t.options.mode=="show"?0:1}).animate({left:o.left+f*(s/u)+(t.options.mode=="show"?0:(f-Math.floor(u/2))*(s/u)),top:o.top+e*(h/r)+(t.options.mode=="show"?0:(e-Math.floor(r/2))*(h/r)),opacity:t.options.mode=="show"?1:0},t.duration||500);setTimeout(function(){t.options.mode=="show"?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(i[0]),i.dequeue(),n("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(n){n.effects.fade=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.fold=function(t){return this.queue(function(){var i=n(this),l=["position","top","left"],e=n.effects.setMode(i,t.options.mode||"hide"),s=t.options.size||15,o=!!t.options.horizFirst,h=t.duration?t.duration/2:n.fx.speeds._default/2,r;n.effects.save(i,l),i.show();var u=n.effects.createWrapper(i).css({overflow:"hidden"}),f=e=="show"!=o,c=f?["width","height"]:["height","width"];f=f?[u.width(),u.height()]:[u.height(),u.width()],r=/([0-9]+)%/.exec(s),r&&(s=parseInt(r[1],10)/100*f[e=="hide"?0:1]),e=="show"&&u.css(o?{height:0,width:s}:{height:s,width:0}),o={},r={},o[c[0]]=e=="show"?f[0]:s,r[c[1]]=e=="show"?f[1]:0,u.animate(o,h,t.options.easing).animate(r,h,t.options.easing,function(){e=="hide"&&i.hide(),n.effects.restore(i,l),n.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),f=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),u={backgroundColor:i.css("backgroundColor")};r=="hide"&&(u.opacity=0),n.effects.save(i,f),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide(),n.effects.restore(i,f),r=="show"&&!n.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.pulsate=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"show");for(times=(t.options.times||5)*2-1,duration=t.duration?t.duration/2:n.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),(r=="hide"&&isVisible||r=="show"&&!isVisible)&&times--,r=0;r<times;r++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){animateTo==0&&i.hide(),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(n){n.effects.puff=function(t){return this.queue(function(){var i=n(this),u=n.effects.setMode(i,t.options.mode||"hide"),f=parseInt(t.options.percent,10)||150,e=f/100,r={height:i.height(),width:i.width()};n.extend(t.options,{fade:!0,mode:u,percent:u=="hide"?f:100,from:u=="hide"?r:{height:r.height*e,width:r.width*e}}),i.effect("scale",t.options,t.duration,t.callback),i.dequeue()})},n.effects.scale=function(t){return this.queue(function(){var i=n(this),u=n.extend(!0,{},t.options),r=n.effects.setMode(i,t.options.mode||"effect"),e=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:r=="hide"?0:100),o=t.options.direction||"both",f=t.options.origin;r!="effect"&&(u.origin=f||["middle","center"],u.restore=!0),f={height:i.height(),width:i.width()},i.from=t.options.from||(r=="show"?{height:0,width:0}:f),e={y:o!="horizontal"?e/100:1,x:o!="vertical"?e/100:1},i.to={height:f.height*e.y,width:f.width*e.x},t.options.fade&&(r=="show"&&(i.from.opacity=0,i.to.opacity=1),r=="hide"&&(i.from.opacity=1,i.to.opacity=0)),u.from=i.from,u.to=i.to,u.mode=r,i.effect("size",u,t.duration,t.callback),i.dequeue()})},n.effects.size=function(t){return this.queue(function(){var i=n(this),f=["position","top","left","width","height","overflow","opacity"],v=["position","top","left","overflow","opacity"],a=["width","height","overflow"],c=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],y=n.effects.setMode(i,t.options.mode||"effect"),l=t.options.restore||!1,h=t.options.scale||"both",s=t.options.origin,u={height:i.height(),width:i.width()},r;i.from=t.options.from||u,i.to=t.options.to||u,s&&(s=n.effects.getBaseline(s,u),i.from.top=(u.height-i.from.height)*s.y,i.from.left=(u.width-i.from.width)*s.x,i.to.top=(u.height-i.to.height)*s.y,i.to.left=(u.width-i.to.width)*s.x),r={from:{y:i.from.height/u.height,x:i.from.width/u.width},to:{y:i.to.height/u.height,x:i.to.width/u.width}},(h=="box"||h=="both")&&(r.from.y!=r.to.y&&(f=f.concat(o),i.from=n.effects.setTransition(i,o,r.from.y,i.from),i.to=n.effects.setTransition(i,o,r.to.y,i.to)),r.from.x!=r.to.x&&(f=f.concat(e),i.from=n.effects.setTransition(i,e,r.from.x,i.from),i.to=n.effects.setTransition(i,e,r.to.x,i.to))),(h=="content"||h=="both")&&r.from.y!=r.to.y&&(f=f.concat(c),i.from=n.effects.setTransition(i,c,r.from.y,i.from),i.to=n.effects.setTransition(i,c,r.to.y,i.to)),n.effects.save(i,l?f:v),i.show(),n.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),(h=="content"||h=="both")&&(o=o.concat(["marginTop","marginBottom"]).concat(c),e=e.concat(["marginLeft","marginRight"]),a=f.concat(o).concat(e),i.find("*[width]").each(function(){child=n(this),l&&n.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*r.from.y,width:i.width*r.from.x},child.to={height:i.height*r.to.y,width:i.width*r.to.x},r.from.y!=r.to.y&&(child.from=n.effects.setTransition(child,o,r.from.y,child.from),child.to=n.effects.setTransition(child,o,r.to.y,child.to)),r.from.x!=r.to.x&&(child.from=n.effects.setTransition(child,e,r.from.x,child.from),child.to=n.effects.setTransition(child,e,r.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){l&&n.effects.restore(child,a)})})),i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity),y=="hide"&&i.hide(),n.effects.restore(i,l?f:v),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.shake=function(t){return this.queue(function(){var i=n(this),c=["position","top","left"],e,s,o,h;n.effects.setMode(i,t.options.mode||"effect");var r=t.options.direction||"left",u=t.options.distance||20,l=t.options.times||3,f=t.duration||t.options.duration||140;for(n.effects.save(i,c),i.show(),n.effects.createWrapper(i),e=r=="up"||r=="down"?"top":"left",s=r=="up"||r=="left"?"pos":"neg",r={},o={},h={},r[e]=(s=="pos"?"-=":"+=")+u,o[e]=(s=="pos"?"+=":"-=")+u*2,h[e]=(s=="pos"?"-=":"+=")+u*2,i.animate(r,f,t.options.easing),u=1;u<l;u++)i.animate(o,f,t.options.easing).animate(h,f,t.options.easing);i.animate(o,f,t.options.easing).animate(r,f/2,t.options.easing,function(){n.effects.restore(i,c),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(n){n.effects.slide=function(t){return this.queue(function(){var i=n(this),s=["position","top","left"],o=n.effects.setMode(i,t.options.mode||"show"),r=t.options.direction||"left",f,u,e;n.effects.save(i,s),i.show(),n.effects.createWrapper(i).css({overflow:"hidden"}),f=r=="up"||r=="down"?"top":"left",r=r=="up"||r=="left"?"pos":"neg",u=t.options.distance||(f=="top"?i.outerHeight({margin:!0}):i.outerWidth({margin:!0})),o=="show"&&i.css(f,r=="pos"?-u:u),e={},e[f]=(o=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+u,i.animate(e,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){o=="hide"&&i.hide(),n.effects.restore(i,s),n.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(n){n.effects.transfer=function(t){return this.queue(function(){var u=n(this),r=n(t.options.to),i=r.offset(),f;r={top:i.top,left:i.left,height:r.innerHeight(),width:r.innerWidth()},i=u.offset(),f=n('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:i.top,left:i.left,height:u.innerHeight(),width:u.innerWidth(),position:"absolute"}).animate(r,t.duration,t.options.easing,function(){f.remove(),t.callback&&t.callback.apply(u[0],arguments),u.dequeue()})})}}(jQuery),function(n,t){function f(n,t){for(var o=decodeURI(n.replace("%u2019","'").replace("%u2013","-")),h=s[t||!1?"strict":"loose"].exec(o),u={attr:{},param:{},seg:{}},f=14;f--;)u.attr[e[f]]=h[f]||"";return u.param.query={},u.param.fragment={},u.attr.query.replace(r,function(n,t,i){t&&(u.param.query[t]=i)}),u.attr.fragment.replace(i,function(n,t,i){t&&(u.param.fragment[t]=i)}),u.seg.path=u.attr.path.replace(/^\/+|\/+$/g,"").split("/"),u.seg.fragment=u.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),u.attr.base=u.attr.host?u.attr.protocol+"://"+u.attr.host+(u.attr.port?":"+u.attr.port:""):"",u}function u(n){var i=n.tagName;return i!==t?o[i.toLowerCase()]:i}var o={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],h={anchor:"fragment"},s={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},r=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,i=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;n.fn.url=function(t){var i="";return this.length&&(i=n(this).attr(u(this[0]))||""),n.url(i,t)},n.url=function(n,i){return arguments.length===1&&n===!0&&(i=!0,n=t),i=i||!1,n=n||window.location.toString(),{data:f(n,i),attr:function(n){return n=h[n]||n,n!==t?this.data.attr[n]:this.data.attr},param:function(n){return n!==t?this.data.param.query[n]:this.data.param.query},fparam:function(n){return n!==t?this.data.param.fragment[n]:this.data.param.fragment},segment:function(n){return n===t?this.data.seg.path:(n=n<0?this.data.seg.path.length+n:n-1,this.data.seg.path[n])},fsegment:function(n){return n===t?this.data.seg.fragment:(n=n<0?this.data.seg.fragment.length+n:n-1,this.data.seg.fragment[n])}}}}(jQuery),jQuery.cookie=function(n,t,i){var o,r,f,e,u,s;if(typeof t!="undefined"){i=i||{},t===null&&(t="",i.expires=-1),o="",i.expires&&(typeof i.expires=="number"||i.expires.toUTCString)&&(typeof i.expires=="number"?(r=new Date,r.setTime(r.getTime()+i.expires*864e5)):r=i.expires,o="; expires="+r.toUTCString());var h=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[n,"=",encodeURIComponent(t),o,h,c,l].join("")}else{if(f=null,document.cookie&&document.cookie!="")for(e=document.cookie.split(";"),u=0;u<e.length;u++)if(s=jQuery.trim(e[u]),s.substring(0,n.length+1)==n+"="){f=decodeURIComponent(s.substring(n.length+1));break}return f}},function(n){function i(n,t,i){for(var r=0;r<n.length;r++)t.each(function(){this.id==n[r].id&&i(this)})}function r(n,t,i,r){n.parents("div").each(function(){var u=this;t.each(function(){if(this.id==u.id){r.postBackElement=n,i(r);return}})})}var t=null;n.fn.extend({panelUpdated:function(r){t==null&&(t=Sys.WebForms.PageRequestManager.getInstance());var u=n(this);return t.add_pageLoaded(function(n,t){i(t.get_panelsUpdated(),u,r)}),this.each(function(){})},panelCreated:function(r){t==null&&(t=Sys.WebForms.PageRequestManager.getInstance());var u=n(this);return t.add_pageLoaded(function(n,t){i(t.get_panelsCreated(),u,r)}),this.each(function(){})},panelReady:function(r){t==null&&(t=Sys.WebForms.PageRequestManager.getInstance());var u=n(this);return t.add_pageLoaded(function(n,t){i(t.get_panelsUpdated(),u,r)}),this.each(function(){r(this)})},beginRequest:function(i){t==null&&(t=Sys.WebForms.PageRequestManager.getInstance());var u=n(this);return t.add_beginRequest(function(f,e){var o={prm:t};r(n(e.get_postBackElement()),u,i,o)}),this.each(function(){})},initializeRequest:function(i){t==null&&(t=Sys.WebForms.PageRequestManager.getInstance());var u=n(this);return t.add_initializeRequest(function(f,e){var o={prm:t,cancel:!1};r(n(e.get_postBackElement()),u,i,o),o.cancel&&e.set_cancel(!0)}),this.each(function(){})}})}(jQuery),function(n){function f(i,r,f,e){var o={data:e||e===0||e===!1?e:r?r.data:{},_wrap:r?r._wrap:null,tmpl:null,parent:r||null,nodes:[],calls:tt,nest:it,wrap:k,html:d,update:g};return i&&n.extend(o,i,{nodes:[],parent:r}),f&&(o.tmpl=f,o._ctnt=o._ctnt||o.tmpl(n,o),o.key=++u,(l.length?h:t)[u]=o),o}function o(t,i,u){var f,e=u?n.map(u,function(n){return typeof n=="string"?t.key?n.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+t.key+'" $2'):n:o(n,t,n._ctnt)}):t;return i?e:(e=e.join(""),e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,r,u){f=n(r).get(),v(f),i&&(f=c(i).concat(f)),u&&(f=f.concat(c(u)))}),f?f:c(e))}function c(t){var i=document.createElement("div");return i.innerHTML=t,n.makeArray(i.childNodes)}function b(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+n.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,r,u,f,o,s){var l=n.tmpl.tag[r],a,h,c;if(!l)throw"Unknown template tag: "+r;return a=l._default||[],o&&!/\w$/.test(f)&&(f+=o,o=""),f?(f=e(f),s=s?","+e(s)+")":o?")":"",h=o?f.indexOf(".")>-1?f+e(o):"("+f+").call($item"+s:f,c=o?h:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):c=h=a.$1||"null",u=e(u),"');"+l[i?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(c).split("$1").join(h).split("$2").join(u||a.$2||"")+"__.push('"})+"');}return __;")}function a(t,i){t._wrap=o(t,!0,n.isArray(i)?i:[w.test(i)?i:n(i).html()]).join("")}function e(n){return n?n.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function nt(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML}function v(e){function a(e){function a(n){n=n+y,o=p[n]=p[n]||f(o,t[o.parent.key+y]||o.parent)}var v,s=e,c,o,l;if(l=e.getAttribute(r)){while(s.parentNode&&(s=s.parentNode).nodeType===1&&!(v=s.getAttribute(r)));v!==l&&(s=s.parentNode?s.nodeType===11?0:s.getAttribute(r)||0:0,(o=t[l])||(o=h[l],o=f(o,t[s]||h[s]),o.key=++u,t[u]=o),i&&a(l)),e.removeAttribute(r)}else i&&(o=n.data(e,"tmplItem"))&&(a(o.key),t[o.key]=o,s=n.data(e.parentNode,"tmplItem"),s=s?s.key:0);if(o){for(c=o;c&&c.key!=s;)c.nodes.push(e),c=c.parent;delete o._ctnt,delete o._wrap,n.data(e,"tmplItem",o)}}for(var y="_"+i,c,l,p={},o,s=0,v=e.length;s<v;s++)if((c=e[s]).nodeType===1){for(l=c.getElementsByTagName("*"),o=l.length-1;o>=0;o--)a(l[o]);a(c)}}function tt(n,t,i,r){if(!n)return l.pop();l.push({_:n,tmpl:t,item:this,data:i,options:r})}function it(t,i,r){return n.tmpl(n.template(t),i,r,this)}function k(t,i){var r=t.options||{};return r.wrapped=i,n.tmpl(n.template(t.tmpl),t.data,r,t.item)}function d(t,i){var r=this._wrap;return n.map(n(n.isArray(r)?r.join(""):r).filter(t||"*"),function(n){return i?n.innerText||n.textContent:n.outerHTML||nt(n)})}function g(){var t=this.nodes;n.tmpl(null,null,null,this).insertBefore(t[0]),n(t).remove()}var y=n.fn.domManip,r="_tmplitem",w=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,t={},h={},s,p={key:0,data:{}},u=0,i=0,l=[];n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,u){n.fn[r]=function(f){var o=[],h=n(f),l,e,a,v,c=this.length===1&&this[0].parentNode;if(s=t||{},c&&c.nodeType===11&&c.childNodes.length===1&&h.length===1)h[u](this[0]),o=this;else{for(e=0,a=h.length;e<a;e++)i=e,l=(e>0?this.clone(!0):this).get(),n(h[e])[u](l),o=o.concat(l);i=0,o=this.pushStack(o,r,h.selector)}return v=s,s=null,n.tmpl.complete(v),o}}),n.fn.extend({tmpl:function(t,i,r){return n.tmpl(this[0],t,i,r)},tmplItem:function(){return n.tmplItem(this[0])},template:function(t){return n.template(t,this[0])},domManip:function(r,u,f){if(r[0]&&n.isArray(r[0])){for(var h=n.makeArray(arguments),c=r[0],l=c.length,e=0,o;e<l&&!(o=n.data(c[e++],"tmplItem")););o&&i&&(h[2]=function(t){n.tmpl.afterManip(this,t,f)}),y.apply(this,h)}else y.apply(this,arguments);return i=0,!s&&n.tmpl.complete(t),this}}),n.extend({tmpl:function(i,r,u,e){var s,c=!e;if(c)e=p,i=n.template[i]||n.template(null,i),h={};else if(!i)return i=e.tmpl,t[e.key]=e,e.nodes=[],e.wrapped&&a(e,e.wrapped),n(o(e,null,e.tmpl(n,e)));return i?(typeof r=="function"&&(r=r.call(e||{})),u&&u.wrapped&&a(u,u.wrapped),s=n.isArray(r)?n.map(r,function(n){return n?f(u,e,i,n):null}):[f(u,e,i,r)],c?n(o(e,null,s)):s):[]},tmplItem:function(t){var i;for(t instanceof n&&(t=t[0]);t&&t.nodeType===1&&!(i=n.data(t,"tmplItem"))&&(t=t.parentNode););return i||p},template:function(t,i){return i?(typeof i=="string"?i=b(i):i instanceof n&&(i=i[0]||{}),i.nodeType&&(i=n.data(i,"tmpl")||n.data(i,"tmpl",b(i.innerHTML))),typeof t=="string"?n.template[t]=i:i):t?typeof t!="string"?n.template(null,t):n.template[t]||n.template(null,w.test(t)?t:n(t)):null},encode:function(n){return(""+n).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),n.extend(n.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){t={}},afterManip:function(t,r,u){var f=r.nodeType===11?n.makeArray(r.childNodes):r.nodeType===1?[r]:[];u.call(t,r),v(f),i++}})}(jQuery),function(n){n.fn.appear=function(t,i){var r=n.extend({data:undefined,one:!0},i);return this.each(function(){var i=n(this);if(i.appeared=!1,!t){i.trigger("appear",r.data);return}var u=n(window),f=function(){if(!i.is(":visible")){i.appeared=!1;return}var e=u.scrollLeft(),o=u.scrollTop(),f=i.offset(),n=f.left,t=f.top;t+i.height()>=o&&t<=o+u.height()&&n+i.width()>=e&&n<=e+u.width()?i.appeared||i.trigger("appear",r.data):i.appeared=!1},e=function(){if(i.appeared=!0,r.one){u.unbind("scroll",f);var e=n.inArray(f,n.fn.appear.checks);e>=0&&n.fn.appear.checks.splice(e,1)}t.apply(this,arguments)};if(r.one)i.one("appear",r.data,e);else i.bind("appear",r.data,e);u.scroll(f),n.fn.appear.checks.push(f),f()})},n.extend(n.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=n.fn.appear.checks.length;if(t>0)while(t--)n.fn.appear.checks[t]()},run:function(){n.fn.appear.timeout&&clearTimeout(n.fn.appear.timeout),n.fn.appear.timeout=setTimeout(n.fn.appear.checkAll,20)}}),n.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,i){var r=n.fn[i];r&&(n.fn[i]=function(){var t=r.apply(this,arguments);return n.fn.appear.run(),t})})}(jQuery),jQuery.fn.log=function(n){if($.browser.mozilla)return console.log("%s: %o",n,this),this},curDate=new Date,image={},image.icon_table="/Images/icons/icon_table.gif",image.icon_print="/images/icons/toolbox_icon_print.png",image.icon_download="/images/icons/b_download.png",image.button_close="/Images/buttons/b_imgclose.gif",image.button_expand="/Images/buttons/b_imgexpand.gif",image.ajax_loader="/Images/multimedia/ajax-loader.gif",image.triangle_open="/images/mobile/m_triangle_open.gif",image.triangle="/images/mobile/m_triangle.gif",image.ad_placeholder_leaderboard="/Images/ads/ad_placeholder_leaderboard.gif",zIndex={},zIndex.portlet={},zIndex.portlet.flyout_active=500,zIndex.portlet.flyout_inactive=0,isMobile=$(".mobileDetection").css("text-transform")=="uppercase"?!0:!1,mobileFireEvent="",$.cookie("IsMobile")&&$().log("mobile cookie detected: "+$.cookie("IsMobile")),$().log(isMobile?"mobile device detected":"mobile device not detected"),isAuthenticated=$("#authenticationDetection").text()=="1"?!0:!1,$().log(isAuthenticated?"authenticated":"not authenticated"),$(document).ready(function(){if(!isMobile){$(".articleRotator").each(function(){if($thisRotator=$(this),listL=$thisRotator.find("ul li").length,listL==0)$thisRotator.hide();else{var n=[];$thisRotator.find("ul li").each(function(t){$thisRotator.find(".gotoBTN").append('<span class="'+t+'"></span>'),n.push(".gotoBTN ."+t),t==listL-1&&($thisRotator.find(".gotoBTN span").eq(0).addClass("selected"),$thisRotator.find(".articleCarousel").jCarouselLite({btnNext:".b_carousel_next",btnPrev:".b_carousel_prev",mouseWheel:!0,visible:1,btnGo:n,circular:!0,auto:8e3,speed:500,afterEnd:function(n){var t=$(n[0]).index();t=t==0?listL-1:t==listL+1?0:t-1,$thisRotator.find(".gotoBTN span").removeClass("selected").eq(t).addClass("selected")}}))})}}),$.cookie("search_autosuggest")!=""&&$.cookie("search_autosuggest")!=null&&($(".searchCriteria .autosuggest a").addClass("hidden"),$('.searchCriteria .autosuggest a[state!="'+$.cookie("search_autosuggest")+'"]').removeClass("hidden")),$(".searchCriteria .autosuggest a").click(function(n){n.preventDefault(),$(".searchCriteria .autosuggest a").toggleClass("hidden"),$.cookie("search_autosuggest",$(this).attr("state"))}),$(".eqColumn")[0]&&setTimeout("equalHeight($('.eqColumn'))",1),$("#loginServicesDialog").click(function(){n("#loginServicesDialog","What are Athens and Shibboleth?")}),$("#qLoginServicesLink").click(function(){n("#loginServicesDialog","What are Athens and Shibboleth?")});function n(n,t){$(n).dialog({title:t,position:"center",modal:!0,height:"auto",width:600,dialogClass:"boxshadow",resizable:!1,overlay:{opacity:.7,background:"gray"}})}}}),$.cookie("keepSessionAlive")=="1"&&keepSessionAliveByPage(),$.fn.animateHighlight=function(n,t){var u=n||"#FFFF9C",r=t||4e3,i=this.css("backgroundColor");this.stop().css("background-color",u).animate({backgroundColor:i},r)},$.fn.toTitleCase=function(){$(this).each(function(){var n=$(this).text().toLowerCase();$(this).text(n.replace(/([\w&`'‘’"“.@:\/\{\(\[<>_]+-? *)/g,function(n,t,i,r){return i>0&&r.charAt(i-2)!==":"&&n.search(/^(a(nd?|s|t)?|b(ut|y)|en|for|i[fn]|o[fnr]|t(he|o)|vs?\.?|via)[ \-]/i)>-1?n.toLowerCase():r.substring(i-1,i+1).search(/['"_{(\[]/)>-1?n.charAt(0)+n.charAt(1).toUpperCase()+n.substr(2):n.substr(1).search(/[A-Z]+|&|[\w]+[._][\w]+/)>-1||r.substring(i-1,i+1).search(/[\])}]/)>-1?n:n.charAt(0).toUpperCase()+n.substr(1)}))})};var debug=1,ActiveFilterItems=[],ActiveSortOrder=0,ActiveResultView=0,FilterItemType='{ "ContentTypeFilter" : "0" , "JournalFilter" : "1", "BookFilter" : "2", "ArticleTypeFilter" : "3", "TopicFilter" : "4", "DateRangeFilter" : "5", "OwnershipFilter" : "6" }',searchAction={},lastQueryText="",lastResultView=0,domReference={filterColumn:".filterSettings",resultColumn:"",selectedFilters:""};Array.prototype.Slice=function(n,t){var i=this.slice((t||n)+1||this.length);return this.length=n<0?this.length+n:n,this.push.apply(this,i)},String.prototype.format=function(){for(var t=this,n=arguments.length;n--;)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n]);return t},searchAction.preInit=function(){queryDebug=jQuery.url().param("d")!=undefined?jQuery.url().param("d"):"",debug=queryDebug==curDate.getFullYear()+pad2(curDate.getMonth()+1)+pad2(curDate.getDate())?2:1},searchAction.preLoad=function(){showLoading()},searchAction.postLoad=function(){hideLoading(),equalHeight($(".eqColumn"))},searchAction.run=function(){},searchAction.invalidquery=function(n){var i,t;if(n==null||n.length==0||n.length>200)return alert("Queries must be between 1 and 200 characters. Please modify your query and try your search again."),!1;for(i=["[","]"],t=0;t<i.length;t++)if(n.indexOf(i[t])!=-1)return alert("Query cannot contain brackets. Please modify your query and try your search again."),!1;return!0},searchAction.preInit(),ContentFilter.prototype.SelectFilter=function(n,t){removeItemsfromCollection(t),ActiveFilterItems[ActiveFilterItems.length]=new aFilterItem(t,$(n).context.id),$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),5,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())},ResultItem.prototype.formatDate=function(n){var t=new Date(n);return getMonthName(t.getMonth())+" "+t.getDate()+", "+t.getFullYear()},ResultItem.prototype.formatPDFLink=function(n){if(n!=null&&n.length>0)return this.Item.IsFree!=null&&this.Item.IsFree||isAuthenticated!=null&&isAuthenticated?n:"/signin.aspx"},ResultItem.prototype.formatReferences=function(n){return EditedReferences=[],n!=null&&$.each(n,function(n,t){xmlDoc=$.parseXML(t),$ref=$(xmlDoc),$return="",$ref.find("refitem").length>0&&($.each($ref.find("author"),function(n,t){$author=$(t),$return+=$return!=""?", "+$author.find("first").text()+" "+$author.find("last").text():$author.find("first").text()+" "+$author.find("last").text()}),$return+=". "+$ref.find("title").text()+" "+$ref.find("jrnlname").text()+" "+$ref.find("refcitation > year").text()+";"+$ref.find("refcitation > volume").text()+": "+$ref.find("refcitation > fpage").text()+"-"+$ref.find("refcitation > lpage").text()),$ref.find("ref").length>0&&($.each($ref.find("person-group name"),function(n,t){$author=$(t),$return+=$return!=""?", "+$author.find("given-names").text()+" "+$author.find("surname").text():$author.find("given-names").text()+" "+$author.find("surname").text()}),$return+=". "+$ref.find("article-title").text()+" "+$ref.find("source").text()+" "+$ref.find("year").text()+";"+$ref.find("volume").text()+": "+$ref.find("fpage").text()+"-"+$ref.find("lpage").text()),$ref.find("bib").length>0&&($return+=$ref.find("other-ref").text()),EditedReferences.push($return)}),EditedReferences},ResultItem.prototype.toResultHtml=function(){resultContainer=".searchContentContainer",this.Item.PublishedDate=this.formatDate(this.Item.PublishedDate),this.Item.PDFLink=this.formatPDFLink(this.Item.PDFLink);switch(this.Item.ResultType){case 0:$("#resultArticleNode").tmpl(this.Item).appendTo(resultContainer);break;case 1:$("#resultSectionNode").tmpl(this.Item).appendTo(resultContainer);break;case 2:$("#resultFigureNode").tmpl(this.Item).appendTo(resultContainer);break;case 3:this.Item.References=this.Item.References=="undefined"?[]:this.formatReferences(this.Item.References),$("#resultAuthorNode").tmpl(this.Item).appendTo(resultContainer)}},maskWidgets=["#Div1","#Div2","#Div5"],searchAction.eventFilterDateRange=function(){$("#fpDateRange").find("#clearDateRange").click(function(){clearFilter("DateRangeFilter")}),$("#fromDate1").focus(function(){this.value=="mm/dd/yyyy"&&(this.value="")}),$("#toDate1").focus(function(){this.value=="mm/dd/yyyy"&&(this.value="")}),$(".applyButton").click(function(){$("#dateRangeErrorMessagePanel").text(""),$("#fromDate1").val()&&$("#fromDate1").val()!="mm/dd/yyyy"?$("#toDate1").val()&&$("#toDate1").val()!="mm/dd/yyyy"?isValidDate($("#fromDate1").val())?isValidDate($("#toDate1").val())?+new Date($("#fromDate1").val())>+new Date($("#toDate1").val())?$("#dateRangeErrorMessagePanel").text("The start date must be equal to or earlier than the End Date."):+new Date($("#fromDate1").val())<=+new Date($("#toDate1").val())&&($(this).parents("#selectDateRange").find(".displayDateRange").html("<ul><li>"+$("#fromDate1").val()+"-"+$("#toDate1").val()+"</li></ul>").show(),$(".dateRange").hide(),removeItemsfromCollection("5"),ActiveFilterItems[ActiveFilterItems.length]=new aRangeFilterItem("5",$("#fromDate1").val(),$("#toDate1").val()),$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),7,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())):$("#dateRangeErrorMessagePanel").text("Invalid end date specified."):$("#dateRangeErrorMessagePanel").text("Invalid start date specified."):($("#toDate1").focus(),$("#dateRangeErrorMessagePanel").text("Please specify an end date.")):($("#fromDate1").focus(),$("#dateRangeErrorMessagePanel").text("Please specify a start date."))})},$(window).load(function(){jQuery.url().param("q")!=null&&$('input[name$="txtSearchTerm"]').val(unescape(jQuery.url().param("q"))),$('#ddlGroup option[value="'+jQuery.url().param("t")+'"]').attr("selected","selected"),$("#sortByBestMatchLink").click(function(){ActiveSortOrder=0,$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),10,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),$("#sortByBestMatchLink").addClass("selected"),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").removeClass("selected"),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}),$(".viewBasic").click(function(n){n.preventDefault(),$(".resultExpanded").hide(),$(".viewExpanded").removeClass("selected"),$(this).addClass("selected")}),$(".viewExpanded").click(function(n){n.preventDefault(),$(".resultExpanded").show(),$(".viewBasic").removeClass("selected"),$(this).addClass("selected")}),$("#sortByMostRecentLink").click(function(){ActiveSortOrder=1,$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),11,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),$("#sortByMostRecentLink").addClass("selected"),$("#sortByBestMatchLink").removeClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").removeClass("selected"),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}),$("#sortByCme").click(function(){ActiveSortOrder=2,$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),11,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByBestMatchLink").removeClass("selected"),$("#sortByCme").addClass("selected"),$("#sortByOldest").removeClass("selected"),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}),$("#sortByOldest").click(function(){ActiveSortOrder=3,$("#currentPage").val("1"),doSearch($("#queryText").val(),$("#searchScope").val(),11,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1),$("#sortByMostRecentLink").removeClass("selected"),$("#sortByBestMatchLink").removeClass("selected"),$("#sortByCme").removeClass("selected"),$("#sortByOldest").addClass("selected"),lastQueryText.length>0&&activeSavedSearch!==undefined&&($("#lnkGetAlerts").text("Update Email Alert"),$("#lnkGetAlerts").show())}),$("#nextPage").click(function(){var t=parseInt($("#currentPage").val(),10)+1,n;t<2?$("#prevPage").hide():(n="Previous {0} {1}",$("#prevPage").html(n.format(20,"Results")),$("#prevPage").show()),$("#currentPage").val(t),doSearch($("#queryText").val(),$("#searchScope").val(),9,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1)}),$("#prevPage").click(function(){var n=parseInt($("#currentPage").val(),10)-1;n<2?$("#prevPage").hide():$("#prevPage").show(),$("#currentPage").val(n),doSearch($("#queryText").val(),$("#searchScope").val(),8,$("#currentPage").val(),$("#pageLength").val(),ActiveFilterItems,ActiveSortOrder,ActiveResultView,!0,!1)})}),function(n){function t(t,i){return parseInt(n.css(t[0],i))||0}function r(n){return n[0].offsetWidth+t(n,"marginLeft")+t(n,"marginRight")}function i(n){return n[0].offsetHeight+t(n,"marginTop")+t(n,"marginBottom")}n.fn.jCarouselLite=function(t){return t=n.extend({btnPrev:null,btnNext:null,btnGo:null,btnGo2:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{}),this.each(function(){function a(){t.auto&&(window.clearInterval(y),y=b())}function b(){return window.setInterval(function(){c(f+t.scroll)},t.auto+t.speed)}function k(){return o.slice(f).slice(0,u)}function c(i){if(!p){if(t.beforeStart&&t.beforeStart.call(this,k()),t.circular)i<=t.start-u-1?(e.css(v,-((s-u*2)*h)+"px"),f=i==t.start-u-1?s-u*2-1:s-u*2-t.scroll):i>=s-u+1?(e.css(v,-(u*h)+"px"),f=i==s-u+1?u+1:u+t.scroll):f=i;else{if(i<0||i>s-u)return;f=i}p=!0,e.animate(v=="left"?{left:-(f*h)}:{top:-(f*h)},t.speed,t.easing,function(){t.afterEnd&&t.afterEnd.call(this,k()),p=!1}),t.circular||(n(t.btnPrev+","+t.btnNext).removeClass("disabled"),n(f-t.scroll<0&&t.btnPrev||f+t.scroll>s-u&&t.btnNext||[]).addClass("disabled"))}return!1}var p=!1,v=t.vertical?"top":"left",d=t.vertical?"height":"width",l=n(this),e=n("ul",l),w=n("li",e),g=w.size(),u=t.visible,y=null;t.circular&&(e.prepend(w.slice(g-u-0).clone()).append(w.slice(0,u).clone()),t.start+=u);var o=n("li",e),s=o.size(),f=t.start;l.css("visibility","visible"),o.css({overflow:"hidden",float:t.vertical?"none":"left"}),e.css({margin:"0",padding:"0",position:"relative","list-style-type":"none"}),l.css({overflow:"hidden",position:"relative",left:"0px"});var h=t.vertical?i(o):r(o),nt=h*s,tt=h*u;o.css({width:o.width(),height:o.height()}),e.css(d,nt+"px").css(v,-(f*h)),l.css(d,tt+"px"),t.btnPrev&&n(t.btnPrev).click(function(){return a(),c(f-t.scroll)}),t.btnNext&&n(t.btnNext).click(function(){return a(),c(f+t.scroll)}),t.btnGo&&n.each(t.btnGo,function(i,r){n(r).click(function(){return a(),c(t.circular?t.visible+i:i)})}),t.btnGo2&&n.each(t.btnGo2,function(i,r){n(r).click(function(){return a(),c(t.circular?t.visible+i:i)})}),t.mouseWheel&&l.mousewheel&&l.mousewheel(function(n,i){return i>0?c(f-t.scroll):c(f+t.scroll)}),a(),n(this).bind({mouseenter:function(){window.clearInterval(y)},mouseleave:function(){t.auto&&(y=b())}})})}}(jQuery),function(n){var h,p,b,r,it,f,tt,nt,d,l=0,i={},a=[],c=0,t={},e=[],ut=null,v=new Image,ct=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,ni=/[^\.]\.(swf)\s*$/i,st,ot=1,o,s,u=!1,y=20,k=n.extend(n("<div/>")[0],{prop:0}),w=0,yt=!n.support.opacity&&!window.XMLHttpRequest,at=function(){p.hide(),v.onerror=v.onload=null,ut&&ut.abort(),h.empty()},pt=function(){n.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},et=function(){return[n(window).width(),n(window).height(),n(document).scrollLeft(),n(document).scrollTop()]},gt=function(){var r=et(),n={},o=t.margin,h=t.autoScale,e=(y+o)*2,f=(y+o)*2,u=t.padding*2,s;return t.width.toString().indexOf("%")>-1?(n.width=r[0]*parseFloat(t.width)/100-y*2,h=!1):n.width=t.width+u,t.height.toString().indexOf("%")>-1?(n.height=r[1]*parseFloat(t.height)/100-y*2,h=!1):n.height=t.height+u,h&&(n.width>r[0]-e||n.height>r[1]-f)&&(i.type=="image"||i.type=="swf"?(e+=u,f+=u,s=Math.min(Math.min(r[0]-e,t.width)/t.width,Math.min(r[1]-f,t.height)/t.height),n.width=Math.round(s*(n.width-u))+u,n.height=Math.round(s*(n.height-u))+u):(n.width=Math.min(n.width,r[0]-e),n.height=Math.min(n.height,r[1]-f))),n.top=r[3]+(r[1]-(n.height+y*2))*.5,n.left=r[2]+(r[0]-(n.width+y*2))*.5,t.autoScale===!1&&(n.top=Math.max(r[3]+o,n.top),n.left=Math.max(r[2]+o,n.left)),n},dt=function(n){if(n&&n.length)switch(t.titlePosition){case"inside":return n;case"over":return'<span id="fancybox-title-over">'+n+"</span>";default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+n+'</span><span id="fancybox-title-right"></span></span>'}return!1},ti=function(){var i=t.title,u=s.width-t.padding*2,r="fancybox-title-"+t.titlePosition;if((n("#fancybox-title").remove(),w=0,t.titleShow!==!1)&&(i=n.isFunction(t.titleFormat)?t.titleFormat(i,e,c,t):dt(i),i&&i!=="")){n('<div id="fancybox-title" class="'+r+'" />').css({width:u,paddingLeft:t.padding,paddingRight:t.padding}).html(i).appendTo("body");switch(t.titlePosition){case"inside":w=n("#fancybox-title").outerHeight(!0)-t.padding,s.height+=w;break;case"over":n("#fancybox-title").css("bottom",t.padding);break;default:n("#fancybox-title").css("bottom",n("#fancybox-title").outerHeight(!0)*-1)}n("#fancybox-title").appendTo(it).hide()}},ui=function(){(n(document).unbind("keydown.fb").bind("keydown.fb",function(i){i.keyCode==27&&t.enableEscapeButton?(i.preventDefault(),n.fancybox.close()):i.keyCode==37?(i.preventDefault(),n.fancybox.prev()):i.keyCode==39&&(i.preventDefault(),n.fancybox.next())}),n.fn.mousewheel&&(r.unbind("mousewheel.fb"),e.length>1&&r.bind("mousewheel.fb",function(t,i){(t.preventDefault(),u||i===0)||(i>0?n.fancybox.prev():n.fancybox.next())})),t.showNavArrows)&&((t.cyclic&&e.length>1||c!==0)&&nt.show(),(t.cyclic&&e.length>1||c!=e.length-1)&&d.show())},ri=function(){var n,t;e.length-1>c&&(n=e[c+1].href,typeof n!="undefined"&&n.match(ct)&&(t=new Image,t.src=n)),c>0&&(n=e[c-1].href,typeof n!="undefined"&&n.match(ct)&&(t=new Image,t.src=n))},ht=function(){if(f.css("overflow",t.scrolling=="auto"?t.type=="image"||t.type=="iframe"||t.type=="swf"?"hidden":"auto":t.scrolling=="yes"?"auto":"visible"),n.support.opacity||(f.get(0).style.removeAttribute("filter"),r.get(0).style.removeAttribute("filter")),n("#fancybox-title").show(),t.hideOnContentClick)f.one("click",n.fancybox.close);if(t.hideOnOverlayClick)b.one("click",n.fancybox.close);if(t.showCloseButton&&tt.show(),ui(),n(window).bind("resize.fb",n.fancybox.center),t.centerOnScroll?n(window).bind("scroll.fb",n.fancybox.center):n(window).unbind("scroll.fb"),n.isFunction(t.onComplete))t.onComplete(e,c,t);u=!1,ri()},lt=function(n){var u=Math.round(o.width+(s.width-o.width)*n),i=Math.round(o.height+(s.height-o.height)*n),h=Math.round(o.top+(s.top-o.top)*n),e=Math.round(o.left+(s.left-o.left)*n);r.css({width:u+"px",height:i+"px",top:h+"px",left:e+"px"}),u=Math.max(u-t.padding*2,0),i=Math.max(i-(t.padding*2+w*n),0),f.css({width:u+"px",height:i+"px"}),typeof s.opacity!="undefined"&&r.css("opacity",n<.5?.5:n)},ii=function(n){var t=n.offset();return t.top+=parseFloat(n.css("paddingTop"))||0,t.left+=parseFloat(n.css("paddingLeft"))||0,t.top+=parseFloat(n.css("border-top-width"))||0,t.left+=parseFloat(n.css("border-left-width"))||0,t.width=n.width(),t.height=n.height(),t},vt=function(){var f=i.orig?n(i.orig):!1,e={},r,u;return f&&f.length?(r=ii(f),e={width:r.width+t.padding*2,height:r.height+t.padding*2,top:r.top-t.padding-y,left:r.left-t.padding-y}):(u=et(),e={width:1,height:1,top:u[3]+u[1]*.5,left:u[2]+u[0]*.5}),e},ft=function(){if(p.hide(),r.is(":visible")&&n.isFunction(t.onCleanup)&&t.onCleanup(e,c,t)===!1){n.event.trigger("fancybox-cancel"),u=!1;return}if(e=a,c=l,t=i,f.get(0).scrollTop=0,f.get(0).scrollLeft=0,t.overlayShow){if(yt)n("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});b.css({"background-color":t.overlayColor,opacity:t.overlayOpacity}).unbind().show()}if(s=gt(),ti(),r.is(":visible")){n(tt.add(nt).add(d)).hide();var y=r.position(),v;o={top:y.top,left:y.left,width:r.width(),height:r.height()},v=o.width==s.width&&o.height==s.height,f.fadeOut(t.changeFade,function(){var i=function(){f.html(h.contents()).fadeIn(t.changeFade,ht)};n.event.trigger("fancybox-change"),f.empty().css("overflow","hidden"),v?(f.css({top:t.padding,left:t.padding,width:Math.max(s.width-t.padding*2,1),height:Math.max(s.height-t.padding*2-w,1)}),i()):(f.css({top:t.padding,left:t.padding,width:Math.max(o.width-t.padding*2,1),height:Math.max(o.height-t.padding*2,1)}),k.prop=0,n(k).animate({prop:1},{duration:t.changeSpeed,easing:t.easingChange,step:lt,complete:i}))});return}r.css("opacity",1),t.transitionIn=="elastic"?(o=vt(),f.css({top:t.padding,left:t.padding,width:Math.max(o.width-t.padding*2,1),height:Math.max(o.height-t.padding*2,1)}).html(h.contents()),r.css(o).show(),t.opacity&&(s.opacity=0),k.prop=0,n(k).animate({prop:1},{duration:t.speedIn,easing:t.easingIn,step:lt,complete:ht})):(f.css({top:t.padding,left:t.padding,width:Math.max(s.width-t.padding*2,1),height:Math.max(s.height-t.padding*2-w,1)}).html(h.contents()),r.css(s).fadeIn(t.transitionIn=="none"?0:t.speedIn,ht))},rt=function(){h.width(i.width),h.height(i.height),i.width=="auto"&&(i.width=h.width()),i.height=="auto"&&(i.height=h.height()),ft()},kt=function(){u=!0,i.width=v.width,i.height=v.height,n("<img />").attr({id:"fancybox-img",src:v.src,alt:i.title}).appendTo(h),ft()},g=function(){at();var r=a[l],t,e,c,p,w,o,s;if(i=n.extend({},n.fn.fancybox.defaults,typeof n(r).data("fancybox")=="undefined"?i:n(r).data("fancybox")),c=r.title||n(r).title||i.title||"",r.nodeName&&!i.orig&&(i.orig=n(r).children("img:first").length?n(r).children("img:first"):n(r)),c===""&&i.orig&&(c=i.orig.attr("alt")),t=r.nodeName&&/^(?:javascript|#)/i.test(r.href)?i.href||null:i.href||r.href||null,i.type?(e=i.type,t||(t=i.content)):i.content?e="html":t?t.match(ct)?e="image":t.match(ni)?e="swf":n(r).hasClass("iframe")?e="iframe":t.match(/#/)?(r=t.substr(t.indexOf("#")),e=n(r).length>0?"inline":"ajax"):e="ajax":e="inline",i.type=e,i.href=t,i.title=c,i.autoDimensions&&i.type!=="iframe"&&i.type!=="swf"&&(i.width="auto",i.height="auto"),i.modal&&(i.overlayShow=!0,i.hideOnOverlayClick=!1,i.hideOnContentClick=!1,i.enableEscapeButton=!1,i.showCloseButton=!1),n.isFunction(i.onStart)&&i.onStart(a,l,i)===!1){u=!1;return}h.css("padding",y+i.padding+i.margin),n(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){n(this).replaceWith(f.children())});switch(e){case"html":h.html(i.content),rt();break;case"inline":n('<div class="fancybox-inline-tmp" />').hide().insertBefore(n(r)).bind("fancybox-cleanup",function(){n(this).replaceWith(f.children())}).bind("fancybox-cancel",function(){n(this).replaceWith(h.children())}),n(r).appendTo(h),rt();break;case"image":u=!1,n.fancybox.showActivity(),v=new Image,v.onerror=function(){pt()},v.onload=function(){v.onerror=null,v.onload=null,kt()},v.src=t;break;case"swf":p='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+i.width+'" height="'+i.height+'"><param name="movie" value="'+t+'"></param>',w="",n.each(i.swf,function(n,t){p+='<param name="'+n+'" value="'+t+'"></param>',w+=" "+n+'="'+t+'"'}),p+='<embed src="'+t+'" type="application/x-shockwave-flash" width="'+i.width+'" height="'+i.height+'"'+w+"></embed></object>",h.html(p),rt();break;case"ajax":o=t.split("#",2),s=i.ajax.data||{},o.length>1&&(t=o[0],typeof s=="string"?s+="&selector="+o[1]:s.selector=o[1]),u=!1,n.fancybox.showActivity(),ut=n.ajax(n.extend(i.ajax,{url:t,data:s,error:pt,success:function(n){ut.status==200&&(h.html(n),rt())}}));break;case"iframe":n('<iframe id="fancybox-frame" name="fancybox-frame'+ +new Date+'" frameborder="0" hspace="0" scrolling="'+i.scrolling+'" src="'+i.href+'"></iframe>').appendTo(h),ft()}},bt=function(){if(!p.is(":visible")){clearInterval(st);return}n("div",p).css("top",ot*-40+"px"),ot=(ot+1)%12},wt=function(){n("#fancybox-wrap").length||(n("body").append(h=n('<div id="fancybox-tmp"></div>'),p=n('<div id="fancybox-loading"><div></div></div>'),b=n('<div id="fancybox-overlay"></div>'),r=n('<div id="fancybox-wrap"></div>')),n.support.opacity||(r.addClass("fancybox-ie"),p.addClass("fancybox-ie")),it=n('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(r),it.append(f=n('<div id="fancybox-inner"></div>'),tt=n('<a id="fancybox-close"></a>'),nt=n('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),d=n('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),tt.click(n.fancybox.close),p.click(n.fancybox.cancel),nt.click(function(t){t.preventDefault(),n.fancybox.prev()}),d.click(function(t){t.preventDefault(),n.fancybox.next()}),yt&&(b.get(0).style.setExpression("height","document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'"),p.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'"),it.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')))};n.fn.fancybox=function(t){return n(this).data("fancybox",n.extend({},t,n.metadata?n(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!u){u=!0,n(this).blur(),a=[],l=0;var i=n(this).attr("rel")||"";return i&&i!=""&&i!=="nofollow"?(a=n("a[rel="+i+"], area[rel="+i+"]"),l=a.index(this)):a.push(this),g(),!1}}),this},n.fancybox=function(t){var r,i,f;if(!u){if(u=!0,r=typeof arguments[1]!="undefined"?arguments[1]:{},a=[],l=r.index||0,n.isArray(t)){for(i=0,f=t.length;i<f;i++)typeof t[i]=="object"?n(t[i]).data("fancybox",n.extend({},r,t[i])):t[i]=n({}).data("fancybox",n.extend({content:t[i]},r));a=jQuery.merge(a,t)}else typeof t=="object"?n(t).data("fancybox",n.extend({},r,t)):t=n({}).data("fancybox",n.extend({content:t},r)),a.push(t);(l>a.length||l<0)&&(l=0),g()}},n.fancybox.showActivity=function(){clearInterval(st),p.show(),st=setInterval(bt,66)},n.fancybox.hideActivity=function(){p.hide()},n.fancybox.next=function(){return n.fancybox.pos(c+1)},n.fancybox.prev=function(){return n.fancybox.pos(c-1)},n.fancybox.pos=function(n){if(!u){n=parseInt(n,10),n>-1&&e.length>n&&(l=n,g()),t.cyclic&&e.length>1&&n<0&&(l=e.length-1,g()),t.cyclic&&e.length>1&&n>=e.length&&(l=0,g());return}},n.fancybox.cancel=function(){if(!u){if(u=!0,n.event.trigger("fancybox-cancel"),at(),i&&n.isFunction(i.onCancel))i.onCancel(a,l,i);u=!1}},n.fancybox.close=function(){function a(){if(b.fadeOut("fast"),r.hide(),n.event.trigger("fancybox-cleanup"),f.empty(),n.isFunction(t.onClosed))t.onClosed(e,c,t);e=i=[],c=l=0,t=i={},u=!1}if(!u&&!r.is(":hidden")){if(u=!0,t&&n.isFunction(t.onCleanup)&&t.onCleanup(e,c,t)===!1){u=!1;return}if(at(),n(tt.add(nt).add(d)).hide(),n("#fancybox-title").remove(),r.add(f).add(b).unbind(),n(window).unbind("resize.fb scroll.fb"),n(document).unbind("keydown.fb"),f.css("overflow","hidden"),t.transitionOut=="elastic"){o=vt();var h=r.position();s={top:h.top,left:h.left,width:r.width(),height:r.height()},t.opacity&&(s.opacity=1),k.prop=1,n(k).animate({prop:0},{duration:t.speedOut,easing:t.easingOut,step:lt,complete:a})}else r.fadeOut(t.transitionOut=="none"?0:t.speedOut,a)}},n.fancybox.resize=function(){var i,e;u||r.is(":hidden")||(u=!0,i=f.wrapInner("<div style='overflow:auto'></div>").children(),e=i.height(),r.css({height:e+t.padding*2+w}),f.css({height:e}),i.replaceWith(i.children()),n.fancybox.center())},n.fancybox.center=function(){u=!0;var i=et(),f=t.margin,n={};n.top=i[3]+(i[1]-(r.height()-w+y*2))*.5,n.left=i[2]+(i[0]-(r.width()+y*2))*.5,n.top=Math.max(i[3]+f,n.top),n.left=Math.max(i[2]+f,n.left),r.css(n),u=!1},n.fn.fancybox.defaults={padding:10,margin:20,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:510,height:440,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.3,overlayColor:"#666",titleShow:!0,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null},n(document).ready(function(){wt()})}(jQuery),function(n){n.fn.figureEnlarger=function(t){function e(t,f){var e,s,o;switch(f){case"button":e=n(t).parent().find(".inlineFigureImageContainer .contentFigures")[0].width,i.smallImage=n(t).parent().find(".inlineFigureImageContainer .contentFigures").attr("src"),i.mediumImage=i.smallImage.replace("s_","m_"),s=n(t).parent(".inlineFigureImage").find(".inlineFigureImageContainer").find(".contentFigures"),e==i.minWidth?r(s,t,!1,i.maxWidth,i.mediumImage):r(s,t,!0,i.minWidth,i.smallImage);break;case"image":e=n(t).width(),i.smallImage=n(t).attr("src"),i.mediumImage=i.smallImage.replace("s_","m_"),o=n(t).parents(".inlineFigureImage").find("enlineFigure"),e==i.minWidth?u(t,o,!1,i.maxWidth,i.mediumImage):u(t,o,!0,i.minWidth,i.smallImage)}}function r(t,i,r,u,f){return n(t).attr("src",f).animate({width:u+"px"},{duration:600,complete:function(){equalHeight(n(".eqColumn"))}}),r?n(i).children(".btnImageEnlarger").removeClass("open"):n(i).children(".btnImageEnlarger").addClass("open"),!1}function u(t,i,r,u,f){return n(t).attr("src",f).animate({width:u+"px"},{duration:600,complete:function(){equalHeight(n(".eqColumn"))}}),r?n(i).children(".btnImageEnlarger").removeClass("open"):n(i).children(".btnImageEnlarger").addClass("open"),!1}var i={maxWidth:540,minWidth:180,button_close:"/Images/buttons/b_imgclose.gif",button_expand:"/Images/buttons/b_imgexpand.gif",mediumImage:"",smallImage:""},f=n(this);t&&n.extend(i,t),n(f).find(".enlargeImage").click(function(n){n.preventDefault(),e(this,"button")}),n(f).find(".contentFigures").click(function(t){t.preventDefault(),n(this).parents(".ui-dialog").length<1&&e(this,"image")})}}(jQuery),function(n){n.extend(n.fn,{swapClass:function(n,t){var i=this.filter("."+n);return this.filter("."+t).removeClass(t).addClass(n),i.removeClass(n).addClass(t),this},replaceClass:function(n,t){return this.filter("."+n).removeClass(n).addClass(t).end()},hoverClass:function(t){return t=t||"hover",this.hover(function(){n(this).addClass(t)},function(){n(this).removeClass(t)})},heightToggle:function(n,t){n?this.animate({height:"toggle"},n,t):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),t&&t.apply(this,arguments)})},heightHide:function(n,t){n?this.animate({height:"hide"},n,t):(this.hide(),t&&this.each(t))},prepareBranches:function(n){return n.prerendered||(this.filter(":last-child:not(ul)").addClass(t.last),this.filter((n.collapsed?"":"."+t.closed)+":not(."+t.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(i,r){if(this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(t){this==t.target&&r.apply(n(this).next())}).add(n("a",this)).hoverClass(),!i.prerendered){this.filter(":has(>ul:hidden)").addClass(t.expandable).replaceClass(t.last,t.lastExpandable),this.not(":has(>ul:hidden)").addClass(t.collapsable).replaceClass(t.last,t.lastCollapsable);var u=this.find("div."+t.hitarea);u.length||(u=this.prepend('<div class="'+t.hitarea+'"/>').find("div."+t.hitarea)),u.removeClass().addClass(t.hitarea).each(function(){var t="";n.each(n(this).parent().attr("class").split(" "),function(){t+=this+"-hitarea "}),n(this).addClass(t)})}this.find("div."+t.hitarea).click(r)},treeview:function(i){function l(i,r){function u(r){return function(){return e.apply(n("div."+t.hitarea,i).filter(function(){return r?n(this).parent("."+r).length:!0})),!1}}n("a:eq(0)",r).click(u(t.expandable)),n("a:eq(1)",r).click(u(t.collapsable)),n("a:eq(2)",r).click(u())}function e(){n(this).parent().find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightToggle(i.animated,i.toggle),i.unique&&n(this).parent().siblings().find(">.hitarea").replaceClass(t.collapsableHitarea,t.expandableHitarea).replaceClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().replaceClass(t.collapsable,t.expandable).replaceClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightHide(i.animated,i.toggle)}function h(){var t=[];r.each(function(i,r){t[i]=n(r).is(":has(>ul:visible)")?1:0}),n.cookie(i.cookieId,t.join(""),i.cookieOptions)}function c(){var u=n.cookie(i.cookieId),t;u&&(t=u.split(""),r.each(function(i,r){n(r).find(">ul")[parseInt(t[i])?"show":"hide"]()}))}var o,r,f,u,s;i=n.extend({cookieId:"treeview"},i),i.toggle&&(o=i.toggle,i.toggle=function(){return o.apply(n(this).parent()[0],arguments)}),this.data("toggler",e),this.addClass("treeview"),r=this.find("li").prepareBranches(i);switch(i.persist){case"cookie":f=i.toggle,i.toggle=function(){h(),f&&f.apply(this,arguments)},c();break;case"location":u=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()}),u.length&&(s=u.addClass("selected").parents("ul, li").add(u.next()).show(),i.prerendered&&s.filter("li").swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea))}return r.applyClasses(i,e),i.control&&(l(this,i.control),n(i.control).show()),this}}),n.treeview={};var t=n.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}}(jQuery),function(n){n.fn.issueCalender=function(t,i){function o(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":t[1]}var e=n(this).children(".vTabs").children(),f=n(this).children(".vtabContent").children(),r=0,u;r=t,n(f[r]).addClass("activeContent"),n(e[r]).addClass("activeTab"),u=o("atab"),n("div.contentContainer").hide(),u>"0"?(n(".tabNav .atab:nth-child("+u+") a").addClass("selected").show(),n("#Div"+u).show()):i!=undefined&&(n(this).removeClass("activeTab"),n("#"+i).show()),n(".tabNav div a").click(function(){return n(".tabNav div a").removeClass("selected"),n(".contentContainer").hide(),!1}),n(".vTabs a").click(function(){return r=n(this).parent().prevAll().length,n(this).removeClass("activeTab"),n(this).parent("li").addClass("activeTab"),n(".activeContent").hide().removeClass(".activeContent"),n(f[r]).fadeIn(800).addClass("activeContent"),!1})}}(jQuery),JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var h,l,c,a,v=n,s,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i)),typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,s=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,h=0;h<a;h+=1)s[h]=r(h,o)||"null";return c=s.length===0?"[]":n?"[\n"+n+s.join(",\n"+n)+"\n"+v+"]":"["+s.join(",")+"]",n=v,c}if(t&&typeof t=="object")for(a=t.length,h=0;h<a;h+=1)typeof t[h]=="string"&&(l=t[h],c=r(l,o),c&&s.push(f(l)+(n?": ":":")+c));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c=r(l,o),c&&s.push(f(l)+(n?": ":":")+c));return c=s.length===0?"{}":n?"{\n"+n+s.join(",\n"+n)+"\n"+v+"}":"{"+s.join(",")+"}",n=v,c}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})}),typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),function(n){n.fn.smartAutoComplete=function(){var u,t,r,i;return arguments.length<1?(u=this[0],n(u).data("smart-autocomplete")):(t=function(t,i){var u=new RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");return n.grep(i,function(n){return u.test(n)})},r={minCharLimit:1,maxResults:null,delay:0,disabled:!1,forceSelect:!1,typeAhead:!1,resultElement:"li",resultFormatter:function(n){return"<li>"+n+"</li>"},filter:function(i,r){var u=this,e=n(u).data("smart-autocomplete"),f;return n.type(r)==="array"?f=t(i,r,u):n.type(r)==="string"?n.Deferred(function(f){n.ajax({url:r,data:{term:i},dataType:"json"}).success(function(n){f.resolve(t(i,n,u))})}).promise():void 0},alignResultsContainer:!1,clearResults:function(){n(this.context).prev(".smart_autocomplete_type_ahead_field").remove(),n(this.context).css({background:"#FFF"}),n(this.resultsContainer).html("")},setCurrentSelectionToContext:function(){this.rawResults.length>0&&this.currentSelection>=0&&n(this.context).val(this.rawResults[this.currentSelection])},setItemSelected:function(n){this.itemSelected=n}},n.event.special.keyIn={setup:function(){return!1},_default:function(t){var r=t.target,i=n(r).data("smart-autocomplete"),e=i.source||null,u=i.filter,f=t.smartAutocompleteData.query;if(i.disabled)return!1;i.setItemSelected(!1),setTimeout(function(){n.when(u.apply(i,[f,i.source])).done(function(t){var u=i.maxResults>0?t.splice(0,i.maxResults):t;n(r).trigger("resultsReady",[u])})},i.delay)}},n.event.special.resultsReady={setup:function(){return!1},_default:function(t){var u=t.target,i=n(u).data("smart-autocomplete"),r=t.smartAutocompleteData.results,e,f;if(i.disabled)return!1;if(n(u).smartAutoComplete().clearResults(),i.rawResults=r,r==null||r.length<1)return n(u).trigger("noResults"),!1;e=n.map(r,function(n){return i.resultFormatter.apply(i,[n])}),f=e.join(""),i.resultsContainer&&n(i.resultsContainer).append(f),n(u).trigger("showResults",[r])}},n.event.special.showResults={setup:function(){return!1},_default:function(t){var i=t.target,u=n(i).data("smart-autocomplete"),r=n(u.resultsContainer),o=t.smartAutocompleteData.results,e,f;u.typeAhead&&o[0].substr(0,n(i).val().length)==n(i).val()&&(e=o[0],n(i).before("<input class='smart_autocomplete_type_ahead_field' type='text' autocomplete='off' disabled='disabled' value='"+e+"'/>"),n(i).css({position:"relative",zIndex:2,background:"transparent"}),f=n(i).prev("input"),f.css({position:"absolute",zIndex:1,overflow:"hidden",background:"none repeat scroll 0 0 #FFFFFF",borderColor:"transparent",width:n(i).width(),color:"silver"}),u.currentSelection=0,r&&n(i).trigger("itemFocus",r.children()[u.currentSelection])),r&&(u.alignResultsContainer&&r.css({position:"absolute",top:function(){return n(i).offset().top+n(i).height()},left:function(){return n(i).offset().left},width:function(){return n(i).width()},zIndex:1e3}),r.show())}},n.event.special.noResults={setup:function(){return!1},_default:function(t){var u=t.target,i=n(u).data("smart-autocomplete"),r=n(i.resultsContainer);r&&i.clearResults()}},n.event.special.itemSelect={setup:function(){return!1},_default:function(t){var i=t.target,u=n(i).data("smart-autocomplete"),r=t.smartAutocompleteData.item,f=n(r).text()||n(r).val();n(i).val(f),u.setItemSelected(!0),u.originalCharCount=n(i).val().length,n(i).trigger("lostFocus")}},n.event.special.itemFocus={setup:function(){return!1},_default:function(t){var i=t.smartAutocompleteData.item;n(i).addClass("smart_autocomplete_highlight")}},n.event.special.itemUnfocus={setup:function(){return!1},_default:function(t){var i=t.smartAutocompleteData.item;n(i).removeClass("smart_autocomplete_highlight")}},n.event.special.lostFocus={setup:function(){return!1},_default:function(t){var r=t.target,i=n(r).data("smart-autocomplete");i.forceSelect&&!i.itemSelected&&n(i.context).val(""),i.clearResults(),i.resultsContainer&&n(i.resultsContainer).hide(),i.currentSelection=null}},i=arguments[0],this.each(function(){var u=n.extend(r,n(this).data("smart-autocomplete"),i),f;u.context=this,n.type(u.resultsContainer)==="undefined"&&(f=n("<ul class='smart_autocomplete_container' style='display:none'></ul>"),f.appendTo("body"),u.resultsContainer=f,u.alignResultsContainer=!0),n(this).data("smart-autocomplete",u),n(this).keyup(function(t){var i=n(this).data("smart-autocomplete"),e,r,u,f;if(t.keyCode=="38")i.resultsContainer&&(r=i.currentSelection||0,u=n(i.resultsContainer).children(),r>=0&&n(i.context).trigger("itemUnfocus",u[r]),--r<=0&&(r=0),i.currentSelection=r,n(i.context).trigger("itemFocus",[u[r]]));else if(t.keyCode=="40")i.resultsContainer&&(r=i.currentSelection,u=n(i.resultsContainer).children(),r>=0&&n(i.context).trigger("itemUnfocus",u[r]),(isNaN(r)||++r>=u.length)&&(r=0),i.currentSelection=r,n(i.context).trigger("itemFocus",[u[r]]));else{if(t.keyCode=="39"||t.keyCode=="13")return e=n(i.context).prev(".smart_autocomplete_type_ahead_field"),i.resultsContainer&&n(i.resultsContainer).is(":visible")?(r=i.currentSelection,u=n(i.resultsContainer).children(),n(i.context).trigger("itemSelect",[u[r]])):i.typeAhead&&e.is(":visible")&&n(i.context).trigger("itemSelect",[e]),!1;if(f=n(i.context).val().length,i.originalCharCount==f)return;f>=i.minCharLimit?n(i.context).trigger("keyIn",[n(this).val()]):n(i.resultsContainer).is(":visible")&&(i.currentSelection=null,n(i.context).trigger("lostFocus"))}}),n(this).focus(function(){n(this).closest("form").bind("keydown.block_for_smart_autocomplete",function(t){var f=n(u.context).prev(".smart_autocomplete_type_ahead_field"),r,i;if(t.keyCode=="13"){if(u.resultsContainer&&n(u.resultsContainer).is(":visible"))return r=u.currentSelection,i=n(u.resultsContainer).children(),n(u.context).trigger("itemSelect",[i[r]]),!1;if(u.typeAhead&&f.is(":visible"))return n(u.context).trigger("itemSelect",[f]),!1}}),u.forceSelect&&n(this).select()}),n(document).bind("focusin click",function(t){if(n(u.resultsContainer).is(":visible")){var i=n.contains(u.resultsContainer[0],t.target);if(t.target==u.resultsContainer[0]||t.target==u.context||i)return;n(u.context).closest("form").unbind("keydown.block_for_smart_autocomplete"),n(u.context).trigger("lostFocus")}}),n(u.resultsContainer).delegate(u.resultElement,"mouseenter.smart_autocomplete",function(){var i=u.currentSelection||0,t=n(u.resultsContainer).children();u.currentSelection=n(this).prevAll().length,n(u.context).trigger("itemFocus",[this])}),n(u.resultsContainer).delegate(u.resultElement,"mouseleave.smart_autocomplete",function(){n(u.context).trigger("itemUnfocus",[this])}),n(u.resultsContainer).delegate(u.resultElement,"click.smart_autocomplete",function(){return n(u.context).trigger("itemSelect",[this]),!1}),n(this).bind({keyIn:function(n,t){n.smartAutocompleteData={query:t}},resultsReady:function(n,t){n.smartAutocompleteData={results:t}},showResults:function(n,t){n.smartAutocompleteData={results:t}},noResults:function(){},lostFocus:function(){},itemSelect:function(n,t){n.smartAutocompleteData={item:t}},itemFocus:function(n,t){n.smartAutocompleteData={item:t}},itemUnfocus:function(n,t){n.smartAutocompleteData={item:t}}})}))}}(jQuery),function(n){n.fn.watermark=function(t){var i={text:null,color:"#cccccc",fontSize:"12px",top:"5px",left:"5px",className:"watermark",lineHeight:"18px"};return this.filter("input:text").each(function(){var u,r;i.text=n(this).attr("title"),settings=n.extend({},i,t),u=n("<span />"),n(this).after(u).detach().appendTo(u),r=n("<label />",{text:settings.text,"for":n(this).attr("id"),"class":settings.className}),r.css({position:"absolute",top:settings.top,left:settings.left,"z-index":"1",color:settings.color,"font-size":settings.fontSize,"line-height":settings.lineHeight}),r.appendTo(u),n(this).focus(function(){this.value==""&&r.hide()}),n(this).blur(function(){this.value==""&&r.show()}),!n(this).val()==""&&r.hide()})}}(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 */
(function(n){function i(n){var t=n.split(/\s/);return{X:t[0],Y:t[1]}}var r=n('<div style="background-position: 3px 5px">'),t;n.support.backgroundPosition=r.css("backgroundPosition")==="3px 5px"?!0:!1,n.support.backgroundPositionXY=r.css("backgroundPositionX")==="3px"?!0:!1,r=null,t=["X","Y"],!n.support.backgroundPosition&&n.support.backgroundPositionXY&&(n.cssHooks.backgroundPosition={get:function(i){return n.map(t,function(t){return n.css(i,"backgroundPosition"+t)}).join(" ")},set:function(r,u){n.each(t,function(n,t){var f=i(u);r.style["backgroundPosition"+t]=f[t]})}}),n.support.backgroundPosition&&!n.support.backgroundPositionXY&&n.each(t,function(t,r){n.cssHooks["backgroundPosition"+r]={get:function(t){var e=i(n.css(t,"backgroundPosition"));return e[r]},set:function(t,u){var e=i(n.css(t,"backgroundPosition")),f=r==="X";t.style.backgroundPosition=(f?u:e.X)+" "+(f?e.Y:u)}},n.fx.step["backgroundPosition"+r]=function(t){n.cssHooks["backgroundPosition"+r].set(t.elem,t.now+t.unit)}})})(jQuery);var SearchCallbackCount=0,solrSwitch=$("#hfIsSolrSearchEnabled").val(),isSolrSearchEnabled=!0,searchMaxAllowChars=$("#hfSolrMaxAllowSearchChar").val();isSolrSearchEnabled=solrSwitch=="1"?!0:!1,autoSuggestRunning=!1,$(document).ready(function(){$("ul").filter(".subNav").hide(),$(".navbar li:first-child").addClass("first"),$(".navbar li:last-child").addClass("last"),$("#globalHeader_divUmbrellaNavigationBar a").filter(":first").addClass("sprite-globalHeader sprite-logo_network_small ir"),$('.navbar li a:contains("Journals")').html("Journals &gt;").removeAttr("href"),$(".microNavBar li.active").css("background-position",function(n,t){var u=t,r=parseInt($(this).width())/2-4;return u.replace("-9999px",r+"px")})}),$(window).load(function(){function n(n){var n=n?n:event?event:null,t=n.target?n.target:n.srcElement?n.srcElement:null;if(n.keyCode==13&&t.type=="text")return!1}$(".navbar ul").delegate("li","mouseenter mouseleave",function(n){n.type=="mouseenter"&&$(this).find(".subNav").fadeIn(200),n.type=="mouseleave"&&$(this).find(".subNav").fadeOut(200)}),$(".searchButton").click(function(){var n="",t="";if($("#ddlGroup").length>0?(n=$("#divtextSearch3").children("input[type=text]").val(),t=$("#ddlGroup").val()):(n=$("#txtSearchTerm").val(),t="",isSolrSearchEnabled&&(t=$("#hfSolrJournalID").val())),SearchCallbackCount!=0)return!1;if($.trim(n)==""||n==null||n=="Search The JAMA Network")return alert("Please enter a term to search"),!1;if(searchMaxAllowChars!=null&&n.length>1&&n.length>parseInt(searchMaxAllowChars))return alert("Please enter a term  1 to "+searchMaxAllowChars+" characters"),!1;isSolrSearchEnabled?autoSuggestRunning||doAMASolrSearch(n,t):doSearch(n,t,1)}),$(".searchButton3").click(function(){var n=$("#divtextSearch2").children("input[type=text]").val();if(SearchCallbackCount!=0)return!1;if($.trim(n)==""||n==null||n=="Search The JAMA Network")return alert("Please enter a term to search"),!1;if(searchMaxAllowChars!=null&&n.length>1&&n.length>parseInt(searchMaxAllowChars))return alert("Please enter a term  1 to "+searchMaxAllowChars+" characters"),!1;doGlobalSearch(n)}),document.onkeypress=n,$("#divtextSearch3").children("input[type=text]").keydown(function(n){if(n.keyCode==13){if(SearchCallbackCount!=0)return!1;var t=$("#divtextSearch3").children("input[type=text]").val(),i=$("#ddlGroup").length>0?$("#ddlGroup").val():"";if($.trim(t)==""||t==null||t=="Search The JAMA Network")return alert("Please enter a term to search"),!1;if(searchMaxAllowChars!=null&&t.length>1&&t.length>parseInt(searchMaxAllowChars))return alert("Please enter a term  1 to "+searchMaxAllowChars+" characters"),!1;isSolrSearchEnabled?autoSuggestRunning||doAMASolrSearch(t,i):doSearch(t,i,1)}}),$("#txtSearchTerm").keydown(function(n){var t,i;if(n.keyCode==13){if(t="",$("#txtSearchTerm").val()&&(t=$("#txtSearchTerm").val()),$.trim(t)==""||t==null||t=="Search The JAMA Network")return alert("Please enter a term to search"),!1;if(searchMaxAllowChars!=null&&t.length>1&&t.length>parseInt(searchMaxAllowChars))return alert("Please enter a term  1 to "+searchMaxAllowChars+" characters"),!1;if(isSolrSearchEnabled)i=$("#hfSolrJournalID").val(),autoSuggestRunning||doAMASolrSearch(t,i);else{if(SearchCallbackCount!=0)return!1;doSearch(t,"",1)}}}),$("#divtextSearch2").children("input[type=text]").keydown(function(n){if(n.keyCode==13){if(SearchCallbackCount!=0)return!1;var t=$("#divtextSearch2").children("input[type=text]").val();if($.trim(t)==""||t==null||t=="Search The JAMA Network")return alert("Please enter a term to search"),!1;if(searchMaxAllowChars!=null&&t.length>1&&t.length>parseInt(searchMaxAllowChars))return alert("Please enter a term  1 to "+searchMaxAllowChars+" characters"),!1;doGlobalSearch(t)}}),$("#txtSearchTerm").watermark()}),jQuery(function(n){function t(t,i,r){var u,f;n(t).each(function(){var r=n(this).siblings(i);n(this).click(function(u){if(u.preventDefault(),r.dialog("open"),t==".popUpTable"||t==".popUpFigure"){var o=n(this).siblings(".downloadSlide").attr("href"),e=n(this).siblings(".saveMyStuffs").clone(),f='&#160;&#124;&#160;<a href="'+o+'" class="downloadThis">Download Slide (.ppt)</a>&#160;&#124;&#160;<a class="printThis">Print</a>';r.parents(".ui-dialog").find(".ui-dialog-title").empty().append(e),r.parents(".ui-dialog").find(".ui-dialog-title").append(f)}else tt(i)})}),u={},(t==".popUpTable"||t==".popUpFigure")&&(f=n(window).height()-20,r={position:"top",modal:!1,height:f}),n.extend(u,g,r),n(i).dialog(u),n("#copyrightID").append(n(document).find("#Form1").find(".disclosures .copyrightInfo:first").clone())}function tt(t){var i=n(t).siblings(".ui-dialog-titlebar").find(".ui-dialog-title"),u,r;switch(t){case".emailPopupDialog":u="Send Email",i.empty().prepend(u);break;case".recommendDialog":r="Recommend Now",i.empty().append(r);break;case".getCitationPopupDialog":i.empty().prepend("Get Citation");break;case"searchAlertPopupDialog":i.empty().prepend("Search Alerts");break;case".alertPopupDialogCollection":case".alertPopupDialog":case"#issueAlertPopupDialog":case"#onlineFirstAlertPopupDialog":i.empty().prepend("User Alerts")}n(t).append(n(document).find("#Form1").find(".disclosures .copyrightInfo:first").clone())}function i(t){t=="MustSignInOrBuyThisArticle"&&(n("#globalSignIn11_PurchaseSubscription").show(),n("#globalSignIn11_PersonalAccountRegistration").hide()),t=="MustSignInOrRegisterForFreeAccount"&&(n("#globalSignIn11_PurchaseSubscription").hide(),n("#globalSignIn11_PersonalAccountRegistration").show()),t=="SsoUserNotLoggedIn"&&(n("#globalSignIn11_divMustSignInStatement").hide(),n("#globalSignIn11_divNoAccessStatement").show(),n("#globalSignIn11_ssoPurchaseSubscription").show(),n("#globalSignIn11_ssoPersonalAccountRegistration").show(),n("#globalSignIn11_divShouldHaveAccessStatement").hide()),t=="SsoInstitutionNoAccess"&&(n("#globalSignIn11_divMustSignInStatement").hide(),n("#globalSignIn11_divNoAccessStatement").show(),n("#globalSignIn11_ssoPurchaseSubscription").show(),n("#globalSignIn11_ssoPersonalAccountRegistration").show(),n("#globalSignIn11_divShouldHaveAccessStatement").hide()),t=="SsoFullAuthenticatedNoAccess"&&(n("#globalSignIn11_divMustSignInStatement").hide(),n("#globalSignIn11_divNoAccessStatement").show(),n("#globalSignIn11_ssoPurchaseSubscription").show(),n("#globalSignIn11_ssoPersonalAccountRegistration").hide(),n("#globalSignIn11_divShouldHaveAccessStatement").show()),$signInDialog.parent().appendTo(n("#Form1")),$signInDialog.dialog("open")}function c(t,i,r,u){var h=n(t).parents(i).find(r).clone(),u=u==undefined?!0:u,s=n(".contentHeaderContainer").clone(),o=n(s).children(".journalName").text(),e=n(".pageContentHolder").find(".wrapper").attr("class"),f="";return f+=nt(o,e),f+=d(o,s),f+=it(u,h,e),f+=k(t,e)}function nt(n,t){var i="";return i+='<link href="CSS/global.css" type="text/css" rel="stylesheet"/>',n=="PN"?(i+='<link href="CSS/newsArticle.css" type="text/css" rel="stylesheet"/>',i+='<link href="CSS/PN/pn.news.print.css" type="text/css" rel="stylesheet"/>'):(i+='<link href="CSS/content.css" type="text/css" rel="stylesheet"/>',i+='<link href="CSS/content/content.print.css" type="text/css" rel="stylesheet"/>',i+='<link href="CSS/plugins/scm6.popUpDialog.css" type="text/css" rel="stylesheet"/>'),i+='<script type="text/javascript" language="javascript" src="JS/ads.js"><\/script>',i+='</head><body><div class="printPage"/>',t=="wrapper articlePage"&&(i+='<div id="printHeader"><img src="/images/masthead_print_'+n+'.jpg" alt="" /></div>'),t=="wrapper contentPage"&&(i+='<div id="printHeader"><img src="/images/masthead_print_POL.gif" alt="" /></div>'),i+='<div class="clearAll"></div>'}function d(t,i){var u="",f="720",r=n(i).children(".contentSection").clone();return u+=n('<div id="printPage"/>').append(r).html(),r=n(i).find(".aTitle").clone(),n(r).css({float:"none",width:f}),u+=n('<div id="printPage"/>').append(r).html(),r=n(i).children(".authorSectionBold").clone(),u+=n('<div id="printPage"/>').append(r).html(),r=n(i).children(".authorSection").clone(),u+=n('<div id="printPage"/>').append(r).html(),r=n(".disclosureText .auhtorAff").clone().css("border","none"),u+=n('<div id="printPage"/>').append(r).append("<br/>").html(),r=n(i).find(".aShortDesc").clone(),u+=n('<div id="printPage"/>').append(r).append("<br/>").html()}function it(t,i,r){var c=n(i).find("#tab1").clone(),s=n(i).find("#tab9").find(".comments").clone(),e=0,o=n(".ui-dialog").find(".tableDialog"),f="",h=n(".abstract-teaser").clone();return f+=n('<div id="printPage"/>').append(h).html(),t?(n(c).find(".contentSectionTab").each(function(){var t=n(this).find(".contentJump").find("h2").clone();f+=n('<div id="printPage"/>').append(t).html(),n(this).find(".contentBody").each(function(){var s=n(this).children(),t=n(this).attr("class"),i;t=="contentBody figureSection"||t=="contentBody tableSection"?(i=u(this,t,o,e),f+=n('<div id="printPage"/>').append("<p/>").append(i).html(),t=="contentBody tableSection"&&e++):t=="contentBody newsFigureSection"?f+=n('<div id="printPage"/>').append(n(this).clone()).html():n(s).each(function(){var t=n(this).attr("class"),i=u(this,t,o,e);f+=n('<div id="printPage"/>').append("<p/>").append(i).html(),t=="contentBody tableSection"&&e++}),r=="wrapper contentPage"&&n(this).find(".contentSection").each(function(){var r=n(this).children(),i,t;n(r).attr("class")=="para"?(i=n(this).attr("class"),t=u(this,i,o,e),f+=n('<div id="printPage"/>').append("<p/>").append(t).html()):n(r).each(function(){var t=n(this).attr("class"),i=u(this,t,o,e);f+=n('<div id="printPage"/>').append("<p/>").append(i).html(),t=="contentBody tableSection"&&e++})})})}),n(s)[0]!=undefined&&n.trim(n(s)[0].innerHTML)!=""&&(f+="<h2>User Comments</h2>",f+=n('<div id="printPage"/>').append(s).html())):f+=n('<div id="printPage"/>').append(i.css("height","auto")).html(),f}function u(t,i,r,u){var f,e;return i=="contentBody figureSection"?(f=n('<div id="printPage"/>').append("<p/>").append(n(t).find(".inlineFigure").children(".figureLabel").clone()).html(),f+=n('<div id="printPage"/>').append(n(t).find(".inlineFigure").children(".figureLegend").clone()).html(),f+=n('<div id="printPage"/>').append("<p/>").append(n(t).find(".contentFigures").clone()).html()):i=="contentBody tableSection"?(e=n(r)[u].innerHTML,f=n(e).clone()):f=n(t).clone(),f.find("comment").remove(),f}function k(t){var r="",f=(new Date).getFullYear(),u=n(t).parents("#Form1").siblings().find(".disclosureText .copyrightInfo:first");return r+=u.length==0?'<div class="copyrightInfo">Copyright ©'+f+" American Medical Association </div>":n('<div id="printPage"/>').append(u).html(),r+='<div class="clearAll"></div>'}function a(t){var f=760,u=400,e=screen.width/2-f/2,o=screen.height/2-u/2,r=window.open("","Table","width="+f+", height="+u+", scrollbars=1, resizable=1, top="+o+", left="+e);r.document.open(),r.document.write(t),r.document.close(),r.print(),!n.browser.webkit}var g={autoOpen:!1,width:970,closeText:"X Close",modal:!0,zIndex:9999},e,y,s,f,o,r;n(".printThis").live("click",function(n){n.preventDefault();var t=c(this,".ui-dialog",".ui-dialog-content",!1);a(t,!0)}),t(".popUpTable",".tableDialog",{modal:!1}),t(".popUpFigure",".figureDialog",{modal:!1}),n("#tab3").find(".popUpFigure").length?t(".popUpFigure",".figureDialog",{modal:!1}):n("#showImageCarousel").length&&(e=n(".rotatorFigLink"),y=e.length,e.each(function(){n(this).siblings(".rotatorFigLinkDialog").prepend("<br /><br />").prepend(n("img",this).clone()),--y||t(".rotatorFigLink",".rotatorFigLinkDialog")})),t(".recommendThis",".recommendDialog",{open:function(){n(".recommendDialog").css("height","450px")}}),n(".editPasswordButton").click(function(){n(".editPasswordDialog").dialog({width:400,open:function(){n(".editPasswordDialog").css("height","auto"),n(".cancelButton").live("click",function(){n(this).dialog("close")})},buttons:{"Edit Password":function(){n("#<%=btnUpdatePassword.ClientID%>").attr()},Cancel:function(){n(this).dialog("close")}},modal:!0,overlay:{opacity:.7,background:"gray"}})}),s=!1,n(".showSearchAlerts").click(function(){if(s=n("#hfSearchAlerts").val()=="1"?!0:!1,s){t(".showSearchAlerts",".searchAlertPopupDialog",{open:function(){n("#progressBar").hide()}});var i=n("#txtSearchTerm").val(),f='<a class="linkBold" href="../account/myalerts.aspx"  target="_self">My Stuff</a>',u="Please confirm your email address is correct so you can be alerted when the search results for "+i+" has been updated. Click on "+f+" to manage all of your alerts.",r=n("#searchword").val();i==r,n(".searchAlertPopupDialog").children(".userAlertEmailConfirmation").show(),n(".searchAlertPopupDialog").children(".alertPopupMessage").html(u)}}),f=!1,o=!1,f=n("#hfAlerts").val()=="1"?!0:!1,f?t(".showAlerts",".alertPopupDialog",{open:function(){n(".alertPopupDialog").css({"min-height":"200px","min-width":"400px",height:"auto",width:"auto"}),n("#progressBar").hide()}}):n(".showAlerts").click(function(){var t=n("#hfAlerts").val();t=="MustSignInOrRegisterForFreeAccount"&&n(".purchaseSubscription").show(),i(t)}),o=n("#hfOnlineFirstAlerts").val()=="1"?!0:!1,o?t(".showOnlineFirstAlerts",".alertPopupDialog",{open:function(){n(".alertPopupDialog").css({"min-height":"200px","min-width":"400px",height:"auto",width:"auto"}),n("#progressBar").hide()}}):n(".showOnlineFirstAlerts").click(function(){var t=n("#hfOnlineFirstAlerts").val();i(t)});var p=!1,w=!1,l=!1,s=!1,b=!1,v=!1,h=!1;p=n("#hfGetCitation").val()=="1"?!0:!1,p?t(".getCitation",".getCitationPopupDialog",{width:300,open:function(){n(".getCitationPopupDialog").css({height:"auto"})}}):n(".getCitation").click(function(){var t=n("#hfGetCitation").val();i(t)}),w=n("#hfEmail").val()=="1"?!0:!1,w?t(".sendEmail",".emailPopupDialog",{open:function(){n(this).parent().appendTo("form"),n(".emailPopupDialog").css("height","490px");var t=n(this);n(".closeDialog",this).live("click",function(n){n.preventDefault(),t.dialog("close")})},close:function(){resetEmailConfirmation()}}):n(".sendEmail").click(function(){var t=n("#hfEmail").val();i(t)}),l=n("#hfShareThis").val()=="1"?!0:!1,l||n(".shareThis").click(function(){var t=n("#hfShareThis").val();i(t)}),b=n("#hfDataSupplement").val()=="1"?!0:!1,articleId=n("#hfArticleId").val(),b?t(".dataSupplementLink",".dataSupplementDialog",{open:function(){n(this).parent().appendTo("form"),n(".dataSupplementDialog").css("height","auto");var t=n(this);n(".closeDialog",this).live("click",function(n){n.preventDefault(),t.dialog("close")})}}):n(".dataSupplementLink").click(function(){var t=n("#hfDataSupplement").val();i(t)}),v=n("#hfSlideset").val()=="1"?!0:!1,v||n(".slideset").click(function(){var t=n("#hfSlideset").val();i(t)}),h=n("#hfPDFDownload").val()=="1"?!0:!1,h||n(".linkPDF").click(function(){var t=n("#hfPDFDownload").val();return i(t),!1}),n(".printArticle").click(function(){var r,t;printableView=n("#hfPrintableView").val()=="1"?!0:!1,printableView?(n("div.contentContainer").hide(),n(".tabNav div a").removeClass("selected"),n(".tabNav .atab:nth-child(1) a").addClass("selected").show(),n("#tab1").show(),r=c(this,".mainContainer",".contentBodyContainer"),a(r,!1)):(t=n("#hfArticlePrintableView").val(),i(t))}),r=!0,n("#committment").live("click",function(t){t.preventDefault(),n("#committmentDialog").dialog({closeText:"X Close",close:function(){r&&n("#txtCommittmentChanges").val(" ")},width:735,height:425,title:"Commitment to Change",modal:!0,overlay:{opacity:.7,background:"gray"}}),n("#committmentDialog").parent().appendTo(n("#Form1"))}),n("#submit").live("click",function(){r=!1,n("#committmentDialog").dialog("close")}),n("#cancel").live("click",function(){r=!0,n("#txtCommittmentChanges").val(" "),n("#committmentDialog").dialog("close")})});var SMActionItemType='{ "0" : "WidgetPanelExpanded" , "1" : "WidgetPanelCollasped"}',ActionURL=location.href,asyncTracking=!0;UserTracking.prototype.toJson=function(){return JSON.stringify(this)},String.prototype.format=function(){for(var t=this,n=arguments.length;n--;)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n]);return t},JumpId="",$(document).ready(function(){var t,n;$(".contentSectionTab").find(".PubHistory")&&(t=$(".contentSectionTab").find(".PubHistory"),$(t).parents(".contentSectionTab").hide()),$(".crsRef").click(function(){var t=$(this).context.innerText,n="CrossReferenceLink";this.UserSessionItem=new UserSessionItem("<%=Me.Session.SessionID %>",0,0),this.ActionType=new ActionType(1,n),doTracking(this.ActionType,t.toString(),"<%=System.DateTime.Now %>",this.UserSessionItem,window.location.toString())}),$(".pubmedLink").click(function(){var t=$(this).attr("href"),n="CrossReferenceLink";this.UserSessionItem=new UserSessionItem("<%=Me.Session.SessionID %>",0,0),this.ActionType=new ActionType(1,n),doTracking(this.ActionType,t.toString(),"<%=System.DateTime.Now %>",this.UserSessionItem,window.location.toString())}),$("#txtUserAlertEmailAddress").val($("#hfOriginalEmailAddress").val()),n=$.browser,n.mozilla&&parseInt(n.version)<2&&$(".saveMyStuff").click(function(){var n=this.id;AddItemstoMyStuff(n)})}),MyResource.prototype.toJson=function(){return JSON.stringify(this)},$(window).load(function(){(function(){if(typeof $.url()){var n=m=$.url().data.attr.host.split(".").reverse().slice(0,2).join();$("a[href^='http://']").filter(function(){var t=$.url($(this).attr("href")).data.attr.host.split(".").reverse().slice(0,2).join();return n!=t}).each(function(){var n=!1;$(this).text()=="Journals >"||$(this).attr("href")=="#"?($(this).removeAttr("href").css("cursor","arrow"),n=!0):($(this).text()=="Share"||$(this).hasClass("addthis_button_compact "))&&(n=!0),$(this).click(function(t){t.preventDefault(),t.stopPropagation(),n==!1&&window.open(this.href,"new")}).addClass("externalLink")})}})()}),$(document).ready(function(){setFavicon()});var solrURL="/solr/SolrJournalAutoSuggest",siteRootUrl=window.location.protocol+"//"+window.location.host,minCharsRequiredForAutoSuggest=$("#hfSolrAutoSuggestMinimumCharactersLength").val();AutoCompleteWidget.prototype={solrUrl:solrURL,baseURL:siteRootUrl,inputTerms:!1,termsArray:!1,baseTerms:!1,terms:!1,results:[],selectedResult:-1,contentID:!1,isSearching:!1,noResultsFound:!1},AutoCompleteWidget.prototype.filterSuggestions=function(){this.selectedResult=-1,this.inputTerms.length>=minCharsRequiredForAutoSuggest&&this.getSuggestions()},AutoCompleteWidget.prototype.evaluateTerms=function(){if(this.resetSelection(),this.inputTerms=this.searchInputControlId.value.toLowerCase(),this.inputTerms.length===0){this.noResultsFound=!1,this.isSearching=!1,this.resetAutoComplete();return}this.inputTerms.length>=minCharsRequiredForAutoSuggest&&(this.results.length===0||this.results[0].value.indexOf(this.inputTerms)===-1)&&!this.noResultsFound&&!this.isSearching&&this.getSuggestions(),(this.terms.length<=1||this.searchInputControlId.value!==this.inputTerms)&&this.clearHint()},AutoCompleteWidget.prototype.getJournalURL=function(n,t,i){return"fd_JournalID="+this.getJournalID()+"&f_JournalDisplayName="+encodeURIComponent(t.trim())+i},AutoCompleteWidget.prototype.getJournalParams=function(){var t="&SearchSourceType=24",n;return this.siteFilterDropDownSelectID&&this.contentID?(n=$("#"+this.siteFilterDropDownSelectID.id+" option:selected").text(),this.getJournalURL(this.contentID,n,t)):this.isMicrosite&&this.contentID?(n=$("#hfSolrJournalName").val(),this.getJournalURL(this.contentID,n,t)):"allJournals=1"+t},AutoCompleteWidget.prototype.getJournalID=function(){var n=this.contentID;return n&&n.toLowerCase().substring(0,1)==="j"&&(n=n.substring(1)),n},AutoCompleteWidget.prototype.getJournalJID=function(){var t=!1,n;return this.isMicrosite&&$("#hfSolrJournalID").val()&&(t=$("#hfSolrJournalID").val()),this.siteFilterDropDownSelectID&&(n=$(this.siteFilterDropDownSelectID,"option:selected").attr("value"),n.indexOf("*")===-1&&(t=n)),t},AutoCompleteWidget.prototype.getSuggestions=function(){var n=this;n.contentID=n.getJournalJID(),n.isSearching=!0,$.ajax({url:n.solrUrl,data:n.isMicrosite||n.contentID?{searchTerm:n.inputTerms,JournalID:n.getJournalID()}:{searchTerm:n.inputTerms},success:function(t){var i=t.SemanticFilterTopics;n.isSearching=!1,i.length>0?n.formatSuggestions(i):(n.noResultsFound=!0,n.resetAutoComplete())},cache:!0})},AutoCompleteWidget.prototype.formatSuggestions=function(n){var i=n,t,r;if(this.results=[],i.length>0)if(this.inputTerms&&i[0].Key.indexOf(this.inputTerms)!==-1){for(t=0;t<i.length;t+=1)r={value:i[t].Key,url:this.baseURL+"/solr/searchresults.aspx?q="+encodeURIComponent(i[t].Key)+"&"+this.getJournalParams(),position:"sr"+this.autoCompleteResultsControlId.id+(t+1)},this.results.push(r);this.setHint(i[0].Key),this.appendResults()}else this.noResultsFound||this.inputTerms||this.getSuggestions();else this.resetAutoComplete()},AutoCompleteWidget.prototype.setHint=function(n){this.searchInputControlId.value===this.inputTerms&&(this.searchInputHintControlId.value=n)},AutoCompleteWidget.prototype.clearHint=function(){this.searchInputHintControlId.value=""},AutoCompleteWidget.prototype.appendResults=function(){var r="",n,t,i;for(this.autoCompleteResultsControlId.className!=="term-list"&&(this.autoCompleteResultsControlId.className="term-list"),n=0;n<this.results.length;n++)t=this.results[n],i='<li><a href="'+t.url+'" id="'+t.position+'">'+this.results[n].value+"</a></li>",r+=i;this.autoCompleteResultsControlId.innerHTML=r},AutoCompleteWidget.prototype.resetResultsList=function(){this.autoCompleteResultsControlId.innerHTML="",this.autoCompleteResultsControlId.className="term-list hidden"},AutoCompleteWidget.prototype.resetSelection=function(){var n=this.selectedResult!==-1?this.results[this.selectedResult].position:!1;n?$("#"+n).removeClass("active"):!1,this.selectedResult=-1},AutoCompleteWidget.prototype.resetAutoComplete=function(){this.resetResultsList(),this.results=[],this.clearHint()},AutoCompleteWidget.prototype.completeTerms=function(){var i=this.searchInputControlId.selectionStart,n=this.searchInputControlId.selectionEnd,t=i===n&&n===this.inputTerms.length?!0:!1;t&&this.results&&this.results.length>0&&(this.searchInputControlId.value=this.results[0].value,this.evaluateTerms())},AutoCompleteWidget.prototype.navigateResults=function(n){var i=this.selectedResult+n,t;oldResultId=this.selectedResult!==-1?this.results[this.selectedResult].position:!1,i<this.results.length&&i>-1?(t=this.results[i].position,oldResultId?$("#"+oldResultId).removeClass("active"):!1,$("#"+t).addClass("active"),this.selectedResult+=n):!oldResultId&&this.results.length>0?(t=this.results[this.results.length-1].position,$("#"+t).addClass("active"),this.selectedResult=this.results.length-1):this.resetSelection()},AutoCompleteWidget.prototype.keyFunctions=function(n,t){if((t===39||t===9)&&(n.preventDefault(),this.completeTerms()),t===38&&(n.preventDefault(),this.navigateResults(-1)),t===40&&(n.preventDefault(),this.navigateResults(1)),t===13&&this.selectedResult>-1){n.preventDefault();var i=$("#"+this.autoCompleteResultsControlId.id+" .active").attr("href");autoSuggestRunning!==undefined&&autoSuggestRunning!==null&&i!==undefined&&(this.searchInputControlId.value=$("#"+this.autoCompleteResultsControlId.id+" .active").text(),this.searchInputHintControlId.value=$("#"+this.autoCompleteResultsControlId.id+" .active").text(),autoSuggestRunning=!0,window.location=i)}},AutoCompleteWidget.prototype.interceptKeys=function(n){var t=this.searchInputControlId.value.toLowerCase();t.length<=255&&this.keyFunctions(n,n.keyCode)};var mainSiteAutoCompleteSuggest=null,mainSiteAutoCompleteSuggest=null,microSiteAutoCompleteSuggest=null;$.browser.msie&&$.browser.version==="8.0"?($("#umbrellaSiteSearchInputHint").hide(),$("#topNavSearchInputHint").hide(),$("#microSiteSearchInputHint").hide(),$("#umbrellaSiteAutoCompleteResults").hide(),$("#topNavSearchAutoCompleteResults").hide(),$("#microSiteAutoCompleteResults").hide()):(mainSiteAutoCompleteSuggest=new AutoCompleteWidget("txtSearchTerm3","umbrellaSiteSearchInputHint","umbrellaSiteAutoCompleteResults",!1,"ddlGroup"),mainSiteAutoCompleteSuggest=new AutoCompleteWidget("txtSearchTerm2","topNavSearchInputHint","topNavSearchAutoCompleteResults",!1,null),microSiteAutoCompleteSuggest=new AutoCompleteWidget("txtSearchTerm","microSiteSearchInputHint","microSiteAutoCompleteResults",!0,null)),xmlScrollView=function(){this.outputElement="",this.output="",this.wrappers=[],this.tags=[],this.tagValues=[],this.conditionals=[],this.items=[],this.itemRoot="",this.queryString=[],this.topPadding=!0,this.bottomPadding=!0,this.limit=!1,this.scroll=!0,this.scrollDelay=25,this.scrollBalancer=!1,this.scrollIntermittent=!1,this.outputFromJSXMLProxy=function(n,t){var f=document.getElementsByTagName("head").item(0),i=document.createElement("script"),r,u;i.type="text/javascript",i.src=t,f.appendChild(i),r=this,u=function(){r.outputFromString(eval(n))},window.onload=u},this.outputFromString=function(n){if(window.ActiveXObject)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=!1,this.xmlDoc.loadXML(n);else{var t=new DOMParser;this.xmlDoc=t.parseFromString(n,"text/xml")}this.doOutput()},this.outputFromPath=function(n){for(i=0;i<this.queryString.length;i++)n.search(/\?/)==-1&&(n+="?"),value=this.getUrlValue(this.queryString[i]),value!=""&&(n+="&"+this.queryString[i+1]+"="+value),i++;if(document.implementation&&document.implementation.createDocument)this.xmlDoc=document.implementation.createDocument("","",null);else if(window.ActiveXObject)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");else return!1;this.xmlDoc.async=!1,this.xmlDoc.load(n),this.doOutput()},this.doOutput=function(){this.build(this.xmlDoc.documentElement),this.parse(),this.write(),this.scroll&&this.initScroll()},this.build=function(n){if(n.tagName==this.itemRoot){if(this.limit&&this.items.length===this.limit)return;this.items[this.items.length]=n.tagName}else this.array_key_exists(n.tagName,this.tags)&&(this.tagValues[n.tagName][this.tagValues[n.tagName].length]=n.childNodes[0]&&n.childNodes[0].nodeValue?n.childNodes[0].nodeValue:"");for(var t=0;t<n.childNodes.length;t++)this.build(n.childNodes[t])},this.parse=function(){var n,t,r;for(i=0;i<this.items.length;i++){if(this.wrappers.length)for(position in this.wrappers)i!=0&&i%position==0&&this.wrappers[position][3]==i-position&&(this.output+=this.wrappers[position][1]),(i%position==0||position===0)&&(this.output+=this.wrappers[position][0],this.wrappers[position][3]=i);for(keyVar in this.items){n=this.template;for(varKey in this.tags)this.tags.hasOwnProperty(varKey)&&(t=this.tagValues[varKey][i],this.array_key_exists(varKey,this.conditionals)&&this.trim(this.tagValues[varKey][i])!=""&&(t=this.conditionals[varKey][0]+t+this.conditionals[varKey][1]),r=new RegExp(this.tags[varKey],"g"),n=n.replace(r,t))}i===0&&this.scrollIntermittent&&(this.scrollBalancer=n),this.output+=n}if(this.wrappers.length)for(position in this.wrappers)this.output+=this.wrappers[position][1]},this.write=function(){this.topPadding&&(this.output='<div style="height:'+this.outputElement.style.height+';"></div>'+this.output),this.bottomPadding&&(this.output+='<div style="height:'+this.outputElement.style.height+';"></div>'),this.scrollIntermittent&&(this.output+=this.scrollBalancer),this.outputElement.innerHTML=this.output},this.setOutPutElement=function(n){this.outputElement=document.getElementById(n),this.outputElementId=n},this.setTemplate=function(n){this.template=n},this.setItemRoot=function(n){this.itemRoot=n},this.declareVariable=function(n,t){this.tags[n]=t,this.tagValues[n]=[]},this.declareConditionalVariable=function(n,t,i,r){this.tags[n]=t,this.tagValues[n]=[],this.conditionals[n]=[i,r]},this.addWrapper=function(n,t,i){this.wrappers[n]=[t,i,0]},this.setLimit=function(n){this.limit=n},this.initScroll=function(){this.scroller=new scroller,this.scroller.setElementId(this.outputElementId),this.scroller.setScrollDelay(this.scrollDelay),this.scroller.setPauseDelay(this.scrollIntermittent),this.scrollIntermittent?this.scroller.startIntermittent(this.scrollIntermittent):this.scroller.startScroll()},this.setScrollIntermittent=function(n){this.scrollIntermittent=n*1e3,this.disablePadding()},this.setScrollDelay=function(n){this.scrollDelay=n},this.disableScroll=function(){this.scroll=!1,this.disablePadding()},this.disablePadding=function(){this.topPadding=!1,this.bottomPadding=!1},this.disableTopPadding=function(){this.topPadding=!1},this.disableBottomPadding=function(){this.bottomPadding=!1},this.addQueryStringMap=function(n,t){this.queryString[this.queryString.length]=n,this.queryString[this.queryString.length]=t},this.array_key_exists=function(n,t){for(keyVar in t)if(keyVar===n)return!0;return!1},this.trim=function(n){return n?n.replace(/^\s+|\s+$/g,""):""},this.getUrlValue=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":t[1]}},scroller=function(){this.element="",this.elementHeight="",this.scrollDelay=25,this.pauseDelay=5e3,this.setupDelayOne=!1,this.setupDelayOTwo=!1,this.scrollInterval=null,this.pauseInterval=null,this.init=function(n,t,i){this.setElementId(n),this.setScrollDelay(t),this.setPauseDelay(i*1e3)},this.setElementId=function(n){this.element=document.getElementById(n),this.elementHeight=parseInt(this.element.style.height)},this.setScrollDelay=function(n){this.scrollDelay=n},this.setPauseDelay=function(n){var t=this.elementHeight*this.scrollDelay;this.pauseDelay=n+t},this.startIntermittent=function(n){element=this.element,elementHight=this.elementHeight,scrollDelay=this.scrollDelay,n?(instance=this,this.element.scrollTop=0,this.setupDelayOne=setTimeout("moveTheFrame(element, elementHight, scrollDelay)",n),this.setupDelayTwo=setTimeout("instance.startIntermittent()",n)):this.pauseInterval=window.setInterval("moveTheFrame(element, elementHight, scrollDelay)",this.pauseDelay)},this.stopIntermittent=function(){(this.setupDelayOne||this.setupDelayTwo)&&(clearTimeout(this.setupDelayOne),clearTimeout(this.setupDelayTwo)),clearInterval(this.pauseInterval)},this.startScroll=function(){element=this.element,elementHight=this.elementHeight,this.scrollInterval=window.setInterval("scrollTheFrame(element, elementHight)",this.scrollDelay)},this.stopScroll=function(){clearInterval(this.scrollInterval)}},xmlString='<JobSearchResults LookID="ama">  <!-- Served from qs-b-01.oc.careercast.com -->  <QueryString>clientid=ama&amp;stringVar=xmlString&amp;pageSize=2&amp;outFormat=jsxml</QueryString>  <Jobs>        <Job>         <JobID>60713972</JobID>         <Title>Emergency Medicine Physician</Title>         <Employer>North Shore-LIJ Health System         </Employer>         <Location>Bay Shore, NY</Location>         <Description><![CDATA[North Shore-LIJ is currently seeking a BC/BE Emergency Medicine trained physician to join our team at Southside Hospital.    Southside Hospital is a 341-bed tertiary hospital that offers centers of excellence in cardiology, orthopedics, neurosciences. as well as womens health services. Southside also offers quality outpatient care in emergency medicine, radiation oncology, wound healing, pain management and outpatient imaging. We are also a State-designated stroke center and a Level II trauma center.    Celebrating 100 years of caring for our community, Southside Hospital, founded in 1911, is Suffolk Countys newest tertiary hospital. Since its first days. Southsides mission has been to provide expert, compassionate medical care to anyone in need. From its modest 21-bed beginnings, Southside grew and thrived as Long Island expanded, adding beds, services, staff and training programs. Today, the hospital has 341 beds and offers quality care in medicine, surgery, obstetrics, orthopedics, rehabilitation, cardiology amd neurosciences. More than 18,500 patients are admitted to the hospital each year, and 2,700 babies start life in our Maternity Center.        In 2010 the New York State Department of Health granted Southside a Certificate of Need to perform full-scale open-heart surgeries due to the volume of referrals coming to North Shore-LIJ in Nassau County from neighboring Suffolk County. In February 2010, the Cardiovascular and Thoracic Surgery Departments were launched at Southside.        Southside Hospital will transform its campus over the next several years to create a facility commensurate with the medical excellence it provides. With an investment well in excess of $350 million, the impact of the new facility will be substantial. The hospital will triple the size of its emergency department, which currently undertakes 70,000 annual visits in a footprint designed for 18,000; it will add a 125,000-square-foot medical office building, create a new patient tower and add a multi-story parking garage. The footprint of the hospital will change, with primary access shifting from Main Street to Union Boulevard. The Main Street side of the building will feature a beautiful garden, strategically located to provide an exceptional campus view.        Southside has come a long way since its humble beginnings on Cooper and George Streets. With its extensive array of services - cardiac, trauma, neuroscience and orthopedic expertise - it is well positioned to remain at the forefront of quality healthcare for its second century of service.      Bay Shore is on the South Shore of Long Island and sits right on the Great South Bay. Take a walk down by the Marina, go for a boat ride on the Great South Bay, fish in the Atlantic Ocean, take a stroll down historic Main Street, or go surfing off of Fire Island. When you are in a City mood, you can catch the commuter train to NYC and within 75 minutes you can catch a Broadway Show, visit a museum, listen to music at Lincoln Center or shop in Soho or along Madison Avenue.    We offer a competitive salary and benefits package.    EOE    Qualifications    BC/BE Emergency Medicine    Job: Emergency Medicine  Primary Location: Southside Hospital -- Bay Shore  Organization: NS - LIJ Medical Group Southside  Schedule: Full Time Just click Apply!  Please apply at: www.nslijphysiciancareers.com - Laura Screeney, FASPR, Corporate Director of Physician Recruitment, toll free: 888 - 685 - 7545   EOE M/F/D/V]\]></Description>         <LookID>ama</LookID>         <Url>http://jama.careers.adicio.com/careers/jobsearch/detail/jobId/60713972/viewType/featured</Url>      </Job>        <Job>         <JobID>62188136</JobID>         <Title>DERMATOLOGIST</Title>         <Employer>SCS         </Employer>         <Location>Atlanta, GA</Location>         <Description><![CDATA[Job Title: Dermatologist    Company: SCS  Location: Atlanta, Georgia  Full Time/Part Time: Either  Permanent/Temporary: Regular  Employment/Contract Work: Employment    Job Description    Growing practice in Metro Atlanta seeking full or part-time BE/BC Dermatologist. Competitive Salary and Benefits. If interested, please email mchastain4@gmail.com or fax to 404-841-9988.]\]></Description>         <LookID>ama</LookID>         <Url>http://jama.careers.adicio.com/careers/jobsearch/detail/jobId/62188136/viewType/featured</Url>      </Job>    </Jobs></JobSearchResults>'